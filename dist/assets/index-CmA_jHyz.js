var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var S={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function re(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function ie(e,t){return re(e.type,t,e.props)}function ae(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function oe(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var se=/\/+/g;function ce(e,t){return typeof e==`object`&&e&&e.key!=null?oe(``+e.key):t.toString(36)}function le(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(te,te):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ue(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ue(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ce(e,0):a,ee(o)?(i=``,c!=null&&(i=c.replace(se,`$&/`)+`/`),ue(o,r,i,``,function(e){return e})):o!=null&&(ae(o)&&(o=ie(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(se,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(ee(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ce(a,u),c+=ue(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ce(a,u++),c+=ue(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ue(le(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function de(e,t,n){if(e==null)return e;var r=[],i=0;return ue(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function fe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var C=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},w={map:de,forEach:function(e,t,n){de(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return de(e,function(){t++}),t},toArray:function(e){return de(e,function(e){return e})||[]},only:function(e){if(!ae(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=w,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!ne.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return re(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)ne.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return re(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ae,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:fe}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(te,C)}catch(e){C(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),S.T=t}},e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},e.use=function(e){return S.H.use(e)},e.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},e.useCallback=function(e,t){return S.H.useCallback(e,t)},e.useContext=function(e){return S.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return S.H.useEffect(e,t)},e.useEffectEvent=function(e){return S.H.useEffectEvent(e)},e.useId=function(){return S.H.useId()},e.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return S.H.useMemo(e,t)},e.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},e.useRef=function(e){return S.H.useRef(e)},e.useState=function(e){return S.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return S.H.useTransition()},e.version=`19.2.4`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,ee||(ee=!0,ae());else{var t=n(l);t!==null&&ce(x,t.startTime-e)}}var ee=!1,te=-1,S=5,ne=-1;function re(){return g?!0:!(e.unstable_now()-ne<S)}function ie(){if(g=!1,ee){var t=e.unstable_now();ne=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(te),te=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&re());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ce(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ae():ee=!1}}}var ae;if(typeof y==`function`)ae=function(){y(ie)};else if(typeof MessageChannel<`u`){var oe=new MessageChannel,se=oe.port2;oe.port1.onmessage=ie,ae=function(){se.postMessage(null)}}else ae=function(){_(ie,0)};function ce(t,n){te=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(te),te=-1):h=!0,ce(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,ee||(ee=!0,ae()))),r},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),ee=Symbol.for(`react.consumer`),te=Symbol.for(`react.context`),S=Symbol.for(`react.forward_ref`),ne=Symbol.for(`react.suspense`),re=Symbol.for(`react.suspense_list`),ie=Symbol.for(`react.memo`),ae=Symbol.for(`react.lazy`),oe=Symbol.for(`react.activity`),se=Symbol.for(`react.memo_cache_sentinel`),ce=Symbol.iterator;function le(e){return typeof e!=`object`||!e?null:(e=ce&&e[ce]||e[`@@iterator`],typeof e==`function`?e:null)}var ue=Symbol.for(`react.client.reference`);function de(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case ne:return`Suspense`;case re:return`SuspenseList`;case oe:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case te:return e.displayName||`Context`;case ee:return(e._context.displayName||`Context`)+`.Consumer`;case S:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case ie:return t=e.displayName||null,t===null?de(e.type)||`Memo`:t;case ae:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var fe=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},me=[],he=-1;function ge(e){return{current:e}}function _e(e){0>he||(e.current=me[he],me[he]=null,he--)}function T(e,t){he++,me[he]=e.current,e.current=t}var ve=ge(null),ye=ge(null),be=ge(null),xe=ge(null);function Se(e,t){switch(T(be,t),T(ye,e),T(ve,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ud(t),e=Wd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}_e(ve),T(ve,e)}function Ce(){_e(ve),_e(ye),_e(be)}function we(e){e.memoizedState!==null&&T(xe,e);var t=ve.current,n=Wd(t,e.type);t!==n&&(T(ye,e),T(ve,n))}function Te(e){ye.current===e&&(_e(ve),_e(ye)),xe.current===e&&(_e(xe),ep._currentValue=pe)}var Ee,De;function Oe(e){if(Ee===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ee=t&&t[1]||``,De=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Ee+e+De}var ke=!1;function Ae(e,t){if(!e||ke)return``;ke=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ke=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Oe(n):``}function je(e,t){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe(`Lazy`);case 13:return e.child!==t&&t!==null?Oe(`Suspense Fallback`):Oe(`Suspense`);case 19:return Oe(`SuspenseList`);case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return Oe(`Activity`);default:return``}}function Me(e){try{var t=``,n=null;do t+=je(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ne=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,Ie=t.unstable_shouldYield,Le=t.unstable_requestPaint,Re=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,Ue=t.unstable_LowPriority,We=t.unstable_IdlePriority,Ge=t.log,Ke=t.unstable_setDisableYieldValue,qe=null,Je=null;function Ye(e){if(typeof Ge==`function`&&Ke(e),Je&&typeof Je.setStrictMode==`function`)try{Je.setStrictMode(qe,e)}catch{}}var Xe=Math.clz32?Math.clz32:$e,Ze=Math.log,Qe=Math.LN2;function $e(e){return e>>>=0,e===0?32:31-(Ze(e)/Qe|0)|0}var et=256,tt=262144,nt=4194304;function rt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function it(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=rt(n))):i=rt(o):i=rt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=rt(n))):i=rt(o)):i=rt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function at(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ot(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var e=nt;return nt<<=1,!(nt&62914560)&&(nt=4194304),e}function ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ut(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Xe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&dt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function dt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Xe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function pt(e,t){var n=t&-t;return n=n&42?1:mt(n),(n&(e.suspendedLanes|t))===0?n:0}function mt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ht(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function gt(){var e=w.p;return e===0?(e=window.event,e===void 0?32:gp(e.type)):e}function _t(e,t){var n=w.p;try{return w.p=e,t()}finally{w.p=n}}var vt=Math.random().toString(36).slice(2),yt=`__reactFiber$`+vt,bt=`__reactProps$`+vt,xt=`__reactContainer$`+vt,St=`__reactEvents$`+vt,Ct=`__reactListeners$`+vt,wt=`__reactHandles$`+vt,Tt=`__reactResources$`+vt,Et=`__reactMarker$`+vt;function Dt(e){delete e[yt],delete e[bt],delete e[St],delete e[Ct],delete e[wt]}function Ot(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pf(e);e!==null;){if(n=e[yt])return n;e=pf(e)}return t}e=n,n=e.parentNode}return null}function kt(e){if(e=e[yt]||e[xt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function At(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function jt(e){var t=e[Tt];return t||=e[Tt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Mt(e){e[Et]=!0}var Nt=new Set,Pt={};function Ft(e,t){It(e,t),It(e+`Capture`,t)}function It(e,t){for(Pt[e]=t,e=0;e<t.length;e++)Nt.add(t[e])}var Lt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Rt={},zt={};function Bt(e){return Ne.call(zt,e)?!0:Ne.call(Rt,e)?!1:Lt.test(e)?zt[e]=!0:(Rt[e]=!0,!1)}function Vt(e,t,n){if(Bt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ht(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Ut(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Wt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Gt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Kt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qt(e){if(!e._valueTracker){var t=Gt(e)?`checked`:`value`;e._valueTracker=Kt(e,t,``+e[t])}}function Jt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Gt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Yt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Xt=/[\n"\\]/g;function Zt(e){return e.replace(Xt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function E(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Wt(t)):e.value!==``+Wt(t)&&(e.value=``+Wt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):$t(e,o,Wt(n)):$t(e,o,Wt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Wt(s):e.removeAttribute(`name`)}function Qt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){qt(e);return}n=n==null?``:``+Wt(n),t=t==null?n:``+Wt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),qt(e)}function $t(e,t,n){t===`number`&&Yt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function en(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tn(e,t,n){if(t!=null&&(t=``+Wt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Wt(n)}function nn(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(fe(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Wt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),qt(e)}function rn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var an=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function on(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||an.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function sn(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&on(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&on(e,o,t[o])}function cn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var ln=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),un=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dn(e){return un.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function fn(){}var pn=null;function mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hn=null,gn=null;function _n(e){var t=kt(e);if(t&&(e=t.stateNode)){var n=e[bt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(E(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Zt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[bt]||null;if(!a)throw Error(i(90));E(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Jt(r)}break a;case`textarea`:tn(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&en(e,!!n.multiple,t,!1)}}}var vn=!1;function yn(e,t,n){if(vn)return e(t,n);vn=!0;try{return e(t)}finally{if(vn=!1,(hn!==null||gn!==null)&&(Su(),hn&&(t=hn,e=gn,gn=hn=null,_n(t),e)))for(t=0;t<e.length;t++)_n(e[t])}}function bn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[bt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var xn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),Sn=!1;if(xn)try{var Cn={};Object.defineProperty(Cn,`passive`,{get:function(){Sn=!0}}),window.addEventListener(`test`,Cn,Cn),window.removeEventListener(`test`,Cn,Cn)}catch{Sn=!1}var wn=null,Tn=null,En=null;function Dn(){if(En)return En;var e,t=Tn,n=t.length,r,i=`value`in wn?wn.value:wn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return En=i.slice(e,1<r?1-r:void 0)}function On(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function D(){return!0}function kn(){return!1}function An(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?D:kn,this.isPropagationStopped=kn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=D)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=D)},persist:function(){},isPersistent:D}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mn=An(jn),Nn=h({},jn,{view:0,detail:0}),Pn=An(Nn),Fn,In,Ln,Rn=h({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Ln&&(Ln&&e.type===`mousemove`?(Fn=e.screenX-Ln.screenX,In=e.screenY-Ln.screenY):In=Fn=0,Ln=e),Fn)},movementY:function(e){return`movementY`in e?e.movementY:In}}),zn=An(Rn),Bn=An(h({},Rn,{dataTransfer:0})),Vn=An(h({},Nn,{relatedTarget:0})),Hn=An(h({},jn,{animationName:0,elapsedTime:0,pseudoElement:0})),Un=An(h({},jn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Wn=An(h({},jn,{data:0})),Gn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Kn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},qn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qn[e])?!!t[e]:!1}function Yn(){return Jn}var Xn=An(h({},Nn,{key:function(e){if(e.key){var t=Gn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=On(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Kn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(e){return e.type===`keypress`?On(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?On(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),O=An(h({},Rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Zn=An(h({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn})),Qn=An(h({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0})),$n=An(h({},Rn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),er=An(h({},jn,{newState:0,oldState:0})),tr=[9,13,27,32],nr=xn&&`CompositionEvent`in window,rr=null;xn&&`documentMode`in document&&(rr=document.documentMode);var ir=xn&&`TextEvent`in window&&!rr,ar=xn&&(!nr||rr&&8<rr&&11>=rr),or=` `,sr=!1;function cr(e,t){switch(e){case`keyup`:return tr.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function lr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var ur=!1;function dr(e,t){switch(e){case`compositionend`:return lr(t);case`keypress`:return t.which===32?(sr=!0,or):null;case`textInput`:return e=t.data,e===or&&sr?null:e;default:return null}}function fr(e,t){if(ur)return e===`compositionend`||!nr&&cr(e,t)?(e=Dn(),En=Tn=wn=null,ur=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return ar&&t.locale!==`ko`?null:t.data;default:return null}}var pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!pr[e.type]:t===`textarea`}function hr(e,t,n,r){hn?gn?gn.push(r):gn=[r]:hn=r,t=Dd(t,`onChange`),0<t.length&&(n=new Mn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var gr=null,_r=null;function vr(e){bd(e,0)}function yr(e){if(Jt(At(e)))return e}function br(e,t){if(e===`change`)return t}var xr=!1;if(xn){var Sr;if(xn){var Cr=`oninput`in document;if(!Cr){var wr=document.createElement(`div`);wr.setAttribute(`oninput`,`return;`),Cr=typeof wr.oninput==`function`}Sr=Cr}else Sr=!1;xr=Sr&&(!document.documentMode||9<document.documentMode)}function Tr(){gr&&(gr.detachEvent(`onpropertychange`,Er),_r=gr=null)}function Er(e){if(e.propertyName===`value`&&yr(_r)){var t=[];hr(t,_r,e,mn(e)),yn(vr,t)}}function Dr(e,t,n){e===`focusin`?(Tr(),gr=t,_r=n,gr.attachEvent(`onpropertychange`,Er)):e===`focusout`&&Tr()}function Or(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return yr(_r)}function kr(e,t){if(e===`click`)return yr(t)}function Ar(e,t){if(e===`input`||e===`change`)return yr(t)}function jr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Mr=typeof Object.is==`function`?Object.is:jr;function Nr(e,t){if(Mr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ne.call(t,i)||!Mr(e[i],t[i]))return!1}return!0}function Pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fr(e,t){var n=Pr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Pr(n)}}function Ir(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ir(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yt(e.document)}return t}function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var zr=xn&&`documentMode`in document&&11>=document.documentMode,Br=null,Vr=null,Hr=null,Ur=!1;function Wr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ur||Br==null||Br!==Yt(r)||(r=Br,`selectionStart`in r&&Rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&Nr(Hr,r)||(Hr=r,r=Dd(Vr,`onSelect`),0<r.length&&(t=new Mn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function Gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Kr={animationend:Gr(`Animation`,`AnimationEnd`),animationiteration:Gr(`Animation`,`AnimationIteration`),animationstart:Gr(`Animation`,`AnimationStart`),transitionrun:Gr(`Transition`,`TransitionRun`),transitionstart:Gr(`Transition`,`TransitionStart`),transitioncancel:Gr(`Transition`,`TransitionCancel`),transitionend:Gr(`Transition`,`TransitionEnd`)},qr={},Jr={};xn&&(Jr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),`TransitionEvent`in window||delete Kr.transitionend.transition);function Yr(e){if(qr[e])return qr[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jr)return qr[e]=t[n];return e}var Xr=Yr(`animationend`),Zr=Yr(`animationiteration`),Qr=Yr(`animationstart`),$r=Yr(`transitionrun`),ei=Yr(`transitionstart`),ti=Yr(`transitioncancel`),ni=Yr(`transitionend`),ri=new Map,ii=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ii.push(`scrollEnd`);function ai(e,t){ri.set(e,t),Ft(t,[e])}var oi=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},si=[],ci=0,li=0;function ui(){for(var e=ci,t=li=ci=0;t<e;){var n=si[t];si[t++]=null;var r=si[t];si[t++]=null;var i=si[t];si[t++]=null;var a=si[t];if(si[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&mi(n,i,a)}}function di(e,t,n,r){si[ci++]=e,si[ci++]=t,si[ci++]=n,si[ci++]=r,li|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function fi(e,t,n,r){return di(e,t,n,r),hi(e)}function pi(e,t){return di(e,null,null,t),hi(e)}function mi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Xe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function hi(e){if(50<pu)throw pu=0,mu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gi={};function _i(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,n,r){return new _i(e,t,n,r)}function yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,t){var n=e.alternate;return n===null?(n=vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function xi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Si(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)yi(e)&&(s=1);else if(typeof e==`string`)s=Gf(e,n,ve.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case oe:return e=vi(31,n,t,a),e.elementType=oe,e.lanes=o,e;case y:return Ci(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=vi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case ne:return e=vi(13,n,t,a),e.elementType=ne,e.lanes=o,e;case re:return e=vi(19,n,t,a),e.elementType=re,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case te:s=10;break a;case ee:s=9;break a;case S:s=11;break a;case ie:s=14;break a;case ae:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=vi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Ci(e,t,n,r){return e=vi(7,e,r,t),e.lanes=n,e}function wi(e,t,n){return e=vi(6,e,null,t),e.lanes=n,e}function Ti(e){var t=vi(18,null,null,0);return t.stateNode=e,t}function Ei(e,t,n){return t=vi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Di=new WeakMap;function Oi(e,t){if(typeof e==`object`&&e){var n=Di.get(e);return n===void 0?(t={value:e,source:t,stack:Me(t)},Di.set(e,t),t):n}return{value:e,source:t,stack:Me(t)}}var ki=[],Ai=0,ji=null,Mi=0,Ni=[],Pi=0,Fi=null,Ii=1,Li=``;function Ri(e,t){ki[Ai++]=Mi,ki[Ai++]=ji,ji=e,Mi=t}function zi(e,t,n){Ni[Pi++]=Ii,Ni[Pi++]=Li,Ni[Pi++]=Fi,Fi=e;var r=Ii;e=Li;var i=32-Xe(r)-1;r&=~(1<<i),n+=1;var a=32-Xe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Xe(t)+i|n<<i|r,Li=a+e}else Ii=1<<a|n<<i|r,Li=e}function Bi(e){e.return!==null&&(Ri(e,1),zi(e,1,0))}function Vi(e){for(;e===ji;)ji=ki[--Ai],ki[Ai]=null,Mi=ki[--Ai],ki[Ai]=null;for(;e===Fi;)Fi=Ni[--Pi],Ni[Pi]=null,Li=Ni[--Pi],Ni[Pi]=null,Ii=Ni[--Pi],Ni[Pi]=null}function Hi(e,t){Ni[Pi++]=Ii,Ni[Pi++]=Li,Ni[Pi++]=Fi,Ii=t.id,Li=t.overflow,Fi=e}var Ui=null,k=null,A=!1,Wi=null,Gi=!1,Ki=Error(i(519));function qi(e){throw Qi(Oi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ki}function Ji(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[yt]=e,t[bt]=r,n){case`dialog`:Z(`cancel`,t),Z(`close`,t);break;case`iframe`:case`object`:case`embed`:Z(`load`,t);break;case`video`:case`audio`:for(n=0;n<vd.length;n++)Z(vd[n],t);break;case`source`:Z(`error`,t);break;case`img`:case`image`:case`link`:Z(`error`,t),Z(`load`,t);break;case`details`:Z(`toggle`,t);break;case`input`:Z(`invalid`,t),Qt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Z(`invalid`,t);break;case`textarea`:Z(`invalid`,t),nn(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Nd(t.textContent,n)?(r.popover!=null&&(Z(`beforetoggle`,t),Z(`toggle`,t)),r.onScroll!=null&&Z(`scroll`,t),r.onScrollEnd!=null&&Z(`scrollend`,t),r.onClick!=null&&(t.onclick=fn),t=!0):t=!1,t||qi(e,!0)}function Yi(e){for(Ui=e.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Ui=Ui.return}}function j(e){if(e!==Ui)return!1;if(!A)return Yi(e),A=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Gd(e.type,e.memoizedProps)),n=!n),n&&k&&qi(e),Yi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));k=ff(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));k=ff(e)}else t===27?(t=k,$d(e.type)?(e=df,df=null,k=e):k=t):k=Ui?uf(e.stateNode.nextSibling):null;return!0}function Xi(){k=Ui=null,A=!1}function Zi(){var e=Wi;return e!==null&&($l===null?$l=e:$l.push.apply($l,e),Wi=null),e}function Qi(e){Wi===null?Wi=[e]:Wi.push(e)}var $i=ge(null),ea=null,ta=null;function na(e,t,n){T($i,t._currentValue),t._currentValue=n}function ra(e){e._currentValue=$i.current,_e($i)}function ia(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function aa(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ia(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ia(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function oa(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Mr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===xe.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[ep]:e.push(ep))}a=a.return}e!==null&&aa(t,e,n,r),t.flags|=262144}function sa(e){for(e=e.firstContext;e!==null;){if(!Mr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ea=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function la(e){return da(ea,e)}function ua(e,t){return ea===null&&ca(e),da(e,t)}function da(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ta===null){if(e===null)throw Error(i(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return n}var fa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},pa=t.unstable_scheduleCallback,ma=t.unstable_NormalPriority,ha={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ga(){return{controller:new fa,data:new Map,refCount:0}}function _a(e){e.refCount--,e.refCount===0&&pa(ma,function(){e.controller.abort()})}var va=null,ya=0,ba=0,xa=null;function Sa(e,t){if(va===null){var n=va=[];ya=0,ba=fd(),xa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ya++,t.then(Ca,Ca),t}function Ca(){if(--ya===0&&va!==null){xa!==null&&(xa.status=`fulfilled`);var e=va;va=null,ba=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Ta=C.S;C.S=function(e,t){nu=Re(),typeof t==`object`&&t&&typeof t.then==`function`&&Sa(e,t),Ta!==null&&Ta(e,t)};var Ea=ge(null);function Da(){var e=Ea.current;return e===null?W.pooledCache:e}function Oa(e,t){t===null?T(Ea,Ea.current):T(Ea,t.pool)}function ka(){var e=Da();return e===null?null:{parent:ha._currentValue,pool:e}}var Aa=Error(i(460)),ja=Error(i(474)),Ma=Error(i(542)),Na={then:function(){}};function Pa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Fa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fn,fn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,za(e),e;default:if(typeof t.status==`string`)t.then(fn,fn);else{if(e=W,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,za(e),e}throw La=t,Aa}}function Ia(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(La=e,Aa):e}}var La=null;function Ra(){if(La===null)throw Error(i(459));var e=La;return La=null,e}function za(e){if(e===Aa||e===Ma)throw Error(i(483))}var Ba=null,Va=0;function Ha(e){var t=Va;return Va+=1,Ba===null&&(Ba=[]),Fa(Ba,e,t)}function Ua(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Wa(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ga(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=bi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=wi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ae&&Ia(i)===t.type)?(t=a(t,n.props),Ua(t,n),t.return=e,t):(t=Si(n.type,n.key,n.props,null,e.mode,r),Ua(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ei(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Ci(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=wi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=Si(t.type,t.key,t.props,null,e.mode,n),Ua(n,t),n.return=e,n;case v:return t=Ei(t,e.mode,n),t.return=e,t;case ae:return t=Ia(t),f(e,t,n)}if(fe(t)||le(t))return t=Ci(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ha(t),n);if(t.$$typeof===te)return f(e,ua(e,t),n);Wa(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ae:return n=Ia(n),p(e,t,n,r)}if(fe(n)||le(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ha(n),r);if(n.$$typeof===te)return p(e,t,ua(e,n),r);Wa(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ae:return r=Ia(r),m(e,t,n,r,i)}if(fe(r)||le(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ha(r),i);if(r.$$typeof===te)return m(e,t,n,ua(t,r),i);Wa(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),A&&Ri(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return A&&Ri(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),A&&Ri(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),A&&Ri(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return A&&Ri(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),A&&Ri(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ae&&Ia(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ua(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Ci(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=Si(o.type,o.key,o.props,null,e.mode,c),Ua(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ei(o,e.mode,c),c.return=e,e=c}return s(e);case ae:return o=Ia(o),b(e,r,o,c)}if(fe(o))return h(e,r,o,c);if(le(o)){if(l=le(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ha(o),c);if(o.$$typeof===te)return b(e,r,ua(e,o),c);Wa(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=wi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Va=0;var i=b(e,t,n,r);return Ba=null,i}catch(t){if(t===Aa||t===Ma)throw t;var a=vi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ka=Ga(!0),qa=Ga(!1),Ja=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=hi(e),mi(e,null,n),t}return di(e,r,t,n),hi(e)}function $a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ft(e,n)}}function eo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var to=!1;function no(){if(to){var e=xa;if(e!==null)throw e}}function ro(e,t,n,r){to=!1;var i=e.updateQueue;Ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(K&f)===f:(r&f)===f){f!==0&&f===ba&&(to=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Ja=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Jl|=o,e.lanes=o,e.memoizedState=d}}function io(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function ao(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)io(n[e],t)}var oo=ge(null),so=ge(0);function co(e,t){e=Kl,T(so,e),T(oo,t),Kl=e|t.baseLanes}function lo(){T(so,Kl),T(oo,oo.current)}function uo(){Kl=so.current,_e(oo),_e(so)}var fo=ge(null),po=null;function mo(e){var t=e.alternate;T(yo,yo.current&1),T(fo,e),po===null&&(t===null||oo.current!==null||t.memoizedState!==null)&&(po=e)}function ho(e){T(yo,yo.current),T(fo,e),po===null&&(po=e)}function go(e){e.tag===22?(T(yo,yo.current),T(fo,e),po===null&&(po=e)):_o(e)}function _o(){T(yo,yo.current),T(fo,fo.current)}function vo(e){_e(fo),po===e&&(po=null),_e(yo)}var yo=ge(0);function bo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sf(n)||cf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=0,M=null,So=null,Co=null,wo=!1,To=!1,Eo=!1,Do=0,Oo=0,ko=null,Ao=0;function jo(){throw Error(i(321))}function Mo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function No(e,t,n,r,i,a){return xo=a,M=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Vs:Hs,Eo=!1,a=n(r,i),Eo=!1,To&&(a=Fo(t,n,r,i)),Po(e),a}function Po(e){C.H=Bs;var t=So!==null&&So.next!==null;if(xo=0,Co=So=M=null,wo=!1,Oo=0,ko=null,t)throw Error(i(300));e===null||ic||(e=e.dependencies,e!==null&&sa(e)&&(ic=!0))}function Fo(e,t,n,r){M=e;var a=0;do{if(To&&(ko=null),Oo=0,To=!1,25<=a)throw Error(i(301));if(a+=1,Co=So=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}C.H=Us,o=t(n,r)}while(To);return o}function Io(){var e=C.H,t=e.useState()[0];return t=typeof t.then==`function`?Uo(t):t,e=e.useState()[0],(So===null?null:So.memoizedState)!==e&&(M.flags|=1024),t}function Lo(){var e=Do!==0;return Do=0,e}function Ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(wo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wo=!1}xo=0,Co=So=M=null,To=!1,Oo=Do=0,ko=null}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Co===null?M.memoizedState=Co=e:Co=Co.next=e,Co}function Vo(){if(So===null){var e=M.alternate;e=e===null?null:e.memoizedState}else e=So.next;var t=Co===null?M.memoizedState:Co.next;if(t!==null)Co=t,So=e;else{if(e===null)throw M.alternate===null?Error(i(467)):Error(i(310));So=e,e={memoizedState:So.memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},Co===null?M.memoizedState=Co=e:Co=Co.next=e}return Co}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var t=Oo;return Oo+=1,ko===null&&(ko=[]),e=Fa(ko,e,t),t=M,(Co===null?t.memoizedState:Co.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Vs:Hs),e}function Wo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Uo(e);if(e.$$typeof===te)return la(e)}throw Error(i(438,String(e)))}function Go(e){var t=null,n=M.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=M.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Ho(),M.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=se;return t.index++,n}function Ko(e,t){return typeof t==`function`?t(e):t}function qo(e){return Jo(Vo(),So,e)}function Jo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(xo&f)===f:(K&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ba&&(d=!0);else if((xo&p)===p){u=u.next,p===ba&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,M.lanes|=p,Jl|=p;f=u.action,Eo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,M.lanes|=f,Jl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Mr(o,e.memoizedState)&&(ic=!0,d&&(n=xa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yo(e){var t=Vo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Mr(o,t.memoizedState)||(ic=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xo(e,t,n){var r=M,a=Vo(),o=A;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Mr((So||a).memoizedState,n);if(s&&(a.memoizedState=n,ic=!0),a=a.queue,hs($o.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||Co!==null&&Co.memoizedState.tag&1){if(r.flags|=2048,us(9,{destroy:void 0},Qo.bind(null,r,a,n,t),null),W===null)throw Error(i(349));o||xo&127||Zo(r,t,n)}return n}function Zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=M.updateQueue,t===null?(t=Ho(),M.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qo(e,t,n,r){t.value=n,t.getSnapshot=r,N(t)&&es(e)}function $o(e,t,n){return n(function(){N(t)&&es(e)})}function N(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mr(e,n)}catch{return!0}}function es(e){var t=pi(e,2);t!==null&&_u(t,e,2)}function ts(e){var t=Bo();if(typeof e==`function`){var n=e;if(e=n(),Eo){Ye(!0);try{n()}finally{Ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e},t}function ns(e,t,n,r){return e.baseState=n,Jo(e,So,typeof r==`function`?r:Ko)}function P(e,t,n,r,a){if(V(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};C.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=C.T,o={};C.T=o;try{var s=n(i,r),c=C.S;c!==null&&c(o,s),F(e,t,s)}catch(n){L(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),C.T=a}}else try{a=n(i,r),F(e,t,a)}catch(n){L(e,t,n)}}function F(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){I(e,t,n)},function(n){return L(e,t,n)}):I(e,t,n)}function I(e,t,n){t.status=`fulfilled`,t.value=n,R(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function L(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,R(t),t=t.next;while(t!==r)}e.action=null}function R(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function is(e,t){return t}function as(e,t){if(A){var n=W.formState;if(n!==null){a:{var r=M;if(A){if(k){b:{for(var i=k,a=Gi;i.nodeType!==8;){if(!a){i=null;break b}if(i=uf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){k=uf(i.nextSibling),r=i.data===`F!`;break a}}qi(r)}r=!1}r&&(t=n[0])}}return n=Bo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n.queue=r,n=Fs.bind(null,M,r),r.dispatch=n,r=ts(!1),a=Ls.bind(null,M,!1,r.queue),r=Bo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=P.bind(null,M,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function os(e){return ss(Vo(),So,e)}function ss(e,t,n){if(t=Jo(e,t,is)[0],e=qo(Ko)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Uo(t)}catch(e){throw e===Aa?Ma:e}else r=t;t=Vo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(M.flags|=2048,us(9,{destroy:void 0},cs.bind(null,i,n),null)),[r,a,e]}function cs(e,t){e.action=t}function ls(e){var t=Vo(),n=So;if(n!==null)return ss(t,n,e);Vo(),t=t.memoizedState,n=Vo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function us(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=M.updateQueue,t===null&&(t=Ho(),M.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ds(){return Vo().memoizedState}function fs(e,t,n,r){var i=Bo();M.flags|=e,i.memoizedState=us(1|t,{destroy:void 0},n,r===void 0?null:r)}function ps(e,t,n,r){var i=Vo();r=r===void 0?null:r;var a=i.memoizedState.inst;So!==null&&r!==null&&Mo(r,So.memoizedState.deps)?i.memoizedState=us(t,a,n,r):(M.flags|=e,i.memoizedState=us(1|t,a,n,r))}function ms(e,t){fs(8390656,8,e,t)}function hs(e,t){ps(2048,8,e,t)}function z(e){M.flags|=4;var t=M.updateQueue;if(t===null)t=Ho(),M.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function gs(e){var t=Vo().memoizedState;return z({ref:t,nextImpl:e}),function(){if(U&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function _s(e,t){return ps(4,2,e,t)}function vs(e,t){return ps(4,4,e,t)}function ys(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bs(e,t,n){n=n==null?null:n.concat([e]),ps(4,4,ys.bind(null,t,e),n)}function xs(){}function Ss(e,t){var n=Vo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=Vo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Mo(t,r[1]))return r[0];if(r=e(),Eo){Ye(!0);try{e()}finally{Ye(!1)}}return n.memoizedState=[r,t],r}function ws(e,t,n){return n===void 0||xo&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=gu(),M.lanes|=e,Jl|=e,n)}function B(e,t,n,r){return Mr(n,t)?n:oo.current===null?!(xo&42)||xo&1073741824&&!(K&261930)?(ic=!0,e.memoizedState=n):(e=gu(),M.lanes|=e,Jl|=e,t):(e=ws(e,n,r),Mr(e,t)||(ic=!0),e)}function Ts(e,t,n,r,i){var a=w.p;w.p=a!==0&&8>a?a:8;var o=C.T,s={};C.T=s,Ls(e,!1,t,n);try{var c=i(),l=C.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Is(e,t,wa(c,r),hu(e)):Is(e,t,r,hu(e))}catch(n){Is(e,t,{then:function(){},status:`rejected`,reason:n},hu())}finally{w.p=a,o!==null&&s.types!==null&&(o.types=s.types),C.T=o}}function Es(){}function Ds(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Os(e).queue;Ts(e,a,t,pe,n===null?Es:function(){return ks(e),n(r)})}function Os(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:pe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ks(e){var t=Os(e);t.next===null&&(t=e.alternate.memoizedState),Is(e,t.next.queue,{},hu())}function As(){return la(ep)}function js(){return Vo().memoizedState}function Ms(){return Vo().memoizedState}function Ns(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hu();e=Za(n);var r=Qa(t,e,n);r!==null&&(_u(r,t,n),$a(r,t,n)),t={cache:ga()},e.payload=t;return}t=t.return}}function Ps(e,t,n){var r=hu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},V(e)?Rs(t,n):(n=fi(e,t,n,r),n!==null&&(_u(n,e,r),zs(n,t,r)))}function Fs(e,t,n){Is(e,t,n,hu())}function Is(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(V(e))Rs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Mr(s,o))return di(e,t,i,0),W===null&&ui(),!1}catch{}if(n=fi(e,t,i,r),n!==null)return _u(n,e,r),zs(n,t,r),!0}return!1}function Ls(e,t,n,r){if(r={lane:2,revertLane:fd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},V(e)){if(t)throw Error(i(479))}else t=fi(e,n,r,2),t!==null&&_u(t,e,2)}function V(e){var t=e.alternate;return e===M||t!==null&&t===M}function Rs(e,t){To=wo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zs(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ft(e,n)}}var Bs={readContext:la,use:Wo,useCallback:jo,useContext:jo,useEffect:jo,useImperativeHandle:jo,useLayoutEffect:jo,useInsertionEffect:jo,useMemo:jo,useReducer:jo,useRef:jo,useState:jo,useDebugValue:jo,useDeferredValue:jo,useTransition:jo,useSyncExternalStore:jo,useId:jo,useHostTransitionStatus:jo,useFormState:jo,useActionState:jo,useOptimistic:jo,useMemoCache:jo,useCacheRefresh:jo};Bs.useEffectEvent=jo;var Vs={readContext:la,use:Wo,useCallback:function(e,t){return Bo().memoizedState=[e,t===void 0?null:t],e},useContext:la,useEffect:ms,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),fs(4194308,4,ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){fs(4,2,e,t)},useMemo:function(e,t){var n=Bo();t=t===void 0?null:t;var r=e();if(Eo){Ye(!0);try{e()}finally{Ye(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bo();if(n!==void 0){var i=n(t);if(Eo){Ye(!0);try{n(t)}finally{Ye(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ps.bind(null,M,e),[r.memoizedState,e]},useRef:function(e){var t=Bo();return e={current:e},t.memoizedState=e},useState:function(e){e=ts(e);var t=e.queue,n=Fs.bind(null,M,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xs,useDeferredValue:function(e,t){return ws(Bo(),e,t)},useTransition:function(){var e=ts(!1);return e=Ts.bind(null,M,e.queue,!0,!1),Bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=M,a=Bo();if(A){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),W===null)throw Error(i(349));K&127||Zo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ms($o.bind(null,r,o,e),[e]),r.flags|=2048,us(9,{destroy:void 0},Qo.bind(null,r,o,n,t),null),n},useId:function(){var e=Bo(),t=W.identifierPrefix;if(A){var n=Li,r=Ii;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Do++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Ao++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:As,useFormState:as,useActionState:as,useOptimistic:function(e){var t=Bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ls.bind(null,M,!0,n),n.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return Bo().memoizedState=Ns.bind(null,M)},useEffectEvent:function(e){var t=Bo(),n={impl:e};return t.memoizedState=n,function(){if(U&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Hs={readContext:la,use:Wo,useCallback:Ss,useContext:la,useEffect:hs,useImperativeHandle:bs,useInsertionEffect:_s,useLayoutEffect:vs,useMemo:Cs,useReducer:qo,useRef:ds,useState:function(){return qo(Ko)},useDebugValue:xs,useDeferredValue:function(e,t){return B(Vo(),So.memoizedState,e,t)},useTransition:function(){var e=qo(Ko)[0],t=Vo().memoizedState;return[typeof e==`boolean`?e:Uo(e),t]},useSyncExternalStore:Xo,useId:js,useHostTransitionStatus:As,useFormState:os,useActionState:os,useOptimistic:function(e,t){return ns(Vo(),So,e,t)},useMemoCache:Go,useCacheRefresh:Ms};Hs.useEffectEvent=gs;var Us={readContext:la,use:Wo,useCallback:Ss,useContext:la,useEffect:hs,useImperativeHandle:bs,useInsertionEffect:_s,useLayoutEffect:vs,useMemo:Cs,useReducer:Yo,useRef:ds,useState:function(){return Yo(Ko)},useDebugValue:xs,useDeferredValue:function(e,t){var n=Vo();return So===null?ws(n,e,t):B(n,So.memoizedState,e,t)},useTransition:function(){var e=Yo(Ko)[0],t=Vo().memoizedState;return[typeof e==`boolean`?e:Uo(e),t]},useSyncExternalStore:Xo,useId:js,useHostTransitionStatus:As,useFormState:ls,useActionState:ls,useOptimistic:function(e,t){var n=Vo();return So===null?(n.baseState=e,[e,n.queue.dispatch]):ns(n,So,e,t)},useMemoCache:Go,useCacheRefresh:Ms};Us.useEffectEvent=gs;function Ws(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=Za(r);i.payload=t,n!=null&&(i.callback=n),t=Qa(e,i,r),t!==null&&(_u(t,e,r),$a(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=Za(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qa(e,i,r),t!==null&&(_u(t,e,r),$a(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=Za(n);r.tag=2,t!=null&&(r.callback=t),t=Qa(e,r,n),t!==null&&(_u(t,e,n),$a(t,e,n))}};function Ks(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Nr(n,r)||!Nr(i,a):!0}function H(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gs.enqueueReplaceState(t,t.state,null)}function qs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Js(e){oi(e)}function Ys(e){console.error(e)}function Xs(e){oi(e)}function Zs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Qs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function $s(e,t,n){return n=Za(n),n.tag=3,n.payload={element:null},n.callback=function(){Zs(e,t)},n}function ec(e){return e=Za(e),e.tag=3,e}function tc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Qs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Qs(t,n,r),typeof i!=`function`&&(au===null?au=new Set([this]):au.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function nc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&oa(t,n,a,!0),n=fo.current,n!==null){switch(n.tag){case 31:case 13:return po===null?ku():n.alternate===null&&ql===0&&(ql=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Na?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ku(e,r,a)),!1;case 22:return n.flags|=65536,r===Na?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ku(e,r,a)),!1}throw Error(i(435,n.tag))}return Ku(e,r,a),ku(),!1}if(A)return t=fo.current,t===null?(r!==Ki&&(t=Error(i(423),{cause:r}),Qi(Oi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Oi(r,n),a=$s(e.stateNode,r,a),eo(e,a),ql!==4&&(ql=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ki&&(e=Error(i(422),{cause:r}),Qi(Oi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Oi(o,n),Ql===null?Ql=[o]:Ql.push(o),ql!==4&&(ql=2),t===null)return!0;r=Oi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=$s(n.stateNode,r,e),eo(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(au===null||!au.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=ec(a),tc(a,e,n,r),eo(n,a),!1}n=n.return}while(n!==null);return!1}var rc=Error(i(461)),ic=!1;function ac(e,t,n,r){t.child=e===null?qa(t,null,n,r):Ka(t,e.child,n,r)}function oc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ca(t),r=No(e,t,n,o,a,i),s=Lo(),e!==null&&!ic?(Ro(e,t,i),Ac(e,t,i)):(A&&s&&Bi(t),t.flags|=1,ac(e,t,r,i),t.child)}function sc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!yi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,cc(e,t,a,r,i)):(e=Si(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!jc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Nr:n,n(o,r)&&e.ref===t.ref)return Ac(e,t,i)}return t.flags|=1,e=bi(a,r),e.ref=t.ref,e.return=t,t.child=e}function cc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Nr(a,r)&&e.ref===t.ref)if(ic=!1,t.pendingProps=r=a,jc(e,i))e.flags&131072&&(ic=!0);else return t.lanes=e.lanes,Ac(e,t,i)}return gc(e,t,n,r,i)}function lc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return dc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oa(t,a===null?null:a.cachePool),a===null?lo():co(t,a),go(t);else return r=t.lanes=536870912,dc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Oa(t,null),lo(),_o(t)):(Oa(t,a.cachePool),co(t,a),_o(t),t.memoizedState=null);return ac(e,t,i,n),t.child}function uc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dc(e,t,n,r,i){var a=Da();return a=a===null?null:{parent:ha._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Oa(t,null),lo(),go(t),e!==null&&oa(e,t,r,!0),t.childLanes=i,null}function fc(e,t){return t=Tc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pc(e,t,n){return Ka(t,e.child,null,n),e=fc(t,t.pendingProps),e.flags|=2,vo(t),t.memoizedState=null,e}function mc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(A){if(r.mode===`hidden`)return e=fc(t,r),t.lanes=536870912,uc(null,e);if(ho(t),(e=k)?(e=of(e,Gi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fi===null?null:{id:Ii,overflow:Li},retryLane:536870912,hydrationErrors:null},n=Ti(e),n.return=t,t.child=n,Ui=t,k=null)):e=null,e===null)throw qi(t);return t.lanes=536870912,null}return fc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(ho(t),a)if(t.flags&256)t.flags&=-257,t=pc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(ic||oa(e,t,n,!1),a=(n&e.childLanes)!==0,ic||a){if(r=W,r!==null&&(s=pt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,pi(e,s),_u(r,e,s),rc;ku(),t=pc(e,t,n)}else e=o.treeContext,k=uf(s.nextSibling),Ui=t,A=!0,Wi=null,Gi=!1,e!==null&&Hi(t,e),t=fc(t,r),t.flags|=4096;return t}return e=bi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function gc(e,t,n,r,i){return ca(t),n=No(e,t,n,r,void 0,i),r=Lo(),e!==null&&!ic?(Ro(e,t,i),Ac(e,t,i)):(A&&r&&Bi(t),t.flags|=1,ac(e,t,n,i),t.child)}function _c(e,t,n,r,i,a){return ca(t),t.updateQueue=null,n=Fo(t,r,n,i),Po(e),r=Lo(),e!==null&&!ic?(Ro(e,t,a),Ac(e,t,a)):(A&&r&&Bi(t),t.flags|=1,ac(e,t,n,a),t.child)}function vc(e,t,n,r,i){if(ca(t),t.stateNode===null){var a=gi,o=n.contextType;typeof o==`object`&&o&&(a=la(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Gs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ya(t),o=n.contextType,a.context=typeof o==`object`&&o?la(o):gi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Ws(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Gs.enqueueReplaceState(a,a.state,null),ro(t,r,a,i),no(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=qs(n,s);a.props=c;var l=a.context,u=n.contextType;o=gi,typeof u==`object`&&u&&(o=la(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&H(t,a,r,o),Ja=!1;var f=t.memoizedState;a.state=f,ro(t,r,a,i),no(),l=t.memoizedState,s||f!==l||Ja?(typeof d==`function`&&(Ws(t,n,d,r),l=t.memoizedState),(c=Ja||Ks(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xa(e,t),o=t.memoizedProps,u=qs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=gi,typeof l==`object`&&l&&(c=la(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&H(t,a,r,c),Ja=!1,f=t.memoizedState,a.state=f,ro(t,r,a,i),no();var p=t.memoizedState;o!==d||f!==p||Ja||e!==null&&e.dependencies!==null&&sa(e.dependencies)?(typeof s==`function`&&(Ws(t,n,s,r),p=t.memoizedState),(u=Ja||Ks(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&sa(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,hc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ka(t,e.child,null,i),t.child=Ka(t,null,n,i)):ac(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Ac(e,t,i),e}function yc(e,t,n,r){return Xi(),t.flags|=256,ac(e,t,n,r),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(e){return{baseLanes:e,cachePool:ka()}}function Sc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=J),e}function Cc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(yo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(A){if(a?mo(t):_o(t),(e=k)?(e=of(e,Gi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fi===null?null:{id:Ii,overflow:Li},retryLane:536870912,hydrationErrors:null},n=Ti(e),n.return=t,t.child=n,Ui=t,k=null)):e=null,e===null)throw qi(t);return cf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(_o(t),a=t.mode,c=Tc({mode:`hidden`,children:c},a),r=Ci(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=xc(n),r.childLanes=Sc(e,s,n),t.memoizedState=bc,uc(null,r)):(mo(t),wc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(mo(t),t.flags&=-257,t=Ec(e,t,n)):t.memoizedState===null?(_o(t),c=r.fallback,a=t.mode,r=Tc({mode:`visible`,children:r.children},a),c=Ci(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ka(t,e.child,null,n),r=t.child,r.memoizedState=xc(n),r.childLanes=Sc(e,s,n),t.memoizedState=bc,t=uc(null,r)):(_o(t),t.child=e.child,t.flags|=128,t=null);else if(mo(t),cf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Qi({value:r,source:null,stack:null}),t=Ec(e,t,n)}else if(ic||oa(e,t,n,!1),s=(n&e.childLanes)!==0,ic||s){if(s=W,s!==null&&(r=pt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,pi(e,r),_u(s,e,r),rc;sf(c)||ku(),t=Ec(e,t,n)}else sf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,k=uf(c.nextSibling),Ui=t,A=!0,Wi=null,Gi=!1,e!==null&&Hi(t,e),t=wc(t,r.children),t.flags|=4096);return t}return a?(_o(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=bi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Ci(c,a,n,null),c.flags|=2):c=bi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,uc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=xc(n):(a=c.cachePool,a===null?a=ka():(l=ha._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Sc(e,s,n),t.memoizedState=bc,uc(e.child,r)):(mo(t),n=e.child,e=n.sibling,n=bi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function wc(e,t){return t=Tc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Tc(e,t){return e=vi(22,e,null,t),e.lanes=0,e}function Ec(e,t,n){return Ka(t,e.child,null,n),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ia(e.return,t,n)}function Oc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function kc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=yo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,T(yo,o),ac(e,t,r,n),r=A?Mi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dc(e,n,t);else if(e.tag===19)Dc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Oc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Oc(t,!0,n,null,a,r);break;case`together`:Oc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Ac(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(oa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=bi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&sa(e))):!0}function Mc(e,t,n){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),na(t,ha,e.memoizedState.cache),Xi();break;case 27:case 5:we(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ho(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(mo(t),e=Ac(e,t,n),e===null?null:e.sibling):Cc(e,t,n):(mo(t),t.flags|=128,null);mo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(oa(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return kc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),T(yo,yo.current),r)break;return null;case 22:return t.lanes=0,lc(e,t,n,t.pendingProps);case 24:na(t,ha,e.memoizedState.cache)}return Ac(e,t,n)}function Nc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ic=!0;else{if(!jc(e,n)&&!(t.flags&128))return ic=!1,Mc(e,t,n);ic=!!(e.flags&131072)}else ic=!1,A&&t.flags&1048576&&zi(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ia(t.elementType),t.type=e,typeof e==`function`)yi(e)?(r=qs(e,r),t.tag=1,t=vc(null,t,e,r,n)):(t.tag=0,t=gc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===S){t.tag=11,t=oc(null,t,e,r,n);break a}else if(a===ie){t.tag=14,t=sc(null,t,e,r,n);break a}}throw t=de(e)||e,Error(i(306,t,``))}}return t;case 0:return gc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=qs(r,t.pendingProps),vc(e,t,r,a,n);case 3:a:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Xa(e,t),ro(t,r,null,n);var s=t.memoizedState;if(r=s.cache,na(t,ha,r),r!==o.cache&&aa(t,[ha],n,!0),no(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=yc(e,t,r,n);break a}else if(r!==a){a=Oi(Error(i(424)),t),Qi(a),t=yc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(k=uf(e.firstChild),Ui=t,A=!0,Wi=null,Gi=!0,n=qa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Xi(),r===a){t=Ac(e,t,n);break a}ac(e,t,r,n)}t=t.child}return t;case 26:return hc(e,t),e===null?(n=jf(t.type,null,t.pendingProps,null))?t.memoizedState=n:A||(n=t.type,e=t.pendingProps,r=Hd(be.current).createElement(n),r[yt]=t,r[bt]=e,Id(r,n,e),Mt(r),t.stateNode=r):t.memoizedState=jf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&A&&(r=t.stateNode=mf(t.type,t.pendingProps,be.current),Ui=t,Gi=!0,a=k,$d(t.type)?(df=a,k=uf(r.firstChild)):k=a),ac(e,t,t.pendingProps.children,n),hc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&A&&((a=r=k)&&(r=rf(r,t.type,t.pendingProps,Gi),r===null?a=!1:(t.stateNode=r,Ui=t,k=uf(r.firstChild),Gi=!1,a=!0)),a||qi(t)),we(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Gd(a,o)?r=null:s!==null&&Gd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=No(e,t,Io,null,null,n),ep._currentValue=a),hc(e,t),ac(e,t,r,n),t.child;case 6:return e===null&&A&&((e=n=k)&&(n=af(n,t.pendingProps,Gi),n===null?e=!1:(t.stateNode=n,Ui=t,k=null,e=!0)),e||qi(t)),null;case 13:return Cc(e,t,n);case 4:return Se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ka(t,null,r,n):ac(e,t,r,n),t.child;case 11:return oc(e,t,t.type,t.pendingProps,n);case 7:return ac(e,t,t.pendingProps,n),t.child;case 8:return ac(e,t,t.pendingProps.children,n),t.child;case 12:return ac(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,na(t,t.type,r.value),ac(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ca(t),a=la(a),r=r(a),t.flags|=1,ac(e,t,r,n),t.child;case 14:return sc(e,t,t.type,t.pendingProps,n);case 15:return cc(e,t,t.type,t.pendingProps,n);case 19:return kc(e,t,n);case 31:return mc(e,t,n);case 22:return lc(e,t,n,t.pendingProps);case 24:return ca(t),r=la(ha),e===null?(a=Da(),a===null&&(a=W,o=ga(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ya(t),na(t,ha,a)):((e.lanes&n)!==0&&(Xa(e,t),ro(t,null,null,n),no()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,na(t,ha,r),r!==a.cache&&aa(t,[ha],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),na(t,ha,r))),ac(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Pc(e){e.flags|=4}function Fc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Eu())e.flags|=8192;else throw La=Na,ja}else e.flags&=-16777217}function Ic(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Kf(t))if(Eu())e.flags|=8192;else throw La=Na,ja}function Lc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:st(),e.lanes|=t,Zl|=t)}function Rc(e,t){if(!A)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bc(e,t,n){var r=t.pendingProps;switch(Vi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zc(t),null;case 1:return zc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ra(ha),Ce(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(j(t)?Pc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zi())),zc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Pc(t),o===null?(zc(t),Fc(t,a,null,r,n)):(zc(t),Ic(t,o))):o?o===e.memoizedState?(zc(t),t.flags&=-16777217):(Pc(t),zc(t),Ic(t,o)):(e=e.memoizedProps,e!==r&&Pc(t),zc(t),Fc(t,a,e,r,n)),null;case 27:if(Te(t),n=be.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Pc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return zc(t),null}e=ve.current,j(t)?Ji(t,e):(e=mf(a,r,n),t.stateNode=e,Pc(t))}return zc(t),null;case 5:if(Te(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Pc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return zc(t),null}if(o=ve.current,j(t))Ji(t,o);else{var s=Hd(be.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[yt]=t,o[bt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Id(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Pc(t)}}return zc(t),Fc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Pc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=be.current,j(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ui,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[yt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Nd(e.nodeValue,n)),e||qi(t,!0)}else e=Hd(e).createTextNode(r),e[yt]=t,t.stateNode=e}return zc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=j(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[yt]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zc(t),e=!1}else n=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(vo(t),t):(vo(t),null);if(t.flags&128)throw Error(i(558))}return zc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=j(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[yt]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zc(t),a=!1}else a=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(vo(t),t):(vo(t),null)}return vo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Lc(t,t.updateQueue),zc(t),null);case 4:return Ce(),e===null&&Cd(t.stateNode.containerInfo),zc(t),null;case 10:return ra(t.type),zc(t),null;case 19:if(_e(yo),r=t.memoizedState,r===null)return zc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Rc(r,!1);else{if(ql!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bo(e),o!==null){for(t.flags|=128,Rc(r,!1),e=o.updateQueue,t.updateQueue=e,Lc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)xi(n,e),n=n.sibling;return T(yo,yo.current&1|2),A&&Ri(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Re()>ru&&(t.flags|=128,a=!0,Rc(r,!1),t.lanes=4194304)}else{if(!a)if(e=bo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Lc(t,e),Rc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!A)return zc(t),null}else 2*Re()-r.renderingStartTime>ru&&n!==536870912&&(t.flags|=128,a=!0,Rc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(zc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Re(),e.sibling=null,n=yo.current,T(yo,a?n&1|2:n&1),A&&Ri(t,r.treeForkCount),e);case 22:case 23:return vo(t),uo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(zc(t),t.subtreeFlags&6&&(t.flags|=8192)):zc(t),n=t.updateQueue,n!==null&&Lc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&_e(Ea),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra(ha),zc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Vc(e,t){switch(Vi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(ha),Ce(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Te(t),null;case 31:if(t.memoizedState!==null){if(vo(t),t.alternate===null)throw Error(i(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(vo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(yo),null;case 4:return Ce(),null;case 10:return ra(t.type),null;case 22:case 23:return vo(t),uo(),e!==null&&_e(Ea),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(ha),null;case 25:return null;default:return null}}function Hc(e,t){switch(Vi(t),t.tag){case 3:ra(ha),Ce();break;case 26:case 27:case 5:Te(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&vo(t);break;case 13:vo(t);break;case 19:_e(yo);break;case 10:ra(t.type);break;case 22:case 23:vo(t),uo(),e!==null&&_e(Ea);break;case 24:ra(ha)}}function Uc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){X(t,t.return,e)}}function Wc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){X(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){X(t,t.return,e)}}function Gc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ao(t,n)}catch(t){X(e,e.return,t)}}}function Kc(e,t,n){n.props=qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){X(e,t,n)}}function qc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){X(e,t,n)}}function Jc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){X(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){X(e,t,n)}else n.current=null}function Yc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){X(e,e.return,t)}}function Xc(e,t,n){try{var r=e.stateNode;Ld(r,e.type,n,t),r[bt]=t}catch(t){X(e,e.return,t)}}function Zc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$d(e.type)||e.tag===4}function Qc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Zc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$d(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fn));else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Id(t,r,n),t[yt]=e,t[bt]=n}catch(t){X(e,e.return,t)}}var nl=!1,rl=!1,il=!1,al=typeof WeakSet==`function`?WeakSet:Set,ol=null;function sl(e,t){if(e=e.containerInfo,Bd=lp,e=Lr(e),Rr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},lp=!1,ol=t;ol!==null;)if(t=ol,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,ol=e;else for(;ol!==null;){switch(t=ol,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=qs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){X(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:nf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ol=e;break}ol=t.return}}function cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Cl(e,n),r&4&&Uc(5,n);break;case 1:if(Cl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){X(n,n.return,e)}else{var i=qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){X(n,n.return,e)}}r&64&&Gc(n),r&512&&qc(n,n.return);break;case 3:if(Cl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ao(e,t)}catch(e){X(n,n.return,e)}}break;case 27:t===null&&r&4&&tl(n);case 26:case 5:Cl(e,n),t===null&&r&4&&Yc(n),r&512&&qc(n,n.return);break;case 12:Cl(e,n);break;case 31:Cl(e,n),r&4&&ml(e,n);break;case 13:Cl(e,n),r&4&&hl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Yu.bind(null,n),lf(e,n))));break;case 22:if(r=n.memoizedState!==null||nl,!r){t=t!==null&&t.memoizedState!==null||rl,i=nl;var a=rl;nl=r,(rl=t)&&!a?Tl(e,n,(n.subtreeFlags&8772)!=0):Cl(e,n),nl=i,rl=a}break;case 30:break;default:Cl(e,n)}}function ll(e){var t=e.alternate;t!==null&&(e.alternate=null,ll(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;n!==null;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(Je&&typeof Je.onCommitFiberUnmount==`function`)try{Je.onCommitFiberUnmount(qe,n)}catch{}switch(n.tag){case 26:rl||Jc(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rl||Jc(n,t);var r=ul,i=dl;$d(n.type)&&(ul=n.stateNode,dl=!1),fl(e,t,n),hf(n.stateNode),ul=r,dl=i;break;case 5:rl||Jc(n,t);case 6:if(r=ul,i=dl,ul=null,fl(e,t,n),ul=r,dl=i,ul!==null)if(dl)try{(ul.nodeType===9?ul.body:ul.nodeName===`HTML`?ul.ownerDocument.body:ul).removeChild(n.stateNode)}catch(e){X(n,t,e)}else try{ul.removeChild(n.stateNode)}catch(e){X(n,t,e)}break;case 18:ul!==null&&(dl?(e=ul,ef(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Fp(e)):ef(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:Wc(2,n,t),rl||Wc(4,n,t),fl(e,t,n);break;case 1:rl||(Jc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Kc(n,t,r)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:rl=(r=rl)||n.memoizedState!==null,fl(e,t,n),rl=r;break;default:fl(e,t,n)}}function ml(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fp(e)}catch(e){X(t,t.return,e)}}}function hl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fp(e)}catch(e){X(t,t.return,e)}}function gl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new al),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new al),t;default:throw Error(i(435,e.tag))}}function _l(e,t){var n=gl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Xu.bind(null,e,t);t.then(r,r)}})}function vl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if($d(c.type)){ul=c.stateNode,dl=!1;break a}break;case 5:ul=c.stateNode,dl=!1;break a;case 3:case 4:ul=c.stateNode.containerInfo,dl=!0;break a}c=c.return}if(ul===null)throw Error(i(160));pl(o,s,a),ul=null,dl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bl(t,e),t=t.sibling}var yl=null;function bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vl(t,e),xl(e),r&4&&(Wc(3,e,e.return),Uc(3,e),Wc(5,e,e.return));break;case 1:vl(t,e),xl(e),r&512&&(rl||n===null||Jc(n,n.return)),r&64&&nl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=yl;if(vl(t,e),xl(e),r&512&&(rl||n===null||Jc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[Et]||o[yt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Id(o,r,n),o[yt]=e,Mt(o),r=o;break a;case`link`:var s=Uf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Uf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[yt]=e,Mt(o),r=o}e.stateNode=r}else Wf(a,e.type,e.stateNode);else e.stateNode=Rf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Wf(a,e.type,e.stateNode):Rf(a,r,e.memoizedProps))}break;case 27:vl(t,e),xl(e),r&512&&(rl||n===null||Jc(n,n.return)),n!==null&&r&4&&Xc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(vl(t,e),xl(e),r&512&&(rl||n===null||Jc(n,n.return)),e.flags&32){a=e.stateNode;try{rn(a,``)}catch(t){X(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Xc(e,a,n===null?a:n.memoizedProps)),r&1024&&(il=!0);break;case 6:if(vl(t,e),xl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){X(e,e.return,t)}}break;case 3:if(Hf=null,a=yl,yl=vf(t.containerInfo),vl(t,e),yl=a,xl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fp(t.containerInfo)}catch(t){X(e,e.return,t)}il&&(il=!1,Sl(e));break;case 4:r=yl,yl=vf(e.stateNode.containerInfo),vl(t,e),xl(e),yl=r;break;case 12:vl(t,e),xl(e);break;case 31:vl(t,e),xl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,_l(e,r)));break;case 13:vl(t,e),xl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(tu=Re()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,_l(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=nl,d=rl;if(nl=u||a,rl=d||l,vl(t,e),rl=d,nl=u,xl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||nl||rl||wl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){X(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){X(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?tf(m,!0):tf(l.stateNode,!1)}catch(e){X(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,_l(e,n))));break;case 19:vl(t,e),xl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,_l(e,r)));break;case 30:break;case 21:break;default:vl(t,e),xl(e)}}function xl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Zc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;el(e,Qc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(rn(o,``),n.flags&=-33),el(e,Qc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;$c(e,Qc(e),s);break;default:throw Error(i(161))}}catch(t){X(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cl(e,t.alternate,t),t=t.sibling}function wl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wc(4,t,t.return),wl(t);break;case 1:Jc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Kc(t,t.return,n),wl(t);break;case 27:hf(t.stateNode);case 26:case 5:Jc(t,t.return),wl(t);break;case 22:t.memoizedState===null&&wl(t);break;case 30:wl(t);break;default:wl(t)}e=e.sibling}}function Tl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Tl(i,a,n),Uc(4,a);break;case 1:if(Tl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){X(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)io(c[i],s)}catch(e){X(r,r.return,e)}}n&&o&64&&Gc(a),qc(a,a.return);break;case 27:tl(a);case 26:case 5:Tl(i,a,n),n&&r===null&&o&4&&Yc(a),qc(a,a.return);break;case 12:Tl(i,a,n);break;case 31:Tl(i,a,n),n&&o&4&&ml(i,a);break;case 13:Tl(i,a,n),n&&o&4&&hl(i,a);break;case 22:a.memoizedState===null&&Tl(i,a,n),qc(a,a.return);break;case 30:break;default:Tl(i,a,n)}t=t.sibling}}function El(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_a(n))}function Dl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e))}function Ol(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kl(e,t,n,r),t=t.sibling}function kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ol(e,t,n,r),i&2048&&Uc(9,t);break;case 1:Ol(e,t,n,r);break;case 3:Ol(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e)));break;case 12:if(i&2048){Ol(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){X(t,t.return,e)}}else Ol(e,t,n,r);break;case 31:Ol(e,t,n,r);break;case 13:Ol(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Ol(e,t,n,r):(a._visibility|=2,Al(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Ol(e,t,n,r):jl(e,t),i&2048&&El(o,t);break;case 24:Ol(e,t,n,r),i&2048&&Dl(t.alternate,t);break;default:Ol(e,t,n,r)}}function Al(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Al(a,o,s,c,i),Uc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Al(a,o,s,c,i)):u._visibility&2?Al(a,o,s,c,i):jl(a,o),i&&l&2048&&El(o.alternate,o);break;case 24:Al(a,o,s,c,i),i&&l&2048&&Dl(o.alternate,o);break;default:Al(a,o,s,c,i)}t=t.sibling}}function jl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:jl(n,r),i&2048&&El(r.alternate,r);break;case 24:jl(n,r),i&2048&&Dl(r.alternate,r);break;default:jl(n,r)}t=t.sibling}}var Ml=8192;function Nl(e,t,n){if(e.subtreeFlags&Ml)for(e=e.child;e!==null;)Pl(e,t,n),e=e.sibling}function Pl(e,t,n){switch(e.tag){case 26:Nl(e,t,n),e.flags&Ml&&e.memoizedState!==null&&qf(n,yl,e.memoizedState,e.memoizedProps);break;case 5:Nl(e,t,n);break;case 3:case 4:var r=yl;yl=vf(e.stateNode.containerInfo),Nl(e,t,n),yl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ml,Ml=16777216,Nl(e,t,n),Ml=r):Nl(e,t,n));break;default:Nl(e,t,n)}}function Fl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Il(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ol=r,zl(r,e)}Fl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ll(e),e=e.sibling}function Ll(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Wc(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rl(e)):Il(e);break;default:Il(e)}}function Rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ol=r,zl(r,e)}Fl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wc(8,t,t.return),Rl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Rl(t));break;default:Rl(t)}e=e.sibling}}function zl(e,t){for(;ol!==null;){var n=ol;switch(n.tag){case 0:case 11:case 15:Wc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_a(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ol=r;else a:for(n=e;ol!==null;){r=ol;var i=r.sibling,a=r.return;if(ll(r),r===n){ol=null;break a}if(i!==null){i.return=a,ol=i;break a}ol=a}}}var Bl={getCacheForType:function(e){var t=la(ha),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return la(ha).controller.signal}},Vl=typeof WeakMap==`function`?WeakMap:Map,U=0,W=null,G=null,K=0,q=0,Hl=null,Ul=!1,Wl=!1,Gl=!1,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,J=0,Zl=0,Ql=null,$l=null,eu=!1,tu=0,nu=0,ru=1/0,iu=null,au=null,ou=0,su=null,cu=null,lu=0,uu=0,du=null,fu=null,pu=0,mu=null;function hu(){return U&2&&K!==0?K&-K:C.T===null?gt():fd()}function gu(){if(J===0)if(!(K&536870912)||A){var e=tt;tt<<=1,!(tt&3932160)&&(tt=262144),J=e}else J=536870912;return e=fo.current,e!==null&&(e.flags|=32),J}function _u(e,t,n){(e===W&&(q===2||q===9)||e.cancelPendingCommit!==null)&&(wu(e,0),xu(e,K,J,!1)),lt(e,n),(!(U&2)||e!==W)&&(e===W&&(!(U&2)&&(Yl|=n),ql===4&&xu(e,K,J,!1)),id(e))}function vu(e,t,n){if(U&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||at(e,t),a=r?Mu(e,t):Au(e,t,!0),o=r;do{if(a===0){Wl&&!r&&xu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!bu(n)){a=Au(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Ql;var l=c.current.memoizedState.isDehydrated;if(l&&(wu(c,s).flags|=256),s=Au(c,s,!1),s!==2){if(Gl&&!l){c.errorRecoveryDisabledLanes|=o,Yl|=o,a=4;break a}o=$l,$l=a,o!==null&&($l===null?$l=o:$l.push.apply($l,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){wu(e,0),xu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:xu(r,t,J,!Ul);break a;case 2:$l=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=tu+300-Re(),10<a)){if(xu(r,t,J,!Ul),it(r,0,!0)!==0)break a;lu=t,r.timeoutHandle=Jd(yu.bind(null,r,n,$l,iu,eu,t,J,Yl,Zl,Ul,o,`Throttled`,-0,0),a);break a}yu(r,n,$l,iu,eu,t,J,Yl,Zl,Ul,o,null,-0,0)}}break}while(1);id(e)}function yu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},Pl(t,a,d);var m=(a&62914560)===a?tu-Re():(a&4194048)===a?nu-Re():0;if(m=Yf(d,m),m!==null){lu=a,e.cancelPendingCommit=m(Ru.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),xu(e,a,o,!l);return}}Ru(e,t,a,n,r,i,o,s,c)}function bu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Mr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xu(e,t,n,r){t&=~Xl,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Xe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&dt(e,n,t)}function Su(){return U&6?!0:(ad(0,!1),!1)}function Cu(){if(G!==null){if(q===0)var e=G.return;else e=G,ta=ea=null,zo(e),Ba=null,Va=0,e=G;for(;e!==null;)Hc(e.alternate,e),e=e.return;G=null}}function wu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),lu=0,Cu(),W=e,G=n=bi(e.current,null),K=t,q=0,Hl=null,Ul=!1,Wl=at(e,t),Gl=!1,Zl=J=Xl=Yl=Jl=ql=0,$l=Ql=null,eu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Xe(r),a=1<<i;t|=e[i],r&=~a}return Kl=t,ui(),n}function Tu(e,t){M=null,C.H=Bs,t===Aa||t===Ma?(t=Ra(),q=3):t===ja?(t=Ra(),q=4):q=t===rc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Hl=t,G===null&&(ql=1,Zs(e,Oi(t,e.current)))}function Eu(){var e=fo.current;return e===null?!0:(K&4194048)===K?po===null:(K&62914560)===K||K&536870912?e===po:!1}function Du(){var e=C.H;return C.H=Bs,e===null?Bs:e}function Ou(){var e=C.A;return C.A=Bl,e}function ku(){ql=4,Ul||(K&4194048)!==K&&fo.current!==null||(Wl=!0),!(Jl&134217727)&&!(Yl&134217727)||W===null||xu(W,K,J,!1)}function Au(e,t,n){var r=U;U|=2;var i=Du(),a=Ou();(W!==e||K!==t)&&(iu=null,wu(e,t)),t=!1;var o=ql;a:do try{if(q!==0&&G!==null){var s=G,c=Hl;switch(q){case 8:Cu(),o=6;break a;case 3:case 2:case 9:case 6:fo.current===null&&(t=!0);var l=q;if(q=0,Hl=null,Iu(e,s,c,l),n&&Wl){o=0;break a}break;default:l=q,q=0,Hl=null,Iu(e,s,c,l)}}ju(),o=ql;break}catch(t){Tu(e,t)}while(1);return t&&e.shellSuspendCounter++,ta=ea=null,U=r,C.H=i,C.A=a,G===null&&(W=null,K=0,ui()),o}function ju(){for(;G!==null;)Pu(G)}function Mu(e,t){var n=U;U|=2;var r=Du(),a=Ou();W!==e||K!==t?(iu=null,ru=Re()+500,wu(e,t)):Wl=at(e,t);a:do try{if(q!==0&&G!==null){t=G;var o=Hl;b:switch(q){case 1:q=0,Hl=null,Iu(e,t,o,1);break;case 2:case 9:if(Pa(o)){q=0,Hl=null,Fu(t);break}t=function(){q!==2&&q!==9||W!==e||(q=7),id(e)},o.then(t,t);break a;case 3:q=7;break a;case 4:q=5;break a;case 7:Pa(o)?(q=0,Hl=null,Fu(t)):(q=0,Hl=null,Iu(e,t,o,7));break;case 5:var s=null;switch(G.tag){case 26:s=G.memoizedState;case 5:case 27:var c=G;if(s?Kf(s):c.stateNode.complete){q=0,Hl=null;var l=c.sibling;if(l!==null)G=l;else{var u=c.return;u===null?G=null:(G=u,Y(u))}break b}}q=0,Hl=null,Iu(e,t,o,5);break;case 6:q=0,Hl=null,Iu(e,t,o,6);break;case 8:Cu(),ql=6;break a;default:throw Error(i(462))}}Nu();break}catch(t){Tu(e,t)}while(1);return ta=ea=null,C.H=r,C.A=a,U=n,G===null?(W=null,K=0,ui(),ql):0}function Nu(){for(;G!==null&&!Ie();)Pu(G)}function Pu(e){var t=Nc(e.alternate,e,Kl);e.memoizedProps=e.pendingProps,t===null?Y(e):G=t}function Fu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_c(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=_c(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:zo(t);default:Hc(n,t),t=G=xi(t,Kl),t=Nc(n,t,Kl)}e.memoizedProps=e.pendingProps,t===null?Y(e):G=t}function Iu(e,t,n,r){ta=ea=null,zo(t),Ba=null,Va=0;var i=t.return;try{if(nc(e,i,t,n,K)){ql=1,Zs(e,Oi(n,e.current)),G=null;return}}catch(t){if(i!==null)throw G=i,t;ql=1,Zs(e,Oi(n,e.current)),G=null;return}t.flags&32768?(A||r===1?e=!0:Wl||K&536870912?e=!1:(Ul=e=!0,(r===2||r===9||r===3||r===6)&&(r=fo.current,r!==null&&r.tag===13&&(r.flags|=16384))),Lu(t,e)):Y(t)}function Y(e){var t=e;do{if(t.flags&32768){Lu(t,Ul);return}e=t.return;var n=Bc(t.alternate,t,Kl);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);ql===0&&(ql=5)}function Lu(e,t){do{var n=Vc(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);ql=6,G=null}function Ru(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Uu();while(ou!==0);if(U&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=li,ut(e,n,o,s,c,l),e===W&&(G=W=null,K=0),cu=t,su=e,lu=n,uu=o,du=a,fu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Zu(He,function(){return Wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=C.T,C.T=null,a=w.p,w.p=2,s=U,U|=4;try{sl(e,t,n)}finally{U=s,w.p=a,C.T=r}}ou=1,zu(),Bu(),Vu()}}function zu(){if(ou===1){ou=0;var e=su,t=cu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=C.T,C.T=null;var r=w.p;w.p=2;var i=U;U|=4;try{bl(t,e);var a=Vd,o=Lr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ir(s.ownerDocument.documentElement,s)){if(c!==null&&Rr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Fr(s,h),v=Fr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}lp=!!Bd,Vd=Bd=null}finally{U=i,w.p=r,C.T=n}}e.current=t,ou=2}}function Bu(){if(ou===2){ou=0;var e=su,t=cu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=C.T,C.T=null;var r=w.p;w.p=2;var i=U;U|=4;try{cl(e,t.alternate,t)}finally{U=i,w.p=r,C.T=n}}ou=3}}function Vu(){if(ou===4||ou===3){ou=0,Le();var e=su,t=cu,n=lu,r=fu;t.subtreeFlags&10256||t.flags&10256?ou=5:(ou=0,cu=su=null,Hu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(au=null),ht(n),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot==`function`)try{Je.onCommitFiberRoot(qe,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=C.T,i=w.p,w.p=2,C.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{C.T=t,w.p=i}}lu&3&&Uu(),id(e),i=e.pendingLanes,n&261930&&i&42?e===mu?pu++:(pu=0,mu=e):pu=0,ad(0,!1)}}function Hu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_a(t)))}function Uu(){return zu(),Bu(),Vu(),Wu()}function Wu(){if(ou!==5)return!1;var e=su,t=uu;uu=0;var n=ht(lu),r=C.T,a=w.p;try{w.p=32>n?32:n,C.T=null,n=du,du=null;var o=su,s=lu;if(ou=0,cu=su=null,lu=0,U&6)throw Error(i(331));var c=U;if(U|=4,Ll(o.current),kl(o,o.current,s,n),U=c,ad(0,!1),Je&&typeof Je.onPostCommitFiberRoot==`function`)try{Je.onPostCommitFiberRoot(qe,o)}catch{}return!0}finally{w.p=a,C.T=r,Hu(e,t)}}function Gu(e,t,n){t=Oi(n,t),t=$s(e.stateNode,t,2),e=Qa(e,t,2),e!==null&&(lt(e,2),id(e))}function X(e,t,n){if(e.tag===3)Gu(e,e,n);else for(;t!==null;){if(t.tag===3){Gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(au===null||!au.has(r))){e=Oi(n,e),n=ec(2),r=Qa(t,n,2),r!==null&&(tc(n,r,t,e),lt(r,2),id(r));break}}t=t.return}}function Ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Gl=!0,i.add(n),e=qu.bind(null,e,t,n),t.then(e,e))}function qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,W===e&&(K&n)===n&&(ql===4||ql===3&&(K&62914560)===K&&300>Re()-tu?!(U&2)&&wu(e,0):Xl|=n,Zl===K&&(Zl=0)),id(e)}function Ju(e,t){t===0&&(t=st()),e=pi(e,t),e!==null&&(lt(e,t),id(e))}function Yu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ju(e,n)}function Xu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ju(e,n)}function Zu(e,t){return Pe(e,t)}var Qu=null,$u=null,ed=!1,td=!1,nd=!1,rd=0;function id(e){e!==$u&&e.next===null&&($u===null?Qu=$u=e:$u=$u.next=e),td=!0,ed||(ed=!0,dd())}function ad(e,t){if(!nd&&td){nd=!0;do for(var n=!1,r=Qu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Xe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ud(r,a))}else a=K,a=it(r,r===W?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||at(r,a)||(n=!0,ud(r,a));r=r.next}while(n);nd=!1}}function od(){sd()}function sd(){td=ed=!1;var e=0;rd!==0&&qd()&&(e=rd);for(var t=Re(),n=null,r=Qu;r!==null;){var i=r.next,a=cd(r,t);a===0?(r.next=null,n===null?Qu=i:n.next=i,i===null&&($u=n)):(n=r,(e!==0||a&3)&&(td=!0)),r=i}ou!==0&&ou!==5||ad(e,!1),rd!==0&&(rd=0)}function cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Xe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=ot(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=W,n=K,n=it(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(q===2||q===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Fe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||at(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Fe(r),ht(n)){case 2:case 8:n=Ve;break;case 32:n=He;break;case 268435456:n=We;break;default:n=He}return r=ld.bind(null,e),n=Pe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Fe(r),e.callbackPriority=2,e.callbackNode=null,2}function ld(e,t){if(ou!==0&&ou!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Uu()&&e.callbackNode!==n)return null;var r=K;return r=it(e,e===W?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(vu(e,r,t),cd(e,Re()),e.callbackNode!=null&&e.callbackNode===n?ld.bind(null,e):null)}function ud(e,t){if(Uu())return null;vu(e,t,!0)}function dd(){Zd(function(){U&6?Pe(Be,od):sd()})}function fd(){if(rd===0){var e=ba;e===0&&(e=et,et<<=1,!(et&261888)&&(et=256)),rd=e}return rd}function pd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:dn(``+e)}function md(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=pd((i[bt]||null).action),o=r.submitter;o&&(t=(t=o[bt]||null)?pd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Mn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(rd!==0){var e=o?md(i,o):new FormData(i);Ds(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?md(i,o):new FormData(i),Ds(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var gd=0;gd<ii.length;gd++){var _d=ii[gd];ai(_d.toLowerCase(),`on`+(_d[0].toUpperCase()+_d.slice(1)))}ai(Xr,`onAnimationEnd`),ai(Zr,`onAnimationIteration`),ai(Qr,`onAnimationStart`),ai(`dblclick`,`onDoubleClick`),ai(`focusin`,`onFocus`),ai(`focusout`,`onBlur`),ai($r,`onTransitionRun`),ai(ei,`onTransitionStart`),ai(ti,`onTransitionCancel`),ai(ni,`onTransitionEnd`),It(`onMouseEnter`,[`mouseout`,`mouseover`]),It(`onMouseLeave`,[`mouseout`,`mouseover`]),It(`onPointerEnter`,[`pointerout`,`pointerover`]),It(`onPointerLeave`,[`pointerout`,`pointerover`]),Ft(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Ft(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Ft(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Ft(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Ft(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Ft(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var vd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),yd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(vd));function bd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){oi(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){oi(e)}i.currentTarget=null,a=c}}}}function Z(e,t){var n=t[St];n===void 0&&(n=t[St]=new Set);var r=e+`__bubble`;n.has(r)||(wd(t,e,2,!1),n.add(r))}function xd(e,t,n){var r=0;t&&(r|=4),wd(n,e,r,t)}var Sd=`_reactListening`+Math.random().toString(36).slice(2);function Cd(e){if(!e[Sd]){e[Sd]=!0,Nt.forEach(function(t){t!==`selectionchange`&&(yd.has(t)||xd(t,!1,e),xd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sd]||(t[Sd]=!0,xd(`selectionchange`,!1,t))}}function wd(e,t,n,r){switch(gp(t)){case 2:var i=up;break;case 8:i=dp;break;default:i=fp}n=i.bind(null,t,n,e),i=void 0,!Sn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Td(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Ot(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}yn(function(){var r=a,i=mn(n),s=[];a:{var c=ri.get(e);if(c!==void 0){var l=Mn,u=e;switch(e){case`keypress`:if(On(n)===0)break a;case`keydown`:case`keyup`:l=Xn;break;case`focusin`:u=`focus`,l=Vn;break;case`focusout`:u=`blur`,l=Vn;break;case`beforeblur`:case`afterblur`:l=Vn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=zn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Bn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Zn;break;case Xr:case Zr:case Qr:l=Hn;break;case ni:l=Qn;break;case`scroll`:case`scrollend`:l=Pn;break;case`wheel`:l=$n;break;case`copy`:case`cut`:case`paste`:l=Un;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=O;break;case`toggle`:case`beforetoggle`:l=er}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=bn(m,p),g!=null&&d.push(Ed(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==pn&&(u=n.relatedTarget||n.fromElement)&&(Ot(u)||u[xt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Ot(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=zn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=O,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:At(l),h=u==null?c:At(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Ot(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Od,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&kd(s,c,l,d,!1),u!==null&&f!==null&&kd(s,f,u,d,!0)}}a:{if(c=r?At(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=br;else if(mr(c))if(xr)v=Ar;else{v=Or;var y=Dr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&cn(r.elementType)&&(v=br):v=kr;if(v&&=v(e,r)){hr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&$t(c,`number`,c.value)}switch(y=r?At(r):window,e){case`focusin`:(mr(y)||y.contentEditable===`true`)&&(Br=y,Vr=r,Hr=null);break;case`focusout`:Hr=Vr=Br=null;break;case`mousedown`:Ur=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Ur=!1,Wr(s,n,i);break;case`selectionchange`:if(zr)break;case`keydown`:case`keyup`:Wr(s,n,i)}var b;if(nr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else ur?cr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(ar&&n.locale!==`ko`&&(ur||x!==`onCompositionStart`?x===`onCompositionEnd`&&ur&&(b=Dn()):(wn=i,Tn=`value`in wn?wn.value:wn.textContent,ur=!0)),y=Dd(r,x),0<y.length&&(x=new Wn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=lr(n),b!==null&&(x.data=b)))),(b=ir?dr(e,n):fr(e,n))&&(x=Dd(r,`onBeforeInput`),0<x.length&&(y=new Wn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),hd(s,e,r,n,i)}bd(s,t)})}function Ed(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=bn(e,n),i!=null&&r.unshift(Ed(e,i,a)),i=bn(e,t),i!=null&&r.push(Ed(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Od(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=bn(n,a),l!=null&&o.unshift(Ed(n,l,c))):i||(l=bn(n,a),l!=null&&o.push(Ed(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ad=/\r\n?/g,jd=/\u0000|\uFFFD/g;function Md(e){return(typeof e==`string`?e:``+e).replace(Ad,`
`).replace(jd,``)}function Nd(e,t){return t=Md(t),Md(e)===t}function Pd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||rn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&rn(e,``+r);break;case`className`:Ht(e,`class`,r);break;case`tabIndex`:Ht(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ht(e,n,r);break;case`style`:sn(e,r,o);break;case`data`:if(t!==`object`){Ht(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=dn(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Pd(e,t,`name`,a.name,a,null),Pd(e,t,`formEncType`,a.formEncType,a,null),Pd(e,t,`formMethod`,a.formMethod,a,null),Pd(e,t,`formTarget`,a.formTarget,a,null)):(Pd(e,t,`encType`,a.encType,a,null),Pd(e,t,`method`,a.method,a,null),Pd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=dn(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=fn);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=dn(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Z(`beforetoggle`,e),Z(`toggle`,e),Vt(e,`popover`,r);break;case`xlinkActuate`:Ut(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Ut(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Ut(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Ut(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Ut(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Ut(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Ut(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Ut(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Ut(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Vt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=ln.get(n)||n,Vt(e,n,r))}}function Fd(e,t,n,r,a,o){switch(n){case`style`:sn(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?rn(e,r):(typeof r==`number`||typeof r==`bigint`)&&rn(e,``+r);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=fn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Pt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[bt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Vt(e,n,r)}}}function Id(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Z(`error`,e),Z(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Pd(e,t,o,s,n,null)}}a&&Pd(e,t,`srcSet`,n.srcSet,n,null),r&&Pd(e,t,`src`,n.src,n,null);return;case`input`:Z(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Pd(e,t,r,d,n,null)}}Qt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Z(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Pd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&en(e,!!r,n,!0):en(e,!!r,t,!1);return;case`textarea`:for(s in Z(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Pd(e,t,s,c,n,null)}nn(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Pd(e,t,l,r,n,null)}return;case`dialog`:Z(`beforetoggle`,e),Z(`toggle`,e),Z(`cancel`,e),Z(`close`,e);break;case`iframe`:case`object`:Z(`load`,e);break;case`video`:case`audio`:for(r=0;r<vd.length;r++)Z(vd[r],e);break;case`image`:Z(`error`,e),Z(`load`,e);break;case`details`:Z(`toggle`,e);break;case`embed`:case`source`:case`link`:Z(`error`,e),Z(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Pd(e,t,u,r,n,null)}return;default:if(cn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Fd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Pd(e,t,c,r,n,null))}function Ld(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Pd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Pd(e,t,p,m,r,f)}}E(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Pd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Pd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?en(e,!!n,n?[]:``,!1):en(e,!!n,t,!0)):en(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Pd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Pd(e,t,s,a,r,o)}tn(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Pd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Pd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Pd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Pd(e,t,u,p,r,m)}return;default:if(cn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Fd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Fd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Pd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Pd(e,t,f,p,r,m)}function Rd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function zd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Rd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Rd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Bd=null,Vd=null;function Hd(e){return e.nodeType===9?e:e.ownerDocument}function Ud(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Gd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=null;function qd(){var e=window.event;return e&&e.type===`popstate`?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var Jd=typeof setTimeout==`function`?setTimeout:void 0,Yd=typeof clearTimeout==`function`?clearTimeout:void 0,Xd=typeof Promise==`function`?Promise:void 0,Zd=typeof queueMicrotask==`function`?queueMicrotask:Xd===void 0?Jd:function(e){return Xd.resolve(null).then(e).catch(Qd)};function Qd(e){setTimeout(function(){throw e})}function $d(e){return e===`head`}function ef(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Fp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)hf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,hf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Et]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&hf(e.ownerDocument.body);n=i}while(n);Fp(t)}function tf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:nf(n),Dt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function rf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[Et])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=uf(e.nextSibling),e===null)break}return null}function af(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=uf(e.nextSibling),e===null))return null;return e}function of(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=uf(e.nextSibling),e===null))return null;return e}function sf(e){return e.data===`$?`||e.data===`$~`}function cf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function lf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function uf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var df=null;function ff(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return uf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function mf(e,t,n){switch(t=Hd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function hf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dt(e)}var gf=new Map,_f=new Set;function vf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yf=w.d;w.d={f:bf,r:xf,D:wf,C:Tf,L:Ef,m:Df,X:kf,S:Of,M:Af};function bf(){var e=yf.f(),t=Su();return e||t}function xf(e){var t=kt(e);t!==null&&t.tag===5&&t.type===`form`?ks(t):yf.r(e)}var Sf=typeof document>`u`?null:document;function Cf(e,t,n){var r=Sf;if(r&&typeof t==`string`&&t){var i=Zt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),_f.has(i)||(_f.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Id(t,`link`,e),Mt(t),r.head.appendChild(t)))}}function wf(e){yf.D(e),Cf(`dns-prefetch`,e,null)}function Tf(e,t){yf.C(e,t),Cf(`preconnect`,e,t)}function Ef(e,t,n){yf.L(e,t,n);var r=Sf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Zt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Zt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Zt(n.imageSizes)+`"]`)):i+=`[href="`+Zt(e)+`"]`;var a=i;switch(t){case`style`:a=Mf(e);break;case`script`:a=If(e)}gf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),gf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Nf(a))||t===`script`&&r.querySelector(Lf(a))||(t=r.createElement(`link`),Id(t,`link`,e),Mt(t),r.head.appendChild(t)))}}function Df(e,t){yf.m(e,t);var n=Sf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Zt(r)+`"][href="`+Zt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=If(e)}if(!gf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),gf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Lf(a)))return}r=n.createElement(`link`),Id(r,`link`,e),Mt(r),n.head.appendChild(r)}}}function Of(e,t,n){yf.S(e,t,n);var r=Sf;if(r&&e){var i=jt(r).hoistableStyles,a=Mf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Nf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=gf.get(a))&&Bf(e,n);var c=o=r.createElement(`link`);Mt(c),Id(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,zf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function kf(e,t){yf.X(e,t);var n=Sf;if(n&&e){var r=jt(n).hoistableScripts,i=If(e),a=r.get(i);a||(a=n.querySelector(Lf(i)),a||(e=h({src:e,async:!0},t),(t=gf.get(i))&&Vf(e,t),a=n.createElement(`script`),Mt(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Af(e,t){yf.M(e,t);var n=Sf;if(n&&e){var r=jt(n).hoistableScripts,i=If(e),a=r.get(i);a||(a=n.querySelector(Lf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=gf.get(i))&&Vf(e,t),a=n.createElement(`script`),Mt(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t,n,r){var a=(a=be.current)?vf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Mf(n.href),n=jt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Mf(n.href);var o=jt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Nf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),gf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gf.set(e,n),o||Ff(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=If(n),n=jt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Mf(e){return`href="`+Zt(e)+`"`}function Nf(e){return`link[rel="stylesheet"][`+e+`]`}function Pf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ff(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Id(t,`link`,n),Mt(t),e.head.appendChild(t))}function If(e){return`[src="`+Zt(e)+`"]`}function Lf(e){return`script[async]`+e}function Rf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Zt(n.href)+`"]`);if(r)return t.instance=r,Mt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Mt(r),Id(r,`style`,a),zf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Mf(n.href);var o=e.querySelector(Nf(a));if(o)return t.state.loading|=4,t.instance=o,Mt(o),o;r=Pf(n),(a=gf.get(a))&&Bf(r,a),o=(e.ownerDocument||e).createElement(`link`),Mt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Id(o,`link`,r),t.state.loading|=4,zf(o,n.precedence,e),t.instance=o;case`script`:return o=If(n.src),(a=e.querySelector(Lf(o)))?(t.instance=a,Mt(a),a):(r=n,(a=gf.get(o))&&(r=h({},n),Vf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Mt(a),Id(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,zf(r,n.precedence,e));return t.instance}function zf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Bf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Hf=null;function Uf(e,t,n){if(Hf===null){var r=new Map,i=Hf=new Map;i.set(n,r)}else i=Hf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Et]||a[yt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Wf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Gf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Kf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function qf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Mf(r.href),a=t.querySelector(Nf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Xf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Mt(a);return}a=t.ownerDocument||t,r=Pf(r),(i=gf.get(i))&&Bf(r,i),a=a.createElement(`link`),Mt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Id(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Xf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Jf=0;function Yf(e,t){return e.stylesheets&&e.count===0&&Qf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Qf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Jf===0&&(Jf=62500*zd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Jf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zf=null;function Qf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zf=new Map,t.forEach($f,e),Zf=null,Xf.call(e))}function $f(e,t){if(!(t.state.loading&4)){var n=Zf.get(e);if(n)var r=n.get(null);else{n=new Map,Zf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Xf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ep={$$typeof:te,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function tp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function np(e,t,n,r,i,a,o,s,c,l,u,d){return e=new tp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=vi(3,null,null,t),e.current=a,a.stateNode=e,t=ga(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ya(a),e}function rp(e){return e?(e=gi,e):gi}function ip(e,t,n,r,i,a){i=rp(i),r.context===null?r.context=i:r.pendingContext=i,r=Za(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Qa(e,r,t),n!==null&&(_u(n,e,t),$a(n,e,t))}function ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function op(e,t){ap(e,t),(e=e.alternate)&&ap(e,t)}function sp(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&_u(t,e,67108864),op(e,67108864)}}function cp(e){if(e.tag===13||e.tag===31){var t=hu();t=mt(t);var n=pi(e,t);n!==null&&_u(n,e,t),op(e,t)}}var lp=!0;function up(e,t,n,r){var i=C.T;C.T=null;var a=w.p;try{w.p=2,fp(e,t,n,r)}finally{w.p=a,C.T=i}}function dp(e,t,n,r){var i=C.T;C.T=null;var a=w.p;try{w.p=8,fp(e,t,n,r)}finally{w.p=a,C.T=i}}function fp(e,t,n,r){if(lp){var i=pp(r);if(i===null)Td(e,t,r,mp,n),Tp(e,r);else if(Dp(i,e,t,n,r))r.stopPropagation();else if(Tp(e,r),t&4&&-1<wp.indexOf(e)){for(;i!==null;){var a=kt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=rt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Xe(o);s.entanglements[1]|=c,o&=~c}id(a),!(U&6)&&(ru=Re()+500,ad(0,!1))}}break;case 31:case 13:s=pi(a,2),s!==null&&_u(s,a,2),Su(),op(a,2)}if(a=pp(r),a===null&&Td(e,t,r,mp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}function pp(e){return e=mn(e),hp(e)}var mp=null;function hp(e){if(mp=null,e=Ot(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mp=e,null}function gp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(ze()){case Be:return 2;case Ve:return 8;case He:case Ue:return 32;case We:return 268435456;default:return 32}default:return 32}}var _p=!1,vp=null,yp=null,bp=null,xp=new Map,Sp=new Map,Cp=[],wp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Tp(e,t){switch(e){case`focusin`:case`focusout`:vp=null;break;case`dragenter`:case`dragleave`:yp=null;break;case`mouseover`:case`mouseout`:bp=null;break;case`pointerover`:case`pointerout`:xp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Sp.delete(t.pointerId)}}function Ep(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=kt(t),t!==null&&sp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dp(e,t,n,r,i){switch(t){case`focusin`:return vp=Ep(vp,e,t,n,r,i),!0;case`dragenter`:return yp=Ep(yp,e,t,n,r,i),!0;case`mouseover`:return bp=Ep(bp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return xp.set(a,Ep(xp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Sp.set(a,Ep(Sp.get(a)||null,e,t,n,r,i)),!0}return!1}function Op(e){var t=Ot(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,_t(e.priority,function(){cp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,_t(e.priority,function(){cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pn=r,n.target.dispatchEvent(r),pn=null}else return t=kt(n),t!==null&&sp(t),e.blockedOn=n,!1;t.shift()}return!0}function Ap(e,t,n){kp(e)&&n.delete(t)}function jp(){_p=!1,vp!==null&&kp(vp)&&(vp=null),yp!==null&&kp(yp)&&(yp=null),bp!==null&&kp(bp)&&(bp=null),xp.forEach(Ap),Sp.forEach(Ap)}function Mp(e,n){e.blockedOn===n&&(e.blockedOn=null,_p||(_p=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jp)))}var Np=null;function Pp(e){Np!==e&&(Np=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Np===e&&(Np=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(hp(r||n)===null)continue;break}var a=kt(n);a!==null&&(e.splice(t,3),t-=3,Ds(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Fp(e){function t(t){return Mp(t,e)}vp!==null&&Mp(vp,e),yp!==null&&Mp(yp,e),bp!==null&&Mp(bp,e),xp.forEach(t),Sp.forEach(t);for(var n=0;n<Cp.length;n++){var r=Cp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Cp.length&&(n=Cp[0],n.blockedOn===null);)Op(n),n.blockedOn===null&&Cp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[bt]||null;if(typeof a==`function`)o||Pp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[bt]||null)s=o.formAction;else if(hp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Pp(n)}}}function Ip(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Lp(e){this._internalRoot=e}Rp.prototype.render=Lp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;ip(n,hu(),e,t,null,null)},Rp.prototype.unmount=Lp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ip(e.current,2,null,e,null,null),Su(),t[xt]=null}};function Rp(e){this._internalRoot=e}Rp.prototype.unstable_scheduleHydration=function(e){if(e){var t=gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cp.length&&t!==0&&t<Cp[n].priority;n++);Cp.splice(n,0,e),n===0&&Op(e)}};var zp=n.version;if(zp!==`19.2.4`)throw Error(i(527,zp,`19.2.4`));w.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Bp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:C,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{qe=Vp.inject(Bp),Je=Vp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Js,s=Ys,c=Xs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=np(e,1,!1,null,null,n,r,null,o,s,c,Ip),e[xt]=t.current,Cd(e),new Lp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u(),1),v=`modulepreload`,y=function(e){return`/`+e},b={};const x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=y(t,n),t in b)return;b[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:v,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var ee=`popstate`;function te(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return ae(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:oe(t)}return ce(t,n,null,e)}function S(e,t){if(e===!1||e==null)throw Error(t)}function ne(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function re(){return Math.random().toString(36).substring(2,10)}function ie(e,t){return{usr:e.state,key:e.key,idx:t}}function ae(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?se(t):t,state:n,key:t&&t.key||r||re()}}function oe({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function se(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ce(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=ae(h.location,e,t);n&&n(r,e),l=u()+1;let d=ie(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=ae(h.location,e,t);n&&n(r,e),l=u();let i=ie(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return le(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(ee,d),c=e,()=>{i.removeEventListener(ee,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function le(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),S(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:oe(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function ue(e,t,n=`/`){return de(e,t,n,!1)}function de(e,t,n,r){let i=Ee((typeof t==`string`?se(t):t).pathname||`/`,n);if(i==null)return null;let a=C(e);pe(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=Te(i);o=Se(a[e],t,r)}return o}function fe(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function C(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;S(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Pe([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(S(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),C(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:be(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of w(e.path))a(e,t,!0,n)}),t}function w(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=w(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function pe(e){e.sort((e,t)=>e.score===t.score?xe(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var me=/^:[\w-]+$/,he=3,ge=2,_e=1,T=10,ve=-2,ye=e=>e===`*`;function be(e,t){let n=e.split(`/`),r=n.length;return n.some(ye)&&(r+=ve),t&&(r+=ge),n.filter(e=>!ye(e)).reduce((e,t)=>e+(me.test(t)?he:t===``?_e:T),r)}function xe(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function Se(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=Ce({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=Ce({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Pe([a,u.pathname]),pathnameBase:Fe(Pe([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Pe([a,u.pathnameBase]))}return o}function Ce(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=we(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function we(e,t=!1,n=!0){ne(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function Te(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return ne(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ee(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Oe(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?se(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?ke(n.substring(1),`/`):ke(n,t)):a=t,{pathname:a,search:Ie(r),hash:Le(i)}}function ke(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Ae(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function je(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Me(e){let t=je(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Ne(e,t,n,r=!1){let i;typeof e==`string`?i=se(e):(i={...e},S(!i.pathname||!i.pathname.includes(`?`),Ae(`?`,`pathname`,`search`,i)),S(!i.pathname||!i.pathname.includes(`#`),Ae(`#`,`pathname`,`hash`,i)),S(!i.search||!i.search.includes(`#`),Ae(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=Oe(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Pe=e=>e.join(`/`).replace(/\/\/+/g,`/`),Fe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Ie=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Le=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,Re=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ze(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Be(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Ve=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function He(e,t){let n=e;if(typeof n!=`string`||!De.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Ve)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=Ee(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{ne(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ue=_.createContext(null);Ue.displayName=`DataRouter`;var We=_.createContext(null);We.displayName=`DataRouterState`;var Ge=_.createContext(!1),Ke=_.createContext({isTransitioning:!1});Ke.displayName=`ViewTransition`;var qe=_.createContext(new Map);qe.displayName=`Fetchers`;var Je=_.createContext(null);Je.displayName=`Await`;var Ye=_.createContext(null);Ye.displayName=`Navigation`;var Xe=_.createContext(null);Xe.displayName=`Location`;var Ze=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ze.displayName=`Route`;var Qe=_.createContext(null);Qe.displayName=`RouteError`;var $e=`REACT_ROUTER_ERROR`,et=`REDIRECT`,tt=`ROUTE_ERROR_RESPONSE`;function nt(e){if(e.startsWith(`${$e}:${et}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function rt(e){if(e.startsWith(`${$e}:${tt}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new Re(t.status,t.statusText,t.data)}catch{}}function it(e,{relative:t}={}){S(at(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=_.useContext(Ye),{hash:i,pathname:a,search:o}=ft(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Pe([n,a])),r.createHref({pathname:s,search:o,hash:i})}function at(){return _.useContext(Xe)!=null}function ot(){return S(at(),`useLocation() may be used only in the context of a <Router> component.`),_.useContext(Xe).location}var st=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function ct(e){_.useContext(Ye).static||_.useLayoutEffect(e)}function lt(){let{isDataRoute:e}=_.useContext(Ze);return e?jt():ut()}function ut(){S(at(),`useNavigate() may be used only in the context of a <Router> component.`);let e=_.useContext(Ue),{basename:t,navigator:n}=_.useContext(Ye),{matches:r}=_.useContext(Ze),{pathname:i}=ot(),a=JSON.stringify(Me(r)),o=_.useRef(!1);return ct(()=>{o.current=!0}),_.useCallback((r,s={})=>{if(ne(o.current,st),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Ne(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Pe([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}_.createContext(null);function dt(){let{matches:e}=_.useContext(Ze),t=e[e.length-1];return t?t.params:{}}function ft(e,{relative:t}={}){let{matches:n}=_.useContext(Ze),{pathname:r}=ot(),i=JSON.stringify(Me(n));return _.useMemo(()=>Ne(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function pt(e,t){return mt(e,t)}function mt(e,t,n,r,i){S(at(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=_.useContext(Ye),{matches:o}=_.useContext(Ze),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;Nt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=ot(),p;if(t){let e=typeof t==`string`?se(t):t;S(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=ue(e,{pathname:h});ne(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ne(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=xt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Pe([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Pe([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&v?_.createElement(Xe.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},v):v}function ht(){let e=At(),t=ze(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=_.createElement(_.Fragment,null,_.createElement(`p`,null,` Hey developer `),_.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,_.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,_.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),_.createElement(_.Fragment,null,_.createElement(`h2`,null,`Unexpected Application Error!`),_.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?_.createElement(`pre`,{style:i},n):null,o)}var gt=_.createElement(ht,null),_t=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=rt(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:_.createElement(Ze.Provider,{value:this.props.routeContext},_.createElement(Qe.Provider,{value:e,children:this.props.component}));return this.context?_.createElement(yt,{error:e},t):t}};_t.contextType=Ge;var vt=new WeakMap;function yt({children:e,error:t}){let{basename:n}=_.useContext(Ye);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=nt(t.digest);if(e){let r=vt.get(t);if(r)throw r;let i=He(e.location,n);if(Ve&&!vt.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw vt.set(t,n),n}return _.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function bt({routeContext:e,match:t,children:n}){let r=_.useContext(Ue);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ze.Provider,{value:e},n)}function xt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);S(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Be(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||gt,s&&(c<0&&i===0?(Nt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?_.createElement(r.route.Component,null):r.route.element?r.route.element:e,_.createElement(bt,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?_.createElement(_t,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function St(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ct(e){let t=_.useContext(Ue);return S(t,St(e)),t}function wt(e){let t=_.useContext(We);return S(t,St(e)),t}function Tt(e){let t=_.useContext(Ze);return S(t,St(e)),t}function Et(e){let t=Tt(e),n=t.matches[t.matches.length-1];return S(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Dt(){return Et(`useRouteId`)}function Ot(){return wt(`useNavigation`).navigation}function kt(){let{matches:e,loaderData:t}=wt(`useMatches`);return _.useMemo(()=>e.map(e=>fe(e,t)),[e,t])}function At(){let e=_.useContext(Qe),t=wt(`useRouteError`),n=Et(`useRouteError`);return e===void 0?t.errors?.[n]:e}function jt(){let{router:e}=Ct(`useNavigate`),t=Et(`useNavigate`),n=_.useRef(!1);return ct(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{ne(n.current,st),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Mt={};function Nt(e,t,n){!t&&!Mt[e]&&(Mt[e]=!0,ne(!1,n))}_.useOptimistic,_.memo(Pt);function Pt({routes:e,future:t,state:n,onError:r}){return mt(e,void 0,n,r,t)}function Ft({to:e,replace:t,state:n,relative:r}){S(at(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=_.useContext(Ye);ne(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=_.useContext(Ze),{pathname:o}=ot(),s=lt(),c=Ne(e,Me(a),o,r===`path`),l=JSON.stringify(c);return _.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function It(e){S(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function Lt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){S(!at(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=_.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=se(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=_.useMemo(()=>{let e=Ee(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return ne(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:_.createElement(Ye.Provider,{value:c},_.createElement(Xe.Provider,{children:t,value:m}))}function Rt({children:e,location:t}){return pt(zt(e),t)}function zt(e,t=[]){let n=[];return _.Children.forEach(e,(e,r)=>{if(!_.isValidElement(e))return;let i=[...t,r];if(e.type===_.Fragment){n.push.apply(n,zt(e.props.children,i));return}S(e.type===It,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),S(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=zt(e.props.children,i)),n.push(a)}),n}var Bt=`get`,Vt=`application/x-www-form-urlencoded`;function Ht(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Ut(e){return Ht(e)&&e.tagName.toLowerCase()===`button`}function Wt(e){return Ht(e)&&e.tagName.toLowerCase()===`form`}function Gt(e){return Ht(e)&&e.tagName.toLowerCase()===`input`}function Kt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qt(e,t){return e.button===0&&(!t||t===`_self`)&&!Kt(e)}function Jt(e=``){return new URLSearchParams(typeof e==`string`||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}function Yt(e,t){let n=Jt(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}var Xt=null;function Zt(){if(Xt===null)try{new FormData(document.createElement(`form`),0),Xt=!1}catch{Xt=!0}return Xt}var E=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Qt(e){return e!=null&&!E.has(e)?(ne(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vt}"`),null):e}function $t(e,t){let n,r,i,a,o;if(Wt(e)){let o=e.getAttribute(`action`);r=o?Ee(o,t):null,n=e.getAttribute(`method`)||Bt,i=Qt(e.getAttribute(`enctype`))||Vt,a=new FormData(e)}else if(Ut(e)||Gt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?Ee(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Bt,i=Qt(e.getAttribute(`formenctype`))||Qt(o.getAttribute(`enctype`))||Vt,a=new FormData(o,e),!Zt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Ht(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Bt,r=null,i=Vt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var en={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},tn=/[&><\u2028\u2029]/g;function nn(e){return e.replace(tn,e=>en[e])}function rn(e,t){if(e===!1||e==null)throw Error(t)}function an(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&Ee(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function on(e,t){if(e.id in t)return t[e.id];try{let n=await x(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sn(e){return e!=null&&typeof e.page==`string`}function cn(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function ln(e,t,n){return mn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await on(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(cn).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function un(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function dn(e,t,{includeHydrateFallback:n}={}){return fn(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function fn(e){return[...new Set(e)]}function pn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function mn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!sn(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(pn(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function hn(){let e=_.useContext(Ue);return rn(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function gn(){let e=_.useContext(We);return rn(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var _n=_.createContext(void 0);_n.displayName=`FrameworkContext`;function vn(){let e=_.useContext(_n);return rn(e,`You must render this element inside a <HydratedRouter> element`),e}function yn(e,t){let n=_.useContext(_n),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=_.useRef(null);_.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),_.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:bn(s,p),onBlur:bn(c,m),onMouseEnter:bn(l,p),onMouseLeave:bn(u,m),onTouchStart:bn(d,p)}]:[a,f,{}]:[!1,f,{}]}function bn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xn({page:e,...t}){let{router:n}=hn(),r=_.useMemo(()=>ue(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(Cn,{page:e,matches:r,...t}):null}function Sn(e){let{manifest:t,routeModules:n}=vn(),[r,i]=_.useState([]);return _.useEffect(()=>{let r=!1;return ln(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function Cn({page:e,matches:t,...n}){let r=ot(),{future:i,manifest:a,routeModules:o}=vn(),{basename:s}=hn(),{loaderData:c,matches:l}=gn(),u=_.useMemo(()=>un(e,t,l,a,r,`data`),[e,t,l,a,r]),d=_.useMemo(()=>un(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=an(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=_.useMemo(()=>dn(d,a),[d,a]),m=Sn(d);return _.createElement(_.Fragment,null,f.map(e=>_.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>_.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>_.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function wn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var Tn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{Tn&&(window.__reactRouterVersion=`7.13.0`)}catch{}function En({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current??=te({window:r,v5Compat:!0});let a=i.current,[o,s]=_.useState({action:a.action,location:a.location}),c=_.useCallback(e=>{n===!1?s(e):_.startTransition(()=>s(e))},[n]);return _.useLayoutEffect(()=>a.listen(c),[a,c]),_.createElement(Lt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function Dn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=_.useState({action:n.action,location:n.location}),o=_.useCallback(e=>{r===!1?a(e):_.startTransition(()=>a(e))},[r]);return _.useLayoutEffect(()=>n.listen(o),[n,o]),_.createElement(Lt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}Dn.displayName=`unstable_HistoryRouter`;var On=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D=_.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=_.useContext(Ye),g=typeof c==`string`&&On.test(c),v=He(c,m);c=v.to;let y=it(c,{relative:r}),[b,x,ee]=yn(n,f),te=Fn(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function S(t){e&&e(t),t.defaultPrevented||te(t)}let ne=_.createElement(`a`,{...f,...ee,href:v.absoluteURL||y,onClick:v.isExternal||i?e:S,ref:wn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return b&&!g?_.createElement(_.Fragment,null,ne,_.createElement(xn,{page:y})):ne});D.displayName=`Link`;var kn=_.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=ft(a,{relative:c.relative}),d=ot(),f=_.useContext(We),{navigator:p,basename:m}=_.useContext(Ye),h=f!=null&&Kn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,v=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=Ee(y,m)||y);let b=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=v===g||!r&&v.startsWith(g)&&v.charAt(b)===`/`,ee=y!=null&&(y===g||!r&&y.startsWith(g)&&y.charAt(g.length)===`/`),te={isActive:x,isPending:ee,isTransitioning:h},S=x?e:void 0,ne;ne=typeof n==`function`?n(te):[n,x?`active`:null,ee?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let re=typeof i==`function`?i(te):i;return _.createElement(D,{...c,"aria-current":S,className:ne,ref:l,style:re,to:a,viewTransition:o},typeof s==`function`?s(te):s)});kn.displayName=`NavLink`;var An=_.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Bt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=_.useContext(Ye),g=zn(),v=Bn(s,{relative:l}),y=o.toLowerCase()===`get`?`get`:`post`,b=typeof s==`string`&&On.test(s);return _.createElement(`form`,{ref:m,method:y,action:v,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?_.startTransition(()=>p()):p()},...p,"data-discover":!b&&e===`render`?`true`:void 0})});An.displayName=`Form`;function jn({getKey:e,storageKey:t,...n}){let r=_.useContext(_n),{basename:i}=_.useContext(Ye),a=ot(),o=kt();Wn({getKey:e,storageKey:t});let s=_.useMemo(()=>{if(!r||!e)return null;let t=Un(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return _.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${nn(JSON.stringify(t||Vn))}, ${nn(JSON.stringify(s))})`}})}jn.displayName=`ScrollRestoration`;function Mn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nn(e){let t=_.useContext(Ue);return S(t,Mn(e)),t}function Pn(e){let t=_.useContext(We);return S(t,Mn(e)),t}function Fn(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=lt(),u=ot(),d=ft(e,{relative:a});return _.useCallback(f=>{if(qt(f,t)){f.preventDefault();let t=n===void 0?oe(u)===oe(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?_.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}function In(e){ne(typeof URLSearchParams<`u`,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(Jt(e)),n=_.useRef(!1),r=ot(),i=_.useMemo(()=>Yt(r.search,n.current?null:t.current),[r.search]),a=lt();return[i,_.useCallback((e,t)=>{let r=Jt(typeof e==`function`?e(new URLSearchParams(i)):e);n.current=!0,a(`?`+r,t)},[a,i])]}var Ln=0,Rn=()=>`__${String(++Ln)}__`;function zn(){let{router:e}=Nn(`useSubmit`),{basename:t}=_.useContext(Ye),n=Dt(),r=e.fetch,i=e.navigate;return _.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=$t(e,t);a.navigate===!1?await r(a.fetcherKey||Rn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Bn(e,{relative:t}={}){let{basename:n}=_.useContext(Ye),r=_.useContext(Ze);S(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...ft(e||`.`,{relative:t})},o=ot();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Pe([n,a.pathname])),oe(a)}var Vn=`react-router-scroll-positions`,Hn={};function Un(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:Ee(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Wn({getKey:e,storageKey:t}={}){let{router:n}=Nn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=Pn(`useScrollRestoration`),{basename:a}=_.useContext(Ye),o=ot(),s=kt(),c=Ot();_.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Gn(_.useCallback(()=>{if(c.state===`idle`){let t=Un(o,s,a,e);Hn[t]=window.scrollY}try{sessionStorage.setItem(t||Vn,JSON.stringify(Hn))}catch(e){ne(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(_.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||Vn);e&&(Hn=JSON.parse(e))}catch{}},[t]),_.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(Hn,()=>window.scrollY,e?(t,n)=>Un(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),_.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{ne(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Gn(e,t){let{capture:n}=t||{};_.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Kn(e,{relative:t}={}){let n=_.useContext(Ke);S(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Nn(`useViewTransitionState`),i=ft(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ee(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ee(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ce(i.pathname,o)!=null||Ce(i.pathname,a)!=null}var qn=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),Jn=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Yn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},Xn=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...Yn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Jn(`lucide`,i),...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),O=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(Xn,{ref:i,iconNode:t,className:Jn(`lucide-${qn(e)}`,n),...r}));return n.displayName=`${e}`,n},Zn=O(`ArrowLeft`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),Qn=O(`ArrowRight`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),$n=O(`Award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),er=O(`Box`,[[`path`,{d:`M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z`,key:`hh9hay`}],[`path`,{d:`m3.3 7 8.7 5 8.7-5`,key:`g66t2b`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}]]),tr=O(`Calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),nr=O(`Check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),rr=O(`CircleAlert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),ir=O(`CircleCheckBig`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),ar=O(`Clock`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`polyline`,{points:`12 6 12 12 16 14`,key:`68esgv`}]]),or=O(`CreditCard`,[[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`2`,key:`ynyp8z`}],[`line`,{x1:`2`,x2:`22`,y1:`10`,y2:`10`,key:`1b3vmo`}]]),sr=O(`Facebook`,[[`path`,{d:`M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z`,key:`1jg4f8`}]]),cr=O(`Filter`,[[`polygon`,{points:`22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3`,key:`1yg77f`}]]),lr=O(`House`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`1d0kgt`}]]),ur=O(`Info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),dr=O(`Instagram`,[[`rect`,{width:`20`,height:`20`,x:`2`,y:`2`,rx:`5`,ry:`5`,key:`2e1cvw`}],[`path`,{d:`M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z`,key:`9exkf1`}],[`line`,{x1:`17.5`,x2:`17.51`,y1:`6.5`,y2:`6.5`,key:`r4j83e`}]]),fr=O(`LoaderCircle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),pr=O(`Lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),mr=O(`LogOut`,[[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}],[`polyline`,{points:`16 17 21 12 16 7`,key:`1gabdz`}],[`line`,{x1:`21`,x2:`9`,y1:`12`,y2:`12`,key:`1uyos4`}]]),hr=O(`Mail`,[[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}],[`path`,{d:`m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7`,key:`1ocrg3`}]]),gr=O(`MapPin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),_r=O(`Menu`,[[`line`,{x1:`4`,x2:`20`,y1:`12`,y2:`12`,key:`1e0a9i`}],[`line`,{x1:`4`,x2:`20`,y1:`6`,y2:`6`,key:`1owob3`}],[`line`,{x1:`4`,x2:`20`,y1:`18`,y2:`18`,key:`yk5zj1`}]]),vr=O(`MessageSquare`,[[`path`,{d:`M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z`,key:`1lielz`}]]),yr=O(`Minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),br=O(`OctagonAlert`,[[`path`,{d:`M12 16h.01`,key:`1drbdi`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z`,key:`1fd625`}]]),xr=O(`Package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),Sr=O(`Pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),Cr=O(`Phone`,[[`path`,{d:`M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z`,key:`foiqr5`}]]),wr=O(`Plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Tr=O(`RefreshCcw`,[[`path`,{d:`M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`14sxne`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16`,key:`1hlbsb`}],[`path`,{d:`M16 16h5v5`,key:`ccwih5`}]]),Er=O(`Search`,[[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}],[`path`,{d:`m21 21-4.3-4.3`,key:`1qie3q`}]]),Dr=O(`Send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),Or=O(`Settings`,[[`path`,{d:`M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z`,key:`1qme2f`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),kr=O(`ShieldCheck`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),Ar=O(`ShoppingBag`,[[`path`,{d:`M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z`,key:`hou9p0`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M16 10a4 4 0 0 1-8 0`,key:`1ltviw`}]]),jr=O(`ShoppingCart`,[[`circle`,{cx:`8`,cy:`21`,r:`1`,key:`jimo8o`}],[`circle`,{cx:`19`,cy:`21`,r:`1`,key:`13723u`}],[`path`,{d:`M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12`,key:`9zh506`}]]),Mr=O(`SlidersHorizontal`,[[`line`,{x1:`21`,x2:`14`,y1:`4`,y2:`4`,key:`obuewd`}],[`line`,{x1:`10`,x2:`3`,y1:`4`,y2:`4`,key:`1q6298`}],[`line`,{x1:`21`,x2:`12`,y1:`12`,y2:`12`,key:`1iu8h1`}],[`line`,{x1:`8`,x2:`3`,y1:`12`,y2:`12`,key:`ntss68`}],[`line`,{x1:`21`,x2:`16`,y1:`20`,y2:`20`,key:`14d8ph`}],[`line`,{x1:`12`,x2:`3`,y1:`20`,y2:`20`,key:`m0wm8r`}],[`line`,{x1:`14`,x2:`14`,y1:`2`,y2:`6`,key:`14e1ph`}],[`line`,{x1:`8`,x2:`8`,y1:`10`,y2:`14`,key:`1i6ji0`}],[`line`,{x1:`16`,x2:`16`,y1:`18`,y2:`22`,key:`1lctlv`}]]),Nr=O(`Smartphone`,[[`rect`,{width:`14`,height:`20`,x:`5`,y:`2`,rx:`2`,ry:`2`,key:`1yt0o3`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}]]),Pr=O(`Star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Fr=O(`Trash2`,[[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`,key:`4alrt4`}],[`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`,key:`v07s0e`}],[`line`,{x1:`10`,x2:`10`,y1:`11`,y2:`17`,key:`1uufr5`}],[`line`,{x1:`14`,x2:`14`,y1:`11`,y2:`17`,key:`xtxkd`}]]),Ir=O(`TriangleAlert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Lr=O(`Truck`,[[`path`,{d:`M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2`,key:`wrbu53`}],[`path`,{d:`M15 18H9`,key:`1lyqi6`}],[`path`,{d:`M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14`,key:`lysw3i`}],[`circle`,{cx:`17`,cy:`18`,r:`2`,key:`332jqn`}],[`circle`,{cx:`7`,cy:`18`,r:`2`,key:`19iecd`}]]),Rr=O(`Twitter`,[[`path`,{d:`M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z`,key:`pff0z6`}]]),zr=O(`User`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Br=O(`X`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Vr=()=>void 0,Hr=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ur=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Wr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Hr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ur(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Gr;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Gr=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Kr=function(e){let t=Hr(e);return Wr.encodeByteArray(t,!0)},qr=function(e){return Kr(e).replace(/\./g,``)},Jr=function(e){try{return Wr.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function Yr(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Xr=()=>Yr().__FIREBASE_DEFAULTS__,Zr=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Qr=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Jr(e[1]);return t&&JSON.parse(t)},$r=()=>{try{return Vr()||Xr()||Zr()||Qr()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ei=e=>$r()?.emulatorHosts?.[e],ti=e=>{let t=ei(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ni=()=>$r()?.config,ri=e=>$r()?.[`_${e}`],ii=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function ai(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function oi(e){return(await fetch(e,{credentials:`include`})).ok}function si(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}}},e);return[qr(JSON.stringify(n)),qr(JSON.stringify(o)),``].join(`.`)}var ci={};function li(){let e={prod:[],emulator:[]};for(let t of Object.keys(ci))ci[t]?e.emulator.push(t):e.prod.push(t);return e}function ui(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var di=!1;function fi(e,t){if(typeof window>`u`||typeof document>`u`||!ai(window.location.host)||ci[e]===t||ci[e]||di)return;ci[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=li().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{di=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=ui(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function pi(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function mi(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}function hi(){let e=$r()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function gi(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function _i(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function vi(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function yi(){let e=pi();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function bi(){return!hi()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function xi(){try{return typeof indexedDB==`object`}catch{return!1}}function Si(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}function Ci(){return!(typeof navigator>`u`||!navigator.cookieEnabled)}var wi=`FirebaseError`,Ti=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wi,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ei.prototype.create)}},Ei=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Di(i,n):`Error`;return new Ti(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Di(e,t){return e.replace(Oi,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Oi=/\{\$([^}]+)}/g;function ki(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ai(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(ji(n)&&ji(a)){if(!Ai(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function ji(e){return typeof e==`object`&&!!e}function Mi(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Ni(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Pi(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function Fi(e,t){let n=new Ii(e,t);return n.subscribe.bind(n)}var Ii=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Li(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=Ri),r.error===void 0&&(r.error=Ri),r.complete===void 0&&(r.complete=Ri);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Li(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function Ri(){}var zi=1e3,Bi=2,Vi=14400*1e3,Hi=.5;function Ui(e,t=zi,n=Bi){let r=t*n**+e,i=Math.round(Hi*r*(Math.random()-.5)*2);return Math.min(Vi,r+i)}function k(e){return e&&e._delegate?e._delegate:e}var A=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Wi=`[DEFAULT]`,Gi=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new ii;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(qi(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ki(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Ki(e){return e===Wi?void 0:e}function qi(e){return e.instantiationMode===`EAGER`}var Ji=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Gi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Yi=[],j;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(j||={});var Xi={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},Zi=j.INFO,Qi={[j.DEBUG]:`log`,[j.VERBOSE]:`log`,[j.INFO]:`info`,[j.WARN]:`warn`,[j.ERROR]:`error`},$i=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Qi[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},ea=class{constructor(e){this.name=e,this._logLevel=Zi,this._logHandler=$i,this._userLogHandler=null,Yi.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in j))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Xi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...e),this._logHandler(this,j.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...e),this._logHandler(this,j.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,j.INFO,...e),this._logHandler(this,j.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,j.WARN,...e),this._logHandler(this,j.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...e),this._logHandler(this,j.ERROR,...e)}},ta=(e,t)=>t.some(t=>e instanceof t),na,ra;function ia(){return na||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function aa(){return ra||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var oa=new WeakMap,sa=new WeakMap,ca=new WeakMap,la=new WeakMap,ua=new WeakMap;function da(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(_a(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&oa.set(t,e)}).catch(()=>{}),ua.set(t,e),t}function fa(e){if(sa.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});sa.set(e,t)}var pa={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return sa.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||ca.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _a(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function ma(e){pa=e(pa)}function ha(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(va(this),t,...n);return ca.set(r,t.sort?t.sort():[t]),_a(r)}:aa().includes(e)?function(...t){return e.apply(va(this),t),_a(oa.get(this))}:function(...t){return _a(e.apply(va(this),t))}}function ga(e){return typeof e==`function`?ha(e):(e instanceof IDBTransaction&&fa(e),ta(e,ia())?new Proxy(e,pa):e)}function _a(e){if(e instanceof IDBRequest)return da(e);if(la.has(e))return la.get(e);let t=ga(e);return t!==e&&(la.set(e,t),ua.set(t,e)),t}var va=e=>ua.get(e);function ya(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=_a(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(_a(o.result),e.oldVersion,e.newVersion,_a(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var ba=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],xa=[`put`,`add`,`delete`,`clear`],Sa=new Map;function Ca(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(Sa.get(t))return Sa.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=xa.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ba.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Sa.set(t,a),a}ma(e=>({...e,get:(t,n,r)=>Ca(t,n)||e.get(t,n,r),has:(t,n)=>!!Ca(t,n)||e.has(t,n)}));var wa=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Ta(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function Ta(e){return e.getComponent()?.type===`VERSION`}var Ea=`@firebase/app`,Da=`0.13.2`,Oa=new ea(`@firebase/app`),ka=`@firebase/app-compat`,Aa=`@firebase/analytics-compat`,ja=`@firebase/analytics`,Ma=`@firebase/app-check-compat`,Na=`@firebase/app-check`,Pa=`@firebase/auth`,Fa=`@firebase/auth-compat`,Ia=`@firebase/database`,La=`@firebase/data-connect`,Ra=`@firebase/database-compat`,za=`@firebase/functions`,Ba=`@firebase/functions-compat`,Va=`@firebase/installations`,Ha=`@firebase/installations-compat`,Ua=`@firebase/messaging`,Wa=`@firebase/messaging-compat`,Ga=`@firebase/performance`,Ka=`@firebase/performance-compat`,qa=`@firebase/remote-config`,Ja=`@firebase/remote-config-compat`,Ya=`@firebase/storage`,Xa=`@firebase/storage-compat`,Za=`@firebase/firestore`,Qa=`@firebase/ai`,$a=`@firebase/firestore-compat`,eo=`firebase`,to=`11.10.0`,no=`[DEFAULT]`,ro={[Ea]:`fire-core`,[ka]:`fire-core-compat`,[ja]:`fire-analytics`,[Aa]:`fire-analytics-compat`,[Na]:`fire-app-check`,[Ma]:`fire-app-check-compat`,[Pa]:`fire-auth`,[Fa]:`fire-auth-compat`,[Ia]:`fire-rtdb`,[La]:`fire-data-connect`,[Ra]:`fire-rtdb-compat`,[za]:`fire-fn`,[Ba]:`fire-fn-compat`,[Va]:`fire-iid`,[Ha]:`fire-iid-compat`,[Ua]:`fire-fcm`,[Wa]:`fire-fcm-compat`,[Ga]:`fire-perf`,[Ka]:`fire-perf-compat`,[qa]:`fire-rc`,[Ja]:`fire-rc-compat`,[Ya]:`fire-gcs`,[Xa]:`fire-gcs-compat`,[Za]:`fire-fst`,[$a]:`fire-fst-compat`,[Qa]:`fire-vertex`,"fire-js":`fire-js`,[eo]:`fire-js-all`},io=new Map,ao=new Map,oo=new Map;function so(e,t){try{e.container.addComponent(t)}catch(n){Oa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function co(e){let t=e.name;if(oo.has(t))return Oa.debug(`There were multiple attempts to register component ${t}.`),!1;oo.set(t,e);for(let t of io.values())so(t,e);for(let t of ao.values())so(t,e);return!0}function lo(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function uo(e){return e==null?!1:e.settings!==void 0}var fo=new Ei(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),po=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new A(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create(`app-deleted`,{appName:this._name})}},mo=to;function ho(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r=Object.assign({name:no,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!=`string`||!i)throw fo.create(`bad-app-name`,{appName:String(i)});if(n||=ni(),!n)throw fo.create(`no-options`);let a=io.get(i);if(a){if(Ai(n,a.options)&&Ai(r,a.config))return a;throw fo.create(`duplicate-app`,{appName:i})}let o=new Ji(i);for(let e of oo.values())o.addComponent(e);let s=new po(n,r,o);return io.set(i,s),s}function go(e=no){let t=io.get(e);if(!t&&e===`[DEFAULT]`&&ni())return ho();if(!t)throw fo.create(`no-app`,{appName:e});return t}function _o(e,t,n){let r=ro[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Oa.warn(e.join(` `));return}co(new A(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var vo=`firebase-heartbeat-database`,yo=1,bo=`firebase-heartbeat-store`,xo=null;function M(){return xo||=ya(vo,yo,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bo)}catch(e){console.warn(e)}}}}).catch(e=>{throw fo.create(`idb-open`,{originalErrorMessage:e.message})}),xo}async function So(e){try{let t=(await M()).transaction(bo),n=await t.objectStore(bo).get(wo(e));return await t.done,n}catch(e){if(e instanceof Ti)Oa.warn(e.message);else{let t=fo.create(`idb-get`,{originalErrorMessage:e?.message});Oa.warn(t.message)}}}async function Co(e,t){try{let n=(await M()).transaction(bo,`readwrite`);await n.objectStore(bo).put(t,wo(e)),await n.done}catch(e){if(e instanceof Ti)Oa.warn(e.message);else{let t=fo.create(`idb-set`,{originalErrorMessage:e?.message});Oa.warn(t.message)}}}function wo(e){return`${e.name}!${e.options.appId}`}var To=1024,Eo=30,Do=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new Ao(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Oo();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Eo){let e=Mo(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Oo(),{heartbeatsToSend:t,unsentEntries:n}=ko(this._heartbeatsCache.heartbeats),r=qr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Oa.warn(e),``}}};function Oo(){return new Date().toISOString().substring(0,10)}function ko(e,t=To){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),jo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ao=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xi()?Si().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await So(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Co(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Co(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function jo(e){return qr(JSON.stringify({version:2,heartbeats:e})).length}function Mo(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function No(e){co(new A(`platform-logger`,e=>new wa(e),`PRIVATE`)),co(new A(`heartbeat`,e=>new Do(e),`PRIVATE`)),_o(Ea,Da,e),_o(Ea,Da,`esm2017`),_o(`fire-js`,``)}No(``);var Po=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Fo={},Io,Lo;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;var r=Array(16);if(typeof t==`string`)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.u=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.B,a=this.h,o=0;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&128>e?a(e,function(e){return new o([e|0],0>e?-1:0)}):new o([e|0],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(0>e)return g(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,2>t||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(0<=e.indexOf(`-`))throw Error(`number format error: interior "-" character`);for(var n=l(t**8),r=d,i=0;i<e.length;i+=8){var a=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+a),t);8>a?(a=l(t**+a),r=r.j(a).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,2>e||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);for(var t=l(e**6),n=this,r=``;;){var i=b(n,t).g;n=_(n,i.j(t));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;6>a.length;)a=`0`+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(this.i(i)&65535)+(e.i(i)&65535),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(0>this.l(p)&&0>e.l(p))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,s=this.i(r)&65535,c=e.i(i)>>>16,u=e.i(i)&65535;n[2*r+2*i]+=s*u,v(n,2*r+2*i),n[2*r+2*i+1]+=a*u,v(n,2*r+2*i+1),n[2*r+2*i+1]+=s*c,v(n,2*r+2*i+1),n[2*r+2*i+2]+=a*c,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;0>=r.l(e);)n=x(n),r=x(r);var i=ee(n,1),a=ee(r,1);for(r=ee(r,2),n=ee(n,2);!m(r);){var o=a.add(r);0>=o.l(e)&&(i=i.add(n),a=o),r=ee(r,1),n=ee(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:2**(r-48),a=l(n),o=a.j(t);h(o)||0<o.l(e);)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function ee(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lo=Fo.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Io=Fo.Integer=o}).apply(Po===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Po);var Ro=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},zo={},Bo,Vo,Ho,Uo,Wo,Go,Ko,qo;(function(){var e,t=typeof Object.defineProperties==`function`?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof Ro==`object`&&Ro];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}function a(e,t){e instanceof String&&(e+=``);var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}i(`Array.prototype.values`,function(e){return e||function(){return a(this,function(e,t){return t})}});var o=o||{},s=this||self;function c(e){var t=typeof e;return t=t==`object`?e?Array.isArray(e)?`array`:t:`null`:t,t==`array`||t==`object`&&typeof e.length==`number`}function l(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function u(e,t,n){return e.call.apply(e.bind,arguments)}function d(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf(`native code`)!=-1?u:d,f.apply(null,arguments)}function p(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(c(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}class _{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function v(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=s.navigator;return(e&&=e.userAgent)?e:``}function b(e){return b[` `](e),e}b[` `]=function(){};var x=y().indexOf(`Gecko`)!=-1&&!(y().toLowerCase().indexOf(`webkit`)!=-1&&y().indexOf(`Edge`)==-1)&&!(y().indexOf(`Trident`)!=-1||y().indexOf(`MSIE`)!=-1)&&y().indexOf(`Edge`)==-1;function ee(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function te(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function S(e){let t={};for(let n in e)t[n]=e[n];return t}let ne=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function re(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ne.length;t++)n=ne[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ie(e){var t=1;e=e.split(`:`);let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ae(e){s.setTimeout(()=>{throw e},0)}function oe(){var e=fe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class se{constructor(){this.h=this.g=null}add(e,t){let n=ce.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var ce=new _(()=>new le,e=>e.reset());class le{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,fe=new se,C=()=>{let e=s.Promise.resolve(void 0);ue=()=>{e.then(w)}};var w=()=>{for(var e;e=oe();){try{e.h.call(e.g)}catch(e){ae(e)}var t=ce;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}de=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};s.addEventListener(`test`,e,t),s.removeEventListener(`test`,e,t)}catch{}return e}();function ge(e,t){if(me.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(x){a:{try{b(t.nodeName);var i=!0;break a}catch{}i=!1}i||(t=null)}}else n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType==`string`?e.pointerType:_e[e.pointerType]||``,this.state=e.state,this.i=e,e.defaultPrevented&&ge.aa.h.call(this)}}m(ge,me);var _e={2:`touch`,3:`pen`,4:`mouse`};ge.prototype.h=function(){ge.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T=`closure_listenable_`+(1e6*Math.random()|0),ve=0;function ye(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ve,this.da=this.fa=!1}function be(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function xe(e){this.src=e,this.g={},this.h=0}xe.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var o=Ce(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new ye(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function Se(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(be(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ce(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var we=`closure_lm_`+(1e6*Math.random()|0),Te={};function Ee(e,t,n,r,i){if(r&&r.once)return ke(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ee(e,t[a],n,r,i);return null}return n=Ie(n),e&&e[T]?e.K(t,n,l(r)?!!r.capture:!!r,i):De(e,t,n,!1,r,i)}function De(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);var o=l(i)?!!i.capture:!!i,s=Pe(e);if(s||(e[we]=s=new xe(e)),n=s.add(t,n,r,o,a),n.proxy)return n;if(r=Oe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)he||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Me(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function Oe(){function e(n){return t.call(e.src,e.listener,n)}let t=Ne;return e}function ke(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ke(e,t[a],n,r,i);return null}return n=Ie(n),e&&e[T]?e.L(t,n,l(r)?!!r.capture:!!r,i):De(e,t,n,!0,r,i)}function Ae(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ae(e,t[a],n,r,i);else r=l(r)?!!r.capture:!!r,n=Ie(n),e&&e[T]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=Ce(a,n,r,i),-1<n&&(be(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete e.g[t],e.h--)))):(e&&=Pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ce(t,n,r,i)),(n=-1<e?t[e]:null)&&je(n))}function je(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[T])Se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pe(t))?(Se(n,e),n.h==0&&(n.src=null,t[we]=null)):be(e)}}}function Me(e){return e in Te?Te[e]:Te[e]=`on`+e}function Ne(e,t){if(e.da)e=!0;else{t=new ge(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&je(e),e=n.call(r,t)}return e}function Pe(e){return e=e[we],e instanceof xe?e:null}var Fe=`__closure_events_fn_`+(1e9*Math.random()>>>0);function Ie(e){return typeof e==`function`?e:(e[Fe]||(e[Fe]=function(t){return e.handleEvent(t)}),e[Fe])}function Le(){pe.call(this),this.i=new xe(this),this.M=this,this.F=null}m(Le,pe),Le.prototype[T]=!0,Le.prototype.removeEventListener=function(e,t,n,r){Ae(this,e,t,n,r)};function Re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new me(t,e);else if(t instanceof me)t.target=t.target||e;else{var i=t;t=new me(r,e),re(t,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ze(o,r,!0,t)&&i}if(o=t.g=e,i=ze(o,r,!0,t)&&i,i=ze(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=ze(o,r,!1,t)&&i}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)be(n[r]);delete e.g[t],e.h--}}this.F=null},Le.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Le.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ze(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,c=o.ha||o.src;o.fa&&Se(e.i,o),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}function Be(e,t,n){if(typeof e==`function`)n&&(e=f(e,n));else if(e&&typeof e.handleEvent==`function`)e=f(e.handleEvent,e);else throw Error(`Invalid listener argument`);return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Ve(e){e.g=Be(()=>{e.g=null,e.i&&(e.i=!1,Ve(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class He extends pe{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(e){pe.call(this),this.h=e,this.g={}}m(Ue,pe);var We=[];function Ge(e){ee(e.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},e),e.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),Ge(this)},Ue.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Ke=s.JSON.stringify,qe=s.JSON.parse,Je=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function Ye(){}Ye.prototype.h=null;function Xe(e){return e.h||=e.i()}function Ze(){}var Qe={OPEN:`a`,kb:`b`,Ja:`c`,wb:`d`};function $e(){me.call(this,`d`)}m($e,me);function et(){me.call(this,`c`)}m(et,me);var tt={},nt=null;function rt(){return nt||=new Le}tt.La=`serverreachability`;function it(e){me.call(this,tt.La,e)}m(it,me);function at(e){let t=rt();Re(t,new it(t))}tt.STAT_EVENT=`statevent`;function ot(e,t){me.call(this,tt.STAT_EVENT,e),this.stat=t}m(ot,me);function st(e){let t=rt();Re(t,new ot(t,e))}tt.Ma=`timingevent`;function ct(e,t){me.call(this,tt.Ma,e),this.size=t}m(ct,me);function lt(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return s.setTimeout(function(){e()},t)}function ut(){this.g=!0}ut.prototype.xa=function(){this.g=!1};function dt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o=``,s=a.split(`&`),c=0;c<s.length;c++){var l=s[c].split(`=`);if(1<l.length){var u=l[0];l=l[1];var d=u.split(`_`);o=2<=d.length&&d[1]==`type`?o+(u+`=`+l+`&`):o+(u+`=redacted&`)}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function ft(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function pt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+ht(e,n)+(r?` `+r:``)})}function mt(e,t){e.info(function(){return`TIMEOUT: `+t})}ut.prototype.info=function(){};function ht(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!=`noop`&&a!=`stop`&&a!=`close`)for(var o=1;o<i.length;o++)i[o]=``}}}}return Ke(n)}catch{return t}}var gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_t={lb:`complete`,Hb:`success`,Ja:`error`,Ia:`abort`,zb:`ready`,Ab:`readystatechange`,TIMEOUT:`timeout`,vb:`incrementaldata`,yb:`progress`,ob:`downloadprogress`,Pb:`uploadprogress`},vt;function yt(){}m(yt,Ye),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},vt=new yt;function bt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g=``,this.h=!1}var St={},Ct={};function wt(e,t,n){e.L=1,e.v=Qt(Jt(t)),e.m=n,e.P=!0,Tt(e,null)}function Tt(e,t){e.F=Date.now(),Ot(e),e.A=Jt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),fn(n.i,`t`,r),e.C=0,n=e.j.J,e.h=new xt,e.g=nr(e.j,n?t:null,!e.m),0<e.O&&(e.M=new He(f(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i=`readystatechange`;Array.isArray(i)||(i&&(We[0]=i.toString()),i=We);for(var a=0;a<i.length;a++){var o=Ee(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?S(e.H):{},e.m?(e.u||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.A,e.u,e.m,t)):(e.u=`GET`,e.g.ea(e.A,e.u,null,t)),at(),dt(e.i,e.u,e.A,e.l,e.R,e.m)}bt.prototype.ca=function(e){e=e.target;let t=this.M;t&&Pn(e)==3?t.j():this.Y(e)},bt.prototype.Y=function(e){try{if(e==this.g)a:{let f=Pn(this.g);var t=this.g.Ba();let p=this.g.Z();if(!(3>f)&&(f!=3||this.g&&(this.h.h||this.g.oa()||Fn(this.g)))){this.J||f!=4||t==7||at(t==8||0>=p?3:2),At(this);var n=this.g.Z();this.X=n;b:if(Et(this)){var r=Fn(this.g);e=``;var i=r.length,a=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>`u`){Mt(this),jt(this);var o=``;break b}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=n==200,ft(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){b:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!v(c)){var u=c;break b}}u=null}if(n=u)pt(this.i,this.l,n,`Initial handshake response via X-HTTP-Initial-Response`),this.K=!0,Nt(this,n);else{this.o=!1,this.s=3,st(12),Mt(this),jt(this);break a}}if(this.P){n=!0;let e;for(;!this.J&&this.C<o.length;)if(e=Dt(this,o),e==Ct){f==4&&(this.s=4,st(14),n=!1),pt(this.i,this.l,null,`[Incomplete Response]`);break}else if(e==St){this.s=4,st(15),pt(this.i,this.l,o,`[Invalid Chunk]`),n=!1;break}else pt(this.i,this.l,e,null),Nt(this,e);if(Et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),f!=4||o.length!=0||this.h.h||(this.s=1,st(16),n=!1),this.o=this.o&&n,!n)pt(this.i,this.l,o,`[Invalid Chunked Response]`),Mt(this),jt(this);else if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info(`Great, no buffering proxy detected. Bytes received: `+o.length),Yn(d),d.M=!0,st(11))}}else pt(this.i,this.l,o,null),Nt(this,o);f==4&&Mt(this),this.o&&!this.J&&(f==4?Zn(this.j,this):(this.o=!1,Ot(this)))}else In(this.g),n==400&&0<o.indexOf(`Unknown SID`)?(this.s=3,st(12)):(this.s=0,st(13)),Mt(this),jt(this)}}}catch{}};function Et(e){return e.g?e.u==`GET`&&e.L!=2&&e.j.Ca:!1}function Dt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ct:(n=Number(t.substring(n,r)),isNaN(n)?St:(r+=1,r+n>t.length?Ct:(t=t.slice(r,r+n),e.C=r+n,t)))}bt.prototype.cancel=function(){this.J=!0,Mt(this)};function Ot(e){e.S=Date.now()+e.I,kt(e,e.I)}function kt(e,t){if(e.B!=null)throw Error(`WatchDog timer not null`);e.B=lt(f(e.ba,e),t)}function At(e){e.B&&=(s.clearTimeout(e.B),null)}bt.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(mt(this.i,this.A),this.L!=2&&(at(),st(17)),Mt(this),this.s=2,jt(this)):kt(this,this.S-e)};function jt(e){e.j.G==0||e.J||Zn(e.j,e)}function Mt(e){At(e);var t=e.M;t&&typeof t.ma==`function`&&t.ma(),e.M=null,Ge(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Nt(e,t){try{var n=e.j;if(n.G!=0&&(n.g==e||Rt(n.h,e))){if(!e.K&&Rt(n.h,e)&&n.G==3){try{var r=n.Da.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)O(n),Bn(n);else break a;Jn(n),st(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&n.v==0&&!n.C&&(n.C=lt(f(n.Za,n),6e3));if(1>=Lt(n.h)&&n.ca){try{n.ca()}catch{}n.ca=void 0}}else $n(n,11)}else if((e.K||n.g==e)&&O(n),!v(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],n.G==2)if(l[0]==`c`){n.K=l[1],n.ia=l[2];let t=l[3];t!=null&&(n.la=t,n.j.info(`VER=`+n.la));let i=l[4];i!=null&&(n.Aa=i,n.j.info(`SVER=`+n.Aa));let u=l[5];u!=null&&typeof u==`number`&&0<u&&(r=1.5*u,n.L=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(zt(a,a.h),null))}if(r.D){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.ya=e,E(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.R+`ms`)),r=n;var o=e;if(r.qa=tr(r,r.J?r.ia:null,r.W),o.K){Bt(r.h,o);var s=o,c=r.L;c&&(s.I=c),s.B&&(At(s),Ot(s)),r.g=o}else qn(r);0<n.i.length&&Hn(n)}else l[0]!=`stop`&&l[0]!=`close`||$n(n,7);else n.G==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?$n(n,7):zn(n):l[0]!=`noop`&&n.l&&n.l.ta(l),n.v=0)}}at(4)}catch{}}var Pt=class{constructor(e,t){this.g=e,this.map=t}};function Ft(e){this.l=e||10,s.PerformanceNavigationTiming?(e=s.performance.getEntriesByType(`navigation`),e=0<e.length&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function It(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Lt(e){return e.h?1:e.g?e.g.size:0}function Rt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function zt(e,t){e.g?e.g.add(t):e.h=t}function Bt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ft.prototype.cancel=function(){if(this.i=Vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Vt(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function Ht(e){if(e.V&&typeof e.V==`function`)return e.V();if(typeof Map<`u`&&e instanceof Map||typeof Set<`u`&&e instanceof Set)return Array.from(e.values());if(typeof e==`string`)return e.split(``);if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Ut(e){if(e.na&&typeof e.na==`function`)return e.na();if(!e.V||typeof e.V!=`function`){if(typeof Map<`u`&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<`u`&&e instanceof Set)){if(c(e)||typeof e==`string`){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}function Wt(e,t){if(e.forEach&&typeof e.forEach==`function`)e.forEach(t,void 0);else if(c(e)||typeof e==`string`)Array.prototype.forEach.call(e,t,void 0);else for(var n=Ut(e),r=Ht(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}var Gt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Kt(e,t){if(e){e=e.split(`&`);for(var n=0;n<e.length;n++){var r=e[n].indexOf(`=`),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g,` `)):``)}}}function qt(e){if(this.g=this.o=this.j=``,this.s=null,this.m=this.l=``,this.h=!1,e instanceof qt){this.h=e.h,Yt(this,e.j),this.o=e.o,this.g=e.g,Xt(this,e.s),this.l=e.l;var t=e.i,n=new cn;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zt(this,n),this.m=e.m}else e&&(t=String(e).match(Gt))?(this.h=!1,Yt(this,t[1]||``,!0),this.o=$t(t[2]||``),this.g=$t(t[3]||``,!0),Xt(this,t[4]),this.l=$t(t[5]||``,!0),Zt(this,t[6]||``,!0),this.m=$t(t[7]||``)):(this.h=!1,this.i=new cn(null,this.h))}qt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(en(t,nn,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(en(t,nn,!0),`@`),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.s,n!=null&&e.push(`:`,String(n))),(n=this.l)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(en(n,n.charAt(0)==`/`?an:rn,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,en(n,sn)),e.join(``)};function Jt(e){return new qt(e)}function Yt(e,t,n){e.j=n?$t(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error(`Bad port number `+t);e.s=t}else e.s=null}function Zt(e,t,n){t instanceof cn?(e.i=t,mn(e.i,e.h)):(n||(t=en(t,on)),e.i=new cn(t,e.h))}function E(e,t,n){e.i.set(t,n)}function Qt(e){return E(e,`zx`,Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $t(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function en(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,tn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function tn(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var nn=/[#\/\?@]/g,rn=/[#\?:]/g,an=/[#\?]/g,on=/[#\?@]/g,sn=/#/g;function cn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ln(e){e.g||(e.g=new Map,e.h=0,e.i&&Kt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=cn.prototype,e.add=function(e,t){ln(this),this.i=null,e=pn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function un(e,t){ln(e),t=pn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function dn(e,t){return ln(e),t=pn(e,t),e.g.has(t)}e.forEach=function(e,t){ln(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){ln(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){ln(this);let t=[];if(typeof e==`string`)dn(this,e)&&(t=t.concat(this.g.get(pn(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return ln(this),this.i=null,e=pn(this,e),dn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=this.V(e),0<e.length?String(e[0]):t):t};function fn(e,t,n){un(e,t),0<n.length&&(e.i=null,e.g.set(pn(e,t),h(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;o[r]!==``&&(i+=`=`+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join(`&`)};function pn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function mn(e,t){t&&!e.j&&(ln(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(un(this,t),fn(this,n,e))},e)),e.j=t}function hn(e,t){let n=new ut;if(s.Image){let r=new Image;r.onload=p(_n,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=p(_n,n,`TestLoadImage: error`,!1,t,r),r.onabort=p(_n,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=p(_n,n,`TestLoadImage: timeout`,!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function gn(e,t){let n=new ut,r=new AbortController,i=setTimeout(()=>{r.abort(),_n(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?_n(n,`TestPingServer: ok`,!0,t):_n(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),_n(n,`TestPingServer: error`,!1,t)})}function _n(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function vn(){this.g=new Je}function yn(e,t,n){let r=n||``;try{Wt(e,function(e,n){let i=e;l(e)&&(i=Ke(e)),t.push(r+n+`=`+encodeURIComponent(i))})}catch(e){throw t.push(r+`type=_badmap`),e}}function bn(e){this.l=e.Ub||null,this.j=e.eb||!1}m(bn,Ye),bn.prototype.g=function(){return new xn(this.l,this.j)},bn.prototype.i=function(e){return function(){return e}}({});function xn(e,t){Le.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B=`GET`,this.A=``,this.g=!1,this.v=this.j=this.l=null}m(xn,Le),e=xn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.B=e,this.A=t,this.readyState=1,wn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.u=new Headers,this.status=0,this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(s.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.v=new TextDecoder;Sn(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sn(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cn(this):wn(this),this.readyState==3&&Sn(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Cn(this))},e.Qa=function(e){this.g&&(this.response=e,Cn(this))},e.ga=function(){this.g&&Cn(this)};function Cn(e){e.readyState=4,e.l=null,e.j=null,e.v=null,wn(e)}e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function wn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function Tn(e){let t=``;return ee(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function En(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=Tn(n),typeof e==`string`||E(e,t,n))}function Dn(e){Le.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D=``,this.m=0,this.l=``,this.j=this.B=this.u=this.A=!1,this.I=null,this.H=``,this.J=!1}m(Dn,Le);var On=/^https?$/i,D=[`POST`,`PUT`];e=Dn.prototype,e.Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vt.g(),this.v=this.o?Xe(this.o):Xe(vt),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){kn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(D,t,void 0))||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),`withCredentials`in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){kn(this,e)}};function kn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,An(e),Mn(e)}function An(e){e.A||(e.A=!0,Re(e,`complete`),Re(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,Re(this,`complete`),Re(this,`abort`),Mn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),Dn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?jn(this):this.bb())},e.bb=function(){jn(this)};function jn(e){if(e.h&&o!==void 0&&(!e.v[1]||Pn(e)!=4||e.Z()!=2)){if(e.u&&Pn(e)==4)Be(e.Ea,0,e);else if(Re(e,`readystatechange`),Pn(e)==4){e.h=!1;try{let o=e.Z();a:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.D).match(Gt)[1]||null;!i&&s.self&&s.self.location&&(i=s.self.location.protocol.slice(0,-1)),r=!On.test(i?i.toLowerCase():``)}n=r}if(n)Re(e,`complete`),Re(e,`success`);else{e.m=6;try{var a=2<Pn(e)?e.g.statusText:``}catch{a=``}e.l=a+` [`+e.Z()+`]`,An(e)}}finally{Mn(e)}}}}function Mn(e,t){if(e.g){Nn(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||Re(e,`ready`);try{n.onreadystatechange=r}catch{}}}function Nn(e){e.I&&=(s.clearTimeout(e.I),null)}e.isActive=function(){return!!this.g};function Pn(e){return e.g?e.g.readyState:0}e.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),qe(t)}};function Fn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.H){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function In(e){let t={};e=(e.g&&2<=Pn(e)&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(v(e[r]))continue;var n=ie(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}te(t,function(e){return e.join(`, `)})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l==`string`?this.l:String(this.l)};function Ln(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.Aa=0,this.i=[],this.j=new ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln(`failFast`,!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln(`baseRetryDelayMs`,5e3,e),this.cb=Ln(`retryDelaySeedMs`,1e4,e),this.Wa=Ln(`forwardChannelMaxRetries`,2,e),this.wa=Ln(`forwardChannelRequestTimeoutMs`,2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K=``,this.h=new Ft(e&&e.concurrentRequestLimit),this.Da=new vn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Rn.prototype,e.la=8,e.G=1,e.connect=function(e,t,n,r){st(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=tr(this,null,this.W),Hn(this)};function zn(e){if(Vn(e),e.G==3){var t=e.U++,n=Jt(e.I);if(E(n,`SID`,e.K),E(n,`RID`,t),E(n,`TYPE`,`terminate`),Gn(e,n),t=new bt(e,e.j,t),t.L=2,t.v=Qt(Jt(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),``)}catch{}!n&&s.Image&&(new Image().src=t.v,n=!0),n||(t.g=nr(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ot(t)}er(e)}function Bn(e){e.g&&=(Yn(e),e.g.cancel(),null)}function Vn(e){Bn(e),e.u&&=(s.clearTimeout(e.u),null),O(e),e.h.cancel(),e.s&&=(typeof e.s==`number`&&s.clearTimeout(e.s),null)}function Hn(e){if(!It(e.h)&&!e.s){e.s=!0;var t=e.Ga;ue||C(),de||=(ue(),!0),fe.add(t,e),e.B=0}}function Un(e,t){return Lt(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=lt(f(e.Ga,e,t),Qn(e,e.B)),e.B++,!0)}e.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new bt(this,this.j,e),a=this.o;if(this.S&&(a?(a=S(a),re(a,this.S)):a=this.S),this.m!==null||this.O||(i.H=a,a=null),this.P)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Kn(this,i,t),n=Jt(this.I),E(n,`RID`,e),E(n,`CVER`,22),this.D&&E(n,`X-HTTP-Session-Id`,this.D),Gn(this,n),a&&(this.O?t=`headers=`+encodeURIComponent(String(Tn(a)))+`&`+t:this.m&&En(n,this.m,a)),zt(this.h,i),this.Ua&&E(n,`TYPE`,`init`),this.P?(E(n,`$req`,t),E(n,`SID`,`null`),i.T=!0,wt(i,n,null)):wt(i,n,t),this.G=2}}else this.G==3&&(e?Wn(this,e):this.i.length==0||It(this.h)||Wn(this))};function Wn(e,t){var n=t?t.l:e.U++;let r=Jt(e.I);E(r,`SID`,e.K),E(r,`RID`,n),E(r,`AID`,e.T),Gn(e,r),e.m&&e.o&&En(r,e.m,e.o),n=new bt(e,e.j,n,e.B+1),e.m===null&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Kn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),zt(e.h,n),wt(n,r,t)}function Gn(e,t){e.H&&ee(e.H,function(e,n){E(t,n,e)}),e.l&&Wt({},function(e,n){E(t,n,e)})}function Kn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?f(e.l.Na,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?0<n?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g,s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{yn(s,e,`req`+n+`_`)}catch{r&&r(s)}}if(a){r=e.join(`&`);break a}}}return e=e.i.splice(0,n),t.D=e,r}function qn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;ue||C(),de||=(ue(),!0),fe.add(t,e),e.v=0}}function Jn(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=lt(f(e.Fa,e),Qn(e,e.v)),e.v++,!0)}e.Fa=function(){if(this.u=null,Xn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info(`BP detection timer enabled: `+e),this.A=lt(f(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.M=!0,st(10),Bn(this),Xn(this))};function Yn(e){e.A!=null&&(s.clearTimeout(e.A),e.A=null)}function Xn(e){e.g=new bt(e,e.j,`rpc`,e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var t=Jt(e.qa);E(t,`RID`,`rpc`),E(t,`SID`,e.K),E(t,`AID`,e.T),E(t,`CI`,e.F?`0`:`1`),!e.F&&e.ja&&E(t,`TO`,e.ja),E(t,`TYPE`,`xmlhttp`),Gn(e,t),e.m&&e.o&&En(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Qt(Jt(t)),n.m=null,n.P=!0,Tt(n,e)}e.Za=function(){this.C!=null&&(this.C=null,Bn(this),Jn(this),st(19))};function O(e){e.C!=null&&(s.clearTimeout(e.C),e.C=null)}function Zn(e,t){var n=null;if(e.g==t){O(e),Yn(e),e.g=null;var r=2}else if(Rt(e.h,t))n=t.D,Bt(e.h,t),r=1;else return;if(e.G!=0){if(t.o)if(r==1){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;r=rt(),Re(r,new ct(r,n)),Hn(e)}else qn(e);else if(i=t.s,i==3||i==0&&0<t.X||!(r==1&&Un(e,t)||r==2&&Jn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:$n(e,5);break;case 4:$n(e,10);break;case 3:$n(e,6);break;default:$n(e,2)}}}function Qn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function $n(e,t){if(e.j.info(`Error code `+t),t==2){var n=f(e.fb,e),r=e.Xa;let t=!r;r=new qt(r||`//www.google.com/images/cleardot.gif`),s.location&&s.location.protocol==`http`||Yt(r,`https`),Qt(r),t?hn(r.toString(),n):gn(r.toString(),n)}else st(2);e.G=0,e.l&&e.l.sa(t),er(e),Vn(e)}e.fb=function(e){e?(this.j.info(`Successfully pinged google.com`),st(2)):(this.j.info(`Failed to ping google.com`),st(1))};function er(e){if(e.G=0,e.ka=[],e.l){let t=Vt(e.h);(t.length!=0||e.i.length!=0)&&(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function tr(e,t,n){var r=n instanceof qt?Jt(n):new qt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Xt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;var a=new qt(null);r&&Yt(a,r),t&&(a.g=t),i&&Xt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&E(r,n,t),E(r,`VER`,e.la),Gn(e,r),r}function nr(e,t,n){if(t&&!e.J)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Ca&&!e.pa?new Dn(new bn({eb:n})):new Dn(e.pa),t.Ha(e.J),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rr(){}e=rr.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ir(){}ir.prototype.g=function(e,t){return new ar(e,t)};function ar(e,t){Le.call(this),this.g=new Rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e[`X-WebChannel-Client-Profile`]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!v(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!v(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new cr(this)}m(ar,Le),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){zn(this.g)},ar.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.u&&(n={},n.__data__=Ke(e),e=n);t.i.push(new Pt(t.Ya++,e)),t.G==3&&Hn(t)},ar.prototype.N=function(){this.g.l=null,delete this.j,zn(this.g),delete this.g,ar.aa.N.call(this)};function or(e){$e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}m(or,$e);function sr(){et.call(this),this.status=1}m(sr,et);function cr(e){this.g=e}m(cr,rr),cr.prototype.ua=function(){Re(this.g,`a`)},cr.prototype.ta=function(e){Re(this.g,new or(e))},cr.prototype.sa=function(e){Re(this.g,new sr)},cr.prototype.ra=function(){Re(this.g,`b`)},ir.prototype.createWebChannel=ir.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,qo=zo.createWebChannelTransport=function(){return new ir},Ko=zo.getStatEventTarget=function(){return rt()},Go=zo.Event=tt,Wo=zo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,Uo=zo.ErrorCode=gt,_t.COMPLETE=`complete`,Ho=zo.EventType=_t,Ze.EventType=Qe,Qe.OPEN=`a`,Qe.CLOSE=`b`,Qe.ERROR=`c`,Qe.MESSAGE=`d`,Le.prototype.listen=Le.prototype.K,Vo=zo.WebChannel=Ze,zo.FetchXmlHttpFactory=bn,Dn.prototype.listenOnce=Dn.prototype.L,Dn.prototype.getLastError=Dn.prototype.Ka,Dn.prototype.getLastErrorCode=Dn.prototype.Ba,Dn.prototype.getStatus=Dn.prototype.Z,Dn.prototype.getResponseJson=Dn.prototype.Oa,Dn.prototype.getResponseText=Dn.prototype.oa,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Ha,Bo=zo.XhrIo=Dn}).apply(Ro===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Ro);var Jo=`@firebase/firestore`,Yo=`4.8.0`,Xo=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Xo.UNAUTHENTICATED=new Xo(null),Xo.GOOGLE_CREDENTIALS=new Xo(`google-credentials-uid`),Xo.FIRST_PARTY=new Xo(`first-party-uid`),Xo.MOCK_USER=new Xo(`mock-user`);var Zo=`11.10.0`,Qo=new ea(`@firebase/firestore`);function $o(){return Qo.logLevel}function N(e,...t){if(Qo.logLevel<=j.DEBUG){let n=t.map(ns);Qo.debug(`Firestore (${Zo}): ${e}`,...n)}}function es(e,...t){if(Qo.logLevel<=j.ERROR){let n=t.map(ns);Qo.error(`Firestore (${Zo}): ${e}`,...n)}}function ts(e,...t){if(Qo.logLevel<=j.WARN){let n=t.map(ns);Qo.warn(`Firestore (${Zo}): ${e}`,...n)}}function ns(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function P(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,rs(e,r,n)}function rs(e,t,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw es(r),Error(r)}function F(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||rs(t,i,r)}function I(e,t){return e}var L={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},R=class extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},is=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},as=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},os=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xo.UNAUTHENTICATED)))}shutdown(){}},ss=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},cs=class{constructor(e){this.t=e,this.currentUser=Xo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){F(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{N(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(N(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new is)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(F(typeof t.accessToken==`string`,31837,{l:t}),new as(t.accessToken,this.currentUser)):null:(N(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return F(e===null||typeof e==`string`,2055,{h:e}),new Xo(e)}},ls=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Xo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},us=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ls(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},ds=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},fs=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){F(this.o===void 0,3512);let n=e=>{e.error!=null&&N(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,N(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{N(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):N(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new ds(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(F(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new ds(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ps(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}function ms(){return new TextEncoder}var hs=class{static newId(){let e=``;for(;e.length<20;){let t=ps(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function z(e,t){return e<t?-1:e>t?1:0}function gs(e,t){let n=0;for(;n<e.length&&n<t.length;){let r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return z(r,i);{let a=ms(),o=vs(a.encode(_s(e,n)),a.encode(_s(t,n)));return o===0?z(r,i):o}}n+=r>65535?2:1}return z(e.length,t.length)}function _s(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function vs(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return z(e[n],t[n]);return z(e.length,t.length)}function ys(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var bs=`__name__`,xs=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&P(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return z(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):gs(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}},Ss=class e extends xs{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new R(L.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},Cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ws=class e extends xs{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return Cs.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bs}static keyField(){return new e([bs])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new R(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new R(L.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new R(L.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new R(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},B=class e{constructor(e){this.path=e}static fromPath(t){return new e(Ss.fromString(t))}static fromName(t){return new e(Ss.fromString(t).popFirst(5))}static empty(){return new e(Ss.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ss.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ss.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new Ss(t.slice()))}};function Ts(e,t,n){if(!n)throw new R(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Es(e,t,n,r){if(!0===t&&!0===r)throw new R(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ds(e){if(!B.isDocumentKey(e))throw new R(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Os(e){if(B.isDocumentKey(e))throw new R(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ks(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function As(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:P(12329,{type:typeof e})}function js(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new R(L.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=As(e);throw new R(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ms(e,t){if(t<=0)throw new R(L.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function Ns(e,t){let n={typeString:e};return t&&(n.value=t),n}function Ps(e,t){if(!ks(e))throw new R(L.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new R(L.INVALID_ARGUMENT,n);return!0}var Fs=-62135596800,Is=1e6,Ls=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*Is))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new R(L.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<Fs||e>=253402300800)throw new R(L.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Is}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ps(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-Fs;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};Ls._jsonSchemaVersion=`firestore/timestamp/1.0`,Ls._jsonSchema={type:Ns(`string`,Ls._jsonSchemaVersion),seconds:Ns(`number`),nanoseconds:Ns(`number`)};var V=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new Ls(0,0))}static max(){return new e(new Ls(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},Rs=-1,zs=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};zs.UNKNOWN_ID=-1;function Bs(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Hs(V.fromTimestamp(r===1e9?new Ls(n+1,0):new Ls(n,r)),B.empty(),t)}function Vs(e){return new Hs(e.readTime,e.key,Rs)}var Hs=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(V.min(),B.empty(),Rs)}static max(){return new e(V.max(),B.empty(),Rs)}};function Us(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=B.comparator(e.documentKey,t.documentKey),n===0?z(e.largestBatchId,t.largestBatchId):n):n}var Ws=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Gs=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Ks(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==Ws)throw e;N(`LocalStore`,`Unexpectedly lost primary lease`)}var H=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function qs(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Js(e){return e.name===`IndexedDbTransactionError`}var Ys=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ae&&this.ae(e),e}};Ys.ue=-1;var Xs=-1;function Zs(e){return e==null}function Qs(e){return e===0&&1/e==-1/0}function $s(e){return typeof e==`number`&&Number.isInteger(e)&&!Qs(e)&&e<=2**53-1&&e>=-(2**53-1)}var ec=``;function tc(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=rc(t)),t=nc(e.get(n),t);return rc(t)}function nc(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case ec:n+=``;break;default:n+=r}}return n}function rc(e){return e+ec+``}function ic(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ac(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oc(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var sc=class e{constructor(e,t){this.comparator=e,this.root=t||lc.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lc.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}},cc=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lc=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}};lc.EMPTY=null,lc.RED=!0,lc.BLACK=!1,lc.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new lc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var uc=class e{constructor(e){this.comparator=e,this.data=new sc(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dc(this.data.getIterator())}getIteratorFrom(e){return new dc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},dc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},fc=class e{constructor(e){this.fields=e,e.sort(ws.comparator)}static empty(){return new e([])}unionWith(t){let n=new uc(ws.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},pc=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},mc=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new pc(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mc.EMPTY_BYTE_STRING=new mc(``);var hc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(e){if(F(!!e,39018),typeof e==`string`){let t=0,n=hc.exec(e);if(F(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_c(e.seconds),nanos:_c(e.nanos)}}function _c(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function vc(e){return typeof e==`string`?mc.fromBase64String(e):mc.fromUint8Array(e)}var yc=`server_timestamp`,bc=`__type__`,xc=`__previous_value__`,Sc=`__local_write_time__`;function Cc(e){return(e?.mapValue?.fields||{})[bc]?.stringValue===yc}function wc(e){let t=e.mapValue.fields[xc];return Cc(t)?wc(t):t}function Tc(e){let t=gc(e.mapValue.fields[Sc].timestampValue);return new Ls(t.seconds,t.nanos)}var Ec=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},Dc=`(default)`,Oc=class e{constructor(e,t){this.projectId=e,this.database=t||Dc}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===Dc}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},kc=`__type__`,Ac=`__max__`,jc={mapValue:{fields:{__type__:{stringValue:Ac}}}},Mc=`__vector__`,Nc=`value`;function Pc(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?Cc(e)?4:Zc(e)?9007199254740991:Yc(e)?10:11:P(28295,{value:e})}function Fc(e,t){if(e===t)return!0;let n=Pc(e);if(n!==Pc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tc(e).isEqual(Tc(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=gc(e.timestampValue),r=gc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vc(e.bytesValue).isEqual(vc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _c(e.geoPointValue.latitude)===_c(t.geoPointValue.latitude)&&_c(e.geoPointValue.longitude)===_c(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return _c(e.integerValue)===_c(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=_c(e.doubleValue),r=_c(t.doubleValue);return n===r?Qs(n)===Qs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ys(e.arrayValue.values||[],t.arrayValue.values||[],Fc);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ic(n)!==ic(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!Fc(n[e],r[e])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Ic(e,t){return(e.values||[]).find((e=>Fc(e,t)))!==void 0}function Lc(e,t){if(e===t)return 0;let n=Pc(e),r=Pc(t);if(n!==r)return z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return z(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=_c(e.integerValue||e.doubleValue),r=_c(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rc(e.timestampValue,t.timestampValue);case 4:return Rc(Tc(e),Tc(t));case 5:return gs(e.stringValue,t.stringValue);case 6:return function(e,t){let n=vc(e),r=vc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=z(n[e],r[e]);if(t!==0)return t}return z(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=z(_c(e.latitude),_c(t.latitude));return n===0?z(_c(e.longitude),_c(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return zc(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[Nc]?.arrayValue,a=r[Nc]?.arrayValue,o=z(i?.values?.length||0,a?.values?.length||0);return o===0?zc(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===jc.mapValue&&t===jc.mapValue)return 0;if(e===jc.mapValue)return 1;if(t===jc.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=gs(r[e],a[e]);if(t!==0)return t;let o=Lc(n[r[e]],i[a[e]]);if(o!==0)return o}return z(r.length,a.length)}(e.mapValue,t.mapValue);default:throw P(23264,{le:n})}}function Rc(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return z(e,t);let n=gc(e),r=gc(t),i=z(n.seconds,r.seconds);return i===0?z(n.nanos,r.nanos):i}function zc(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Lc(n[e],r[e]);if(t)return t}return z(n.length,r.length)}function Bc(e){return Vc(e)}function Vc(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=gc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return vc(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return B.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Vc(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Vc(e.fields[i])}`;return n+`}`}(e.mapValue):P(61005,{value:e})}function Hc(e){switch(Pc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=wc(e);return t?16+Hc(t):16;case 5:return 2*e.stringValue.length;case 6:return vc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Hc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ac(e.fields,((e,n)=>{t+=e.length+Hc(n)})),t}(e.mapValue);default:throw P(13486,{value:e})}}function Uc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wc(e){return!!e&&`integerValue`in e}function Gc(e){return!!e&&`arrayValue`in e}function Kc(e){return!!e&&`nullValue`in e}function qc(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Jc(e){return!!e&&`mapValue`in e}function Yc(e){return(e?.mapValue?.fields||{})[kc]?.stringValue===Mc}function Xc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return ac(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Xc(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ac}var Qc=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}setAll(e){let t=ws.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xc(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Jc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ac(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(Xc(this.value))}};function $c(e){let t=[];return ac(e.fields,((e,n)=>{let r=new ws([e]);if(Jc(n)){let e=$c(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new fc(t)}var el=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,V.min(),V.min(),V.min(),Qc.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,V.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,V.min(),V.min(),Qc.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,V.min(),V.min(),Qc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},tl=class{constructor(e,t){this.position=e,this.inclusive=t}};function nl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?B.comparator(B.fromName(o.referenceValue),n.key):Lc(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function rl(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fc(e.position[n],t.position[n]))return!1;return!0}var il=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function al(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ol=class{},sl=class e extends ol{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new hl(t,n,r):n===`array-contains`?new yl(t,r):n===`in`?new bl(t,r):n===`not-in`?new xl(t,r):n===`array-contains-any`?new Sl(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new gl(e,n):new _l(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lc(t,this.value)):t!==null&&Pc(this.value)===Pc(t)&&this.matchesComparison(Lc(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cl=class e extends ol{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(t,n){return new e(t,n)}matches(e){return ll(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function ll(e){return e.op===`and`}function ul(e){return dl(e)&&ll(e)}function dl(e){for(let t of e.filters)if(t instanceof cl)return!1;return!0}function fl(e){if(e instanceof sl)return e.field.canonicalString()+e.op.toString()+Bc(e.value);if(ul(e))return e.filters.map((e=>fl(e))).join(`,`);{let t=e.filters.map((e=>fl(e))).join(`,`);return`${e.op}(${t})`}}function pl(e,t){return e instanceof sl?function(e,t){return t instanceof sl&&e.op===t.op&&e.field.isEqual(t.field)&&Fc(e.value,t.value)}(e,t):e instanceof cl?function(e,t){return t instanceof cl&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&pl(n,t.filters[r])),!0):!1}(e,t):void P(19439)}function ml(e){return e instanceof sl?function(e){return`${e.field.canonicalString()} ${e.op} ${Bc(e.value)}`}(e):e instanceof cl?function(e){return e.op.toString()+` {`+e.getFilters().map(ml).join(` ,`)+`}`}(e):`Filter`}var hl=class extends sl{constructor(e,t,n){super(e,t,n),this.key=B.fromName(n.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},gl=class extends sl{constructor(e,t){super(e,`in`,t),this.keys=vl(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},_l=class extends sl{constructor(e,t){super(e,`not-in`,t),this.keys=vl(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function vl(e,t){return(t.arrayValue?.values||[]).map((e=>B.fromName(e.referenceValue)))}var yl=class extends sl{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Gc(t)&&Ic(t.arrayValue,this.value)}},bl=class extends sl{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}},xl=class extends sl{constructor(e,t){super(e,`not-in`,t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ic(this.value.arrayValue,t)}},Sl=class extends sl{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Gc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ic(this.value.arrayValue,e)))}},Cl=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Pe=null}};function wl(e,t=null,n=[],r=[],i=null,a=null,o=null){return new Cl(e,t,n,r,i,a,o)}function Tl(e){let t=I(e);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>fl(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Zs(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Bc(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Bc(e))).join(`,`)),t.Pe=e}return t.Pe}function El(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!al(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rl(e.startAt,t.startAt)&&rl(e.endAt,t.endAt)}function Dl(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ol=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function kl(e,t,n,r,i,a,o,s){return new Ol(e,t,n,r,i,a,o,s)}function Al(e){return new Ol(e)}function jl(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ml(e){return e.collectionGroup!==null}function Nl(e){let t=I(e);if(t.Te===null){t.Te=[];let e=new Set;for(let n of t.explicitOrderBy)t.Te.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new uc(ws.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new il(r,n))})),e.has(ws.keyField().canonicalString())||t.Te.push(new il(ws.keyField(),n))}return t.Te}function Pl(e){let t=I(e);return t.Ie||=Fl(t,Nl(e)),t.Ie}function Fl(e,t){if(e.limitType===`F`)return wl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new il(e.field,t)}));let n=e.endAt?new tl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tl(e.startAt.position,e.startAt.inclusive):null;return wl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Il(e,t){let n=e.filters.concat([t]);return new Ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ll(e,t,n){return new Ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rl(e,t){return El(Pl(e),Pl(t))&&e.limitType===t.limitType}function zl(e){return`${Tl(Pl(e))}|lt:${e.limitType}`}function Bl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ml(e))).join(`, `)}]`),Zs(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Bc(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Bc(e))).join(`,`)),`Target(${t})`}(Pl(e))}; limitType=${e.limitType})`}function Vl(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?B.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of Nl(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=nl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nl(e),t)||e.endAt&&!function(e,t,n){let r=nl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nl(e),t))}(e,t)}function U(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function W(e){return(t,n)=>{let r=!1;for(let i of Nl(e)){let e=G(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function G(e,t,n){let r=e.field.isKeyField()?B.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Lc(r,i):P(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return P(19790,{direction:e.dir})}}var K=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return oc(this.inner)}size(){return this.innerSize}},q=new sc(B.comparator);function Hl(){return q}var Ul=new sc(B.comparator);function Wl(...e){let t=Ul;for(let n of e)t=t.insert(n.key,n);return t}function Gl(e){let t=Ul;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Kl(){return Jl()}function ql(){return Jl()}function Jl(){return new K((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Yl=new sc(B.comparator),Xl=new uc(B.comparator);function J(...e){let t=Xl;for(let n of e)t=t.add(n);return t}var Zl=new uc(z);function Ql(){return Zl}function $l(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Qs(t)?`-0`:t}}function eu(e){return{integerValue:``+e}}function tu(e,t){return $s(t)?eu(t):$l(e,t)}var nu=class{constructor(){this._=void 0}};function ru(e,t,n){return e instanceof ou?function(e,t){let n={fields:{[bc]:{stringValue:yc},[Sc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Cc(t)&&(t=wc(t)),t&&(n.fields[xc]=t),{mapValue:n}}(n,t):e instanceof su?cu(e,t):e instanceof lu?uu(e,t):function(e,t){let n=au(e,t),r=fu(n)+fu(e.Ee);return Wc(n)&&Wc(e.Ee)?eu(r):$l(e.serializer,r)}(e,t)}function iu(e,t,n){return e instanceof su?cu(e,t):e instanceof lu?uu(e,t):n}function au(e,t){return e instanceof du?function(e){return Wc(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var ou=class extends nu{},su=class extends nu{constructor(e){super(),this.elements=e}};function cu(e,t){let n=pu(t);for(let t of e.elements)n.some((e=>Fc(e,t)))||n.push(t);return{arrayValue:{values:n}}}var lu=class extends nu{constructor(e){super(),this.elements=e}};function uu(e,t){let n=pu(t);for(let t of e.elements)n=n.filter((e=>!Fc(e,t)));return{arrayValue:{values:n}}}var du=class extends nu{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function fu(e){return _c(e.integerValue||e.doubleValue)}function pu(e){return Gc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var mu=class{constructor(e,t){this.field=e,this.transform=t}};function hu(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof su&&t instanceof su||e instanceof lu&&t instanceof lu?ys(e.elements,t.elements,Fc):e instanceof du&&t instanceof du?Fc(e.Ee,t.Ee):e instanceof ou&&t instanceof ou}(e.transform,t.transform)}var gu=class{constructor(e,t){this.version=e,this.transformResults=t}},_u=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vu(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var yu=class{};function bu(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Au(e.key,_u.none()):new Tu(e.key,e.data,_u.none());{let n=e.data,r=Qc.empty(),i=new uc(ws.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new Eu(e.key,r,new fc(i.toArray()),_u.none())}}function xu(e,t,n){e instanceof Tu?function(e,t,n){let r=e.value.clone(),i=Ou(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Eu?function(e,t,n){if(!vu(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=Ou(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Du(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Su(e,t,n,r){return e instanceof Tu?function(e,t,n,r){if(!vu(e.precondition,t))return n;let i=e.value.clone(),a=ku(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Eu?function(e,t,n,r){if(!vu(e.precondition,t))return n;let i=ku(e.fieldTransforms,r,t),a=t.data;return a.setAll(Du(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return vu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cu(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=au(r.transform,e||null);i!=null&&(n===null&&(n=Qc.empty()),n.set(r.field,i))}return n||null}function wu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&ys(e,t,((e,t)=>hu(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Tu=class extends yu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Eu=class extends yu{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function Du(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function Ou(e,t,n){let r=new Map;F(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,iu(o,s,n[i]))}return r}function ku(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,ru(e,a,t))}return r}var Au=class extends yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ju=class extends yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},Mu=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&xu(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=Su(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=Su(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=ql();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=bu(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(V.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),J())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,((e,t)=>wu(e,t)))&&ys(this.baseMutations,e.baseMutations,((e,t)=>wu(e,t)))}},Nu=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){F(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let i=function(){return Yl}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},Pu=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},Fu=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Iu,Y;function Lu(e){switch(e){case L.OK:return P(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function Ru(e){if(e===void 0)return es(`GRPC error has no .code`),L.UNKNOWN;switch(e){case Iu.OK:return L.OK;case Iu.CANCELLED:return L.CANCELLED;case Iu.UNKNOWN:return L.UNKNOWN;case Iu.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Iu.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Iu.INTERNAL:return L.INTERNAL;case Iu.UNAVAILABLE:return L.UNAVAILABLE;case Iu.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Iu.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Iu.NOT_FOUND:return L.NOT_FOUND;case Iu.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Iu.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Iu.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Iu.ABORTED:return L.ABORTED;case Iu.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Iu.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Iu.DATA_LOSS:return L.DATA_LOSS;default:return P(39323,{code:e})}}(Y=Iu||={})[Y.OK=0]=`OK`,Y[Y.CANCELLED=1]=`CANCELLED`,Y[Y.UNKNOWN=2]=`UNKNOWN`,Y[Y.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,Y[Y.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,Y[Y.NOT_FOUND=5]=`NOT_FOUND`,Y[Y.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,Y[Y.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,Y[Y.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,Y[Y.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,Y[Y.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,Y[Y.ABORTED=10]=`ABORTED`,Y[Y.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,Y[Y.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,Y[Y.INTERNAL=13]=`INTERNAL`,Y[Y.UNAVAILABLE=14]=`UNAVAILABLE`,Y[Y.DATA_LOSS=15]=`DATA_LOSS`;var zu=null,Bu=new Io([4294967295,4294967295],0);function Vu(e){let t=ms().encode(e),n=new Lo;return n.update(t),new Uint8Array(n.digest())}function Hu(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Io([n,r],0),new Io([i,a],0)]}var Uu=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Io.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Io.fromNumber(n)));return r.compare(Bu)===1&&(r=new Io([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let[t,n]=Hu(Vu(e));for(let e=0;e<this.hashCount;e++){let r=this.pe(t,n,e);if(!this.ye(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.fe===0)return;let[t,n]=Hu(Vu(e));for(let e=0;e<this.hashCount;e++){let r=this.pe(t,n,e);this.we(r)}}we(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Wu=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Gu=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,X.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(V.min(),i,new sc(z),Hl(),J())}},X=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,J(),J(),J())}},Ku=class{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}},qu=class{constructor(e,t){this.targetId=e,this.De=t}},Ju=class{constructor(e,t,n=mc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Yu=class{constructor(){this.ve=0,this.Ce=Qu(),this.Fe=mc.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=J(),t=J(),n=J();return this.Ce.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:i})}})),new X(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Qu()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){--this.ve,F(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Xu=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Hl(),this.je=Zu(),this.Je=Zu(),this.He=new sc(z)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{let n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:P(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((e,n)=>{this.nt(n)&&t(n)}))}it(e){let t=e.targetId,n=e.De.count,r=this.st(t);if(r){let i=r.target;if(Dl(i))if(n===0){let e=new B(i.path);this.Xe(t,e,el.newNoDocument(e,V.min()))}else F(n===1,20013,{expectedCount:n});else{let r=this.ot(t);if(r!==n){let n=this._t(e),i=n?this.ut(n,e,r):1;if(i!==0){this.rt(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.He=this.He.insert(t,e)}zu?.ct(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>{var t;return(t=r?.mightContain(e))!=null&&t}}),a}(r,e.De,this.We.lt(),n,i))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=vc(n).toUint8Array()}catch(e){if(e instanceof pc)return ts(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Uu(a,r,i)}catch(e){return ts(e instanceof Wu?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.fe===0?null:o}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){let n=this.We.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.We.lt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,n,null),r++)})),r}Pt(e){let t=new Map;this.Ge.forEach(((n,r)=>{let i=this.st(r);if(i){if(n.current&&Dl(i.target)){let t=new B(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,el.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}}));let n=J();this.Je.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.st(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.ze.forEach(((t,n)=>n.setReadTime(e)));let r=new Gu(e,t,this.He,this.ze,n);return this.ze=Hl(),this.je=Zu(),this.Je=Zu(),this.He=new sc(z),r}Ze(e,t){if(!this.nt(e))return;let n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;let r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Yu,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new uc(z),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new uc(z),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||N(`WatchChangeAggregator`,`Detected inactive target`,e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Yu),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Zu(){return new sc(B.comparator)}function Qu(){return new sc(B.comparator)}var $u=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),ed=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),td=(()=>({and:`AND`,or:`OR`}))(),nd=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function rd(e,t){return e.useProto3Json||Zs(t)?t:{value:t}}function id(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function ad(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function od(e,t){return id(e,t.toTimestamp())}function sd(e){return F(!!e,49232),V.fromTimestamp(function(e){let t=gc(e);return new Ls(t.seconds,t.nanos)}(e))}function cd(e,t){return ld(e,t).canonicalString()}function ld(e,t){let n=function(e){return new Ss([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function ud(e){let t=Ss.fromString(e);return F(Md(t),10190,{key:t.toString()}),t}function dd(e,t){return cd(e.databaseId,t.path)}function fd(e,t){let n=ud(t);if(n.get(1)!==e.databaseId.projectId)throw new R(L.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new R(L.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new B(gd(n))}function pd(e,t){return cd(e.databaseId,t)}function md(e){let t=ud(e);return t.length===4?Ss.emptyPath():gd(t)}function hd(e){return new Ss([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function gd(e){return F(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function _d(e,t,n){return{name:dd(e,t),fields:n.value.mapValue.fields}}function vd(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:P(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(F(t===void 0||typeof t==`string`,58123),mc.fromBase64String(t||``)):(F(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),mc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Ju(r,i,a,o&&function(e){return new R(e.code===void 0?L.UNKNOWN:Ru(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=fd(e,r.document.name),a=sd(r.document.updateTime),o=r.document.createTime?sd(r.document.createTime):V.min(),s=new Qc({mapValue:{fields:r.document.fields}}),c=el.newFoundDocument(i,a,o,s);n=new Ku(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=fd(e,r.document),a=r.readTime?sd(r.readTime):V.min(),o=el.newNoDocument(i,a);n=new Ku([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=fd(e,r.document);n=new Ku([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return P(11601,{At:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new Fu(r,i),o=e.targetId;n=new qu(o,a)}}return n}function yd(e,t){let n;if(t instanceof Tu)n={update:_d(e,t.key,t.value)};else if(t instanceof Au)n={delete:dd(e,t.key)};else if(t instanceof Eu)n={update:_d(e,t.key,t.data),updateMask:jd(t.fieldMask)};else{if(!(t instanceof ju))return P(16599,{Rt:t.type});n={verify:dd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof ou)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof su)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof du)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw P(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?P(27497):{exists:t.exists}:{updateTime:od(e,t.updateTime)}}(e,t.precondition)),n}function bd(e,t){return e&&e.length>0?(F(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?sd(e.updateTime):sd(t);return n.isEqual(V.min())&&(n=sd(t)),new gu(n,e.transformResults||[])}(e,t)))):[]}function Z(e,t){return{documents:[pd(e,t.path)]}}function xd(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=pd(e,i);let a=function(e){if(e.length!==0)return Ad(cl.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:Od(e.field),direction:Td(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=rd(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function Sd(e){let t=md(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){F(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=wd(e);return t instanceof cl&&ul(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new il(kd(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Zs(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new tl(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new tl(e.values||[],t)}(n.endAt)),kl(t,i,o,a,s,`F`,c,l)}function Cd(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return P(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function wd(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?P(30097,{filter:e}):function(e){return cl.create(e.compositeFilter.filters.map((e=>wd(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return P(1026)}}(e.compositeFilter.op))}(e):function(e){return sl.create(kd(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=kd(e.unaryFilter.field);return sl.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=kd(e.unaryFilter.field);return sl.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=kd(e.unaryFilter.field);return sl.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=kd(e.unaryFilter.field);return sl.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return P(61313);default:return P(60726)}}(e)}function Td(e){return $u[e]}function Ed(e){return ed[e]}function Dd(e){return td[e]}function Od(e){return{fieldPath:e.canonicalString()}}function kd(e){return ws.fromServerFormat(e.fieldPath)}function Ad(e){return e instanceof sl?function(e){if(e.op===`==`){if(qc(e.value))return{unaryFilter:{field:Od(e.field),op:`IS_NAN`}};if(Kc(e.value))return{unaryFilter:{field:Od(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(qc(e.value))return{unaryFilter:{field:Od(e.field),op:`IS_NOT_NAN`}};if(Kc(e.value))return{unaryFilter:{field:Od(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:Od(e.field),op:Ed(e.op),value:e.value}}}(e):e instanceof cl?function(e){let t=e.getFilters().map((e=>Ad(e)));return t.length===1?t[0]:{compositeFilter:{op:Dd(e.op),filters:t}}}(e):P(54877,{filter:e})}function jd(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Md(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var Nd=class e{constructor(e,t,n,r,i=V.min(),a=V.min(),o=mc.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Pd=class{constructor(e){this.gt=e}};function Fd(e){let t=Sd({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?Ll(t,t.limit,`L`):t}var Id=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if(`nullValue`in e)this.Ct(t,5);else if(`booleanValue`in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if(`integerValue`in e)this.Ct(t,15),t.Ft(_c(e.integerValue));else if(`doubleValue`in e){let n=_c(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Qs(n)?t.Ft(0):t.Ft(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ct(t,20),typeof n==`string`&&(n=gc(n)),t.Mt(`${n.seconds||``}`),t.Ft(n.nanos||0)}else if(`stringValue`in e)this.xt(e.stringValue,t),this.Ot(t);else if(`bytesValue`in e)this.Ct(t,30),t.Nt(vc(e.bytesValue)),this.Ot(t);else if(`referenceValue`in e)this.Bt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else `mapValue`in e?Zc(e)?this.Ct(t,2**53-1):Yc(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):`arrayValue`in e?(this.qt(e.arrayValue,t),this.Ot(t)):P(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let n=e.fields||{};this.Ct(t,55);for(let e of Object.keys(n))this.xt(e,t),this.Dt(n[e],t)}Lt(e,t){let n=e.fields||{};this.Ct(t,53);let r=Nc,i=n[r].arrayValue?.values?.length||0;this.Ct(t,15),t.Ft(_c(i)),this.xt(r,t),this.Dt(n[r],t)}qt(e,t){let n=e.values||[];this.Ct(t,50);for(let e of n)this.Dt(e,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach((e=>{this.Ct(t,60),this.$t(e,t)}))}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Id.Ut=new Id;var Ld=class{constructor(){this.Dn=new Rd}addToCollectionParentIndex(e,t){return this.Dn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Hs.min())}updateCollectionGroup(e,t,n){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},Rd=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uc(Ss.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uc(Ss.comparator)).toArray()}};new Uint8Array;var zd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bd=41943040,Vd=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Vd.DEFAULT_COLLECTION_PERCENTILE=10,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vd.DEFAULT=new Vd(Bd,Vd.DEFAULT_COLLECTION_PERCENTILE,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vd.DISABLED=new Vd(-1,0,0);var Hd=class e{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new e(0)}static ur(){return new e(-1)}},Ud=`LruGarbageCollector`,Wd=1048576;function Gd([e,t],[n,r]){let i=z(e,n);return i===0?z(t,r):i}var Kd=class{constructor(e){this.Tr=e,this.buffer=new uc(Gd),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Gd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},qd=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&=(this.Ar.cancel(),null)}get started(){return this.Ar!==null}Rr(e){N(Ud,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Js(e)?N(Ud,`Ignoring IndexedDB error during garbage collection: `,e):await Ks(e)}await this.Rr(3e5)}))}},Jd=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Ys.ue);let n=new Kd(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.gr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(N(`LruGarbageCollector`,`Garbage collection skipped; disabled`),H.resolve(zd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(N(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zd):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(N(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),$o()<=j.DEBUG&&N(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Yd(e,t){return new Jd(e,t)}var Xd=class{constructor(){this.changes=new K((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,el.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):H.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Zd=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Qd=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&Su(n.mutation,e,fc.empty(),Ls.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,J()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=J()){let r=Kl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Wl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=Kl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,J())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Hl(),a=Jl(),o=function(){return Jl()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof Eu)?i=i.insert(t.key,t):o===void 0?a.set(t.key,fc.empty()):(a.set(t.key,o.mutation.getFieldMask()),Su(o.mutation,t,o.mutation.getFieldMask(),Ls.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Zd(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Jl(),r=new sc(((e,t)=>e-t)),i=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||fc.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||J()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=ql();c.forEach((e=>{if(!i.has(e)){let r=bu(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return H.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ml(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):H.resolve(Kl()),o=Rs,s=i;return a.next((t=>H.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?H.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,J()))).next((e=>({batchId:o,changes:Gl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next((e=>{let t=Wl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Wl();return this.indexManager.getCollectionParents(e,i).next((o=>H.forEach(o,(o=>{let s=function(e,t){return new Ol(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,el.newInvalidDocument(r)))}));let n=Wl();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&Su(a.mutation,r,fc.empty(),Ls.now()),Vl(t,r)&&(n=n.insert(e,r))})),n}))}},$d=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return H.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sd(e.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Fd(e.bundledQuery),readTime:sd(e.readTime)}}(t)),H.resolve()}},ef=class{constructor(){this.overlays=new sc(B.comparator),this.kr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Kl();return H.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.wt(e,t,r)})),H.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.kr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.kr.delete(n)),H.resolve()}getOverlaysForCollection(e,t,n){let r=Kl(),i=t.length+1,a=new B(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return H.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new sc(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=Kl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=Kl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return H.resolve(o)}wt(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pu(t,n));let i=this.kr.get(t);i===void 0&&(i=J(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}},tf=class{constructor(){this.sessionToken=mc.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}},nf=class{constructor(){this.qr=new uc(rf.Qr),this.$r=new uc(rf.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let n=new rf(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new rf(e,t))}Gr(e,t){e.forEach((e=>this.removeReference(e,t)))}zr(e){let t=new B(new Ss([])),n=new rf(t,e),r=new rf(t,e+1),i=[];return this.$r.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new Ss([])),n=new rf(t,e),r=new rf(t,e+1),i=J();return this.$r.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new rf(e,0),n=this.qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},rf=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||z(e.Hr,t.Hr)}static Ur(e,t){return z(e.Hr,t.Hr)||B.comparator(e.key,t.key)}},af=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new uc(rf.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Mu(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Yr=this.Yr.add(new rf(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.Xr(n),i=r<0?0:r;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Xs:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new rf(t,0),r=new rf(t,1/0),i=[];return this.Yr.forEachInRange([n,r],(e=>{let t=this.Zr(e.Hr);i.push(t)})),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uc(z);return t.forEach((e=>{let t=new rf(e,0),r=new rf(e,1/0);this.Yr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),H.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;B.isDocumentKey(i)||(i=i.child(``));let a=new rf(new B(i),0),o=new uc(z);return this.Yr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)}),a),H.resolve(this.ei(o))}ei(e){let t=[];return e.forEach((e=>{let n=this.Zr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){F(this.ti(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Yr;return H.forEach(t.mutations,(r=>{let i=new rf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,t){let n=new rf(t,0),r=this.Yr.firstAfterOrEqual(n);return H.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},of=class{constructor(e){this.ni=e,this.docs=function(){return new sc(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return H.resolve(n?n.document.mutableCopy():el.newInvalidDocument(t))}getEntries(e,t){let n=Hl();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():el.newInvalidDocument(e))})),H.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Hl(),a=t.path,o=new B(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Us(Vs(o),n)<=0||(r.has(o.key)||Vl(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,t,n,r){P(9500)}ri(e,t){return H.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new sf(this)}getSize(e){return H.resolve(this.size)}},sf=class extends Xd{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)})),H.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}},cf=class{constructor(e){this.persistence=e,this.ii=new K((e=>Tl(e)),El),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.si=0,this.oi=new nf,this.targetCount=0,this._i=Hd.ar()}forEachTarget(e,t){return this.ii.forEach(((e,n)=>t(n))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),H.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Hd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.hr(t),H.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),--this.targetCount,H.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ii.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ii.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),H.waitFor(i).next((()=>r))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let n=this.ii.get(t)||null;return H.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),H.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),H.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),H.resolve()}getMatchingKeysForTargetId(e,t){let n=this.oi.Jr(t);return H.resolve(n)}containsKey(e,t){return H.resolve(this.oi.containsKey(t))}},lf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ys(0),this.ci=!1,this.ci=!0,this.li=new tf,this.referenceDelegate=e(this),this.hi=new cf(this),this.indexManager=new Ld,this.remoteDocumentCache=function(e){return new of(e)}((e=>this.referenceDelegate.Pi(e))),this.serializer=new Pd(t),this.Ti=new $d(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ef,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new af(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){N(`MemoryPersistence`,`Starting transaction:`,e);let r=new uf(this.ui.next());return this.referenceDelegate.Ii(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return H.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,t))))}},uf=class extends Gs{constructor(e){super(),this.currentSequenceNumber=e}},df=class e{constructor(e){this.persistence=e,this.Ai=new nf,this.Ri=null}static Vi(t){return new e(t)}get mi(){if(this.Ri)return this.Ri;throw P(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),H.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((e=>this.mi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.mi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,(n=>{let r=B.fromPath(n);return this.fi(e,r).next((e=>{e||t.removeEntry(r,V.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return H.or([()=>H.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ff=class e{constructor(e,t){this.persistence=e,this.gi=new K((e=>tc(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Yd(this,t)}static Vi(t,n){return new e(t,n)}Ii(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}yr(e){let t=0;return this.gr(e,(e=>{t++})).next((()=>t))}gr(e,t){return H.forEach(this.gi,((n,r)=>this.Sr(e,n,r).next((e=>e?H.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,(r=>this.Sr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,V.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hc(e.data.value)),t}Sr(e,t,n){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.gi.get(t);return H.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},pf=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(t,n){let r=J(),i=J();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},mf=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},hf=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return bi()?8:qs(pi())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ps(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ys(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new mf;return this.ws(e,t,n).next((r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)}))})).next((()=>i.result))}Ss(e,t,n,r){return n.documentReadCount<this.Vs?($o()<=j.DEBUG&&N(`QueryEngine`,`SDK will not create cache indexes for query:`,Bl(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.Vs,`documents`),H.resolve()):($o()<=j.DEBUG&&N(`QueryEngine`,`Query:`,Bl(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.fs*r?($o()<=j.DEBUG&&N(`QueryEngine`,`The SDK decides to create cache indexes for query:`,Bl(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,Pl(t))):H.resolve())}ps(e,t){if(jl(t))return H.resolve(null);let n=Pl(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Ll(t,null,`F`),n=Pl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=J(...r);return this.gs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.bs(t,r);return this.Ds(t,a,i,n.readTime)?this.ps(e,Ll(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ys(e,t,n,r){return jl(t)||r.isEqual(V.min())?H.resolve(null):this.gs.getDocuments(e,n).next((i=>{let a=this.bs(t,i);return this.Ds(t,a,n,r)?H.resolve(null):($o()<=j.DEBUG&&N(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),Bl(t)),this.vs(e,a,t,Bs(r,Rs)).next((e=>e)))}))}bs(e,t){let n=new uc(W(e));return t.forEach(((t,r)=>{Vl(e,r)&&(n=n.add(r))})),n}Ds(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return $o()<=j.DEBUG&&N(`QueryEngine`,`Using full collection scan to execute query:`,Bl(t)),this.gs.getDocumentsMatchingQuery(e,t,Hs.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},gf=`LocalStore`,_f=3e8,vf=class{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new sc(z),this.Ms=new K((e=>Tl(e)),El),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qd(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Fs)))}};function yf(e,t,n,r){return new vf(e,t,n,r)}async function bf(e,t){let n=I(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=J();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Bs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function xf(e,t){let n=I(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=H.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);F(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=J();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function Sf(e){let t=I(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.hi.getLastRemoteSnapshotVersion(e)))}function Cf(e,t){let n=I(e),r=t.snapshotVersion,i=n.Fs;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.hi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.hi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(mc.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=_f?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.hi.updateTargetData(e,l))}));let s=Hl(),c=J();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wf(e,a,t.documentUpdates).next((e=>{s=e.Ls,c=e.ks}))),!r.isEqual(V.min())){let t=n.hi.getLastRemoteSnapshotVersion(e).next((t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return H.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Fs=i,e)))}function wf(e,t,n){let r=J(),i=J();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Hl();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(V.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):N(gf,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{Ls:r,ks:i}}))}function Tf(e,t){let n=I(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Xs),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ef(e,t){let n=I(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.hi.getTargetData(e,t).next((i=>i?(r=i,H.resolve(r)):n.hi.allocateTargetId(e).next((i=>(r=new Nd(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.hi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Fs.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e}))}async function Df(e,t,n){let r=I(e),i=r.Fs.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Js(e))throw e;N(gf,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Of(e,t,n){let r=I(e),i=V.min(),a=J();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=I(e),i=r.Ms.get(n);return i===void 0?r.hi.getTargetData(t,n):H.resolve(r.Fs.get(i))}(r,e,Pl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:V.min(),n?a:J()))).next((e=>(kf(r,U(t),e),{documents:e,qs:a})))))}function kf(e,t,n){let r=e.xs.get(t)||V.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.xs.set(t,r)}var Af=class{constructor(){this.activeTargetIds=Ql()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},jf=class{constructor(){this.Fo=new Af,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||`not-current`}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Af,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Mf=class{xo(e){}shutdown(){}},Nf=`ConnectivityMonitor`,Pf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener(`online`,this.Oo),window.removeEventListener(`offline`,this.Bo)}qo(){window.addEventListener(`online`,this.Oo),window.addEventListener(`offline`,this.Bo)}No(){N(Nf,`Network connectivity changed: AVAILABLE`);for(let e of this.ko)e(0)}Lo(){N(Nf,`Network connectivity changed: UNAVAILABLE`);for(let e of this.ko)e(1)}static C(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Ff=null;function If(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,`0x`+Ff.toString(16)}var Lf=`RestConnection`,Rf={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},zf=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+`://`+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Dc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let a=If(),o=this.Go(e,t.toUriEncodedString());N(Lf,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,i);let{host:c}=new URL(o),l=ai(c);return this.jo(e,o,s,n,l).then((t=>(N(Lf,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw ts(Lf,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}zo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Zo}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Go(e,t){let n=Rf[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}},Bf=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}},Vf=`WebChannelConnection`,Hf=class extends zf{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){let a=If();return new Promise(((i,o)=>{let s=new Bo;s.setWithCredentials(!0),s.listenOnce(Ho.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Uo.NO_ERROR:let t=s.getResponseJson();N(Vf,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Uo.TIMEOUT:N(Vf,`RPC '${e}' ${a} timed out`),o(new R(L.DEADLINE_EXCEEDED,`Request time out`));break;case Uo.HTTP_ERROR:let n=s.getStatus();if(N(Vf,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new R(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(L).indexOf(t)>=0?t:L.UNKNOWN}(t.status),t.message)):o(new R(L.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new R(L.UNAVAILABLE,`Connection failed.`));break;default:P(9055,{c_:e,streamId:a,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{N(Vf,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);N(Vf,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}P_(e,t,n){let r=If(),i=[this.$o,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=qo(),o=Ko(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);N(Vf,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.T_(u);let d=!1,f=!1,p=new Bf({Ho:t=>{f?N(Vf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(N(Vf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),N(Vf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Vo.EventType.OPEN,(()=>{f||(N(Vf,`RPC '${e}' stream ${r} transport opened.`),p.s_())})),m(u,Vo.EventType.CLOSE,(()=>{f||(f=!0,N(Vf,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(u))})),m(u,Vo.EventType.ERROR,(t=>{f||(f=!0,ts(Vf,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.__(new R(L.UNAVAILABLE,`The operation could not be completed`)))})),m(u,Vo.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];F(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){N(Vf,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=Iu[e];if(t!==void 0)return Ru(t)}(t),i=a.message;n===void 0&&(n=L.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.__(new R(n,i)),u.close()}else N(Vf,`RPC '${e}' stream ${r} received:`,n),p.a_(n)}})),m(o,Go.STAT_EVENT,(t=>{t.stat===Wo.PROXY?N(Vf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Wo.NOPROXY&&N(Vf,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.o_()}),0),p}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}};function Uf(){return typeof document<`u`?document:null}function Wf(e){return new nd(e,!0)}var Gf=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&N(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}},Kf=`PersistentStream`,qf=class{constructor(e,t,n,r,i,a,o,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Gf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state===4?this.O_():this.auth()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&=(this.D_.cancel(),null)}Q_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e===4?t&&t.code===L.RESOURCE_EXHAUSTED?(es(t.toString()),es(`Using maximum backoff delay to prevent overloading the backend.`),this.F_.f_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.F_.reset(),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.b_===t&&this.W_(e,n)}),(t=>{e((()=>{let e=new R(L.UNKNOWN,`Fetching auth token failed: `+t.message);return this.G_(e)}))}))}W_(e,t){let n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((e=>{n((()=>this.G_(e)))})),this.stream.onMessage((e=>{n((()=>++this.C_==1?this.j_(e):this.onNext(e)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return N(Kf,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(N(Kf,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Jf=class extends qf{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}z_(e,t){return this.connection.P_(`Listen`,e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=vd(this.serializer,e),n=function(e){if(!(`targetChange`in e))return V.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?V.min():t.readTime?sd(t.readTime):V.min()}(e);return this.listener.J_(t,n)}H_(e){let t={};t.database=hd(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=Dl(r)?{documents:Z(e,r)}:{query:xd(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ad(e,t.resumeToken);let r=rd(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(V.min())>0){n.readTime=id(e,t.snapshotVersion.toTimestamp());let r=rd(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=Cd(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){let t={};t.database=hd(this.serializer),t.removeTarget=e,this.k_(t)}},Yf=class extends qf{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_(`Write`,e,t)}j_(e){return F(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,F(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){F(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=bd(e.writeResults,e.commitTime),n=sd(e.commitTime);return this.listener.ta(n,t)}na(){let e={};e.database=hd(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>yd(this.serializer,e)))};this.k_(t)}},Xf=class{},Zf=class extends Xf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new R(L.FAILED_PRECONDITION,`The client has already been terminated.`)}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,ld(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new R(L.UNKNOWN,e.toString())}))}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Jo(e,ld(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new R(L.UNKNOWN,e.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}},Qf=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua(`Unknown`),this.oa=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this.oa=null,this.ca(`Backend didn't respond within 10 seconds.`),this.ua(`Offline`),Promise.resolve()))))}la(e){this.state===`Online`?this.ua(`Unknown`):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua(`Offline`)))}set(e){this.ha(),this.sa=0,e===`Online`&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(es(t),this._a=!1):N(`OnlineStateTracker`,t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}},$f=`RemoteStore`,ep=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo((e=>{n.enqueueAndForget((async()=>{lp(this)&&(N($f,`Restarting streams for network reachability change.`),await async function(e){let t=I(e);t.Ia.add(4),await np(t),t.Aa.set(`Unknown`),t.Ia.delete(4),await tp(t)}(this))}))})),this.Aa=new Qf(n,r)}};async function tp(e){if(lp(e))for(let t of e.da)await t(!0)}async function np(e){for(let t of e.da)await t(!1)}function rp(e,t){let n=I(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),cp(n)?sp(n):Op(n).x_()&&ap(n,t))}function ip(e,t){let n=I(e),r=Op(n);n.Ta.delete(t),r.x_()&&op(n,t),n.Ta.size===0&&(r.x_()?r.B_():lp(n)&&n.Aa.set(`Unknown`))}function ap(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(V.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Op(e).H_(t)}function op(e,t){e.Ra.$e(t),Op(e).Y_(t)}function sp(e){e.Ra=new Xu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Op(e).start(),e.Aa.aa()}function cp(e){return lp(e)&&!Op(e).M_()&&e.Ta.size>0}function lp(e){return I(e).Ia.size===0}function up(e){e.Ra=void 0}async function dp(e){e.Aa.set(`Online`)}async function fp(e){e.Ta.forEach(((t,n)=>{ap(e,t)}))}async function pp(e,t){up(e),cp(e)?(e.Aa.la(t),sp(e)):e.Aa.set(`Unknown`)}async function mp(e,t,n){if(e.Aa.set(`Online`),t instanceof Ju&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){N($f,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await hp(e,n)}else if(t instanceof Ku?e.Ra.Ye(t):t instanceof qu?e.Ra.it(t):e.Ra.et(t),!n.isEqual(V.min()))try{let t=await Sf(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Ra.Pt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ta.get(t);r&&(e.Ta.set(t,r.withResumeToken(mc.EMPTY_BYTE_STRING,r.snapshotVersion)),op(e,t),ap(e,new Nd(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){N($f,`Failed to raise snapshot:`,t),await hp(e,t)}}async function hp(e,t,n){if(!Js(t))throw t;e.Ia.add(1),await np(e),e.Aa.set(`Offline`),n||=()=>Sf(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{N($f,`Retrying IndexedDB access`),await n(),e.Ia.delete(1),await tp(e)}))}function gp(e,t){return t().catch((n=>hp(e,n,t)))}async function _p(e){let t=I(e),n=kp(t),r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Xs;for(;vp(t);)try{let e=await Tf(t.localStore,r);if(e===null){t.Pa.length===0&&n.B_();break}r=e.batchId,yp(t,e)}catch(e){await hp(t,e)}bp(t)&&xp(t)}function vp(e){return lp(e)&&e.Pa.length<10}function yp(e,t){e.Pa.push(t);let n=kp(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function bp(e){return lp(e)&&!kp(e).M_()&&e.Pa.length>0}function xp(e){kp(e).start()}async function Sp(e){kp(e).na()}async function Cp(e){let t=kp(e);for(let n of e.Pa)t.X_(n.mutations)}async function wp(e,t,n){let r=e.Pa.shift(),i=Nu.from(r,t,n);await gp(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await _p(e)}async function Tp(e,t){t&&kp(e).Z_&&await async function(e,t){if(function(e){return Lu(e)&&e!==L.ABORTED}(t.code)){let n=e.Pa.shift();kp(e).N_(),await gp(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await _p(e)}}(e,t),bp(e)&&xp(e)}async function Ep(e,t){let n=I(e);n.asyncQueue.verifyOperationInProgress(),N($f,`RemoteStore received new credentials`);let r=lp(n);n.Ia.add(3),await np(n),r&&n.Aa.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await tp(n)}async function Dp(e,t){let n=I(e);t?(n.Ia.delete(2),await tp(n)):t||(n.Ia.add(2),await np(n),n.Aa.set(`Unknown`))}function Op(e){return e.Va||(e.Va=function(e,t,n){let r=I(e);return r.ia(),new Jf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:dp.bind(null,e),e_:fp.bind(null,e),n_:pp.bind(null,e),J_:mp.bind(null,e)}),e.da.push((async t=>{t?(e.Va.N_(),cp(e)?sp(e):e.Aa.set(`Unknown`)):(await e.Va.stop(),up(e))}))),e.Va}function kp(e){return e.ma||(e.ma=function(e,t,n){let r=I(e);return r.ia(),new Yf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Sp.bind(null,e),n_:Tp.bind(null,e),ea:Cp.bind(null,e),ta:wp.bind(null,e)}),e.da.push((async t=>{t?(e.ma.N_(),await _p(e)):(await e.ma.stop(),e.Pa.length>0&&(N($f,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))}))),e.ma}var Ap=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(L.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jp(e,t){if(es(`AsyncQueue`,`${t}: ${e}`),Js(e))return new R(L.UNAVAILABLE,`${t}: ${e}`);throw e}var Mp=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||B.comparator(t.key,n.key):(e,t)=>B.comparator(e.key,t.key),this.keyedMap=Wl(),this.sortedSet=new sc(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},Np=class{constructor(){this.fa=new sc(B.comparator)}track(e){let t=e.doc.key,n=this.fa.get(t);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(t,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(t):e.type===1&&n.type===2?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):P(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal(((t,n)=>{e.push(n)})),e}},Pp=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,Mp.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},Fp=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}},Ip=class{constructor(){this.queries=Lp(),this.onlineState=`Unknown`,this.Da=new Set}terminate(){(function(e,t){let n=I(e),r=n.queries;n.queries=Lp(),r.forEach(((e,n)=>{for(let e of n.wa)e.onError(t)}))})(this,new R(L.ABORTED,`Firestore shutting down`))}};function Lp(){return new K((e=>zl(e)),Rl)}async function Rp(e,t){let n=I(e),r=3,i=t.query,a=n.queries.get(i);a?!a.Sa()&&t.ba()&&(r=2):(a=new Fp,r=t.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=jp(e,`Initialization of query '${Bl(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.wa.push(t),t.va(n.onlineState),a.ya&&t.Ca(a.ya)&&Hp(n)}async function zp(e,t){let n=I(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.wa.indexOf(t);e>=0&&(a.wa.splice(e,1),a.wa.length===0?i=t.ba()?0:1:!a.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bp(e,t){let n=I(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.wa)t.Ca(e)&&(r=!0);i.ya=e}}r&&Hp(n)}function Vp(e,t,n){let r=I(e),i=r.queries.get(t);if(i)for(let e of i.wa)e.onError(n);r.queries.delete(t)}function Hp(e){e.Da.forEach((e=>{e.next()}))}var Up,Wp;(Wp=Up||={}).Fa=`default`,Wp.Cache=`cache`;var Gp=class{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState=`Unknown`,this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new Pp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let n=t!==`Offline`;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Pp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Up.Cache}},Kp=class{constructor(e){this.key=e}},qp=class{constructor(e){this.key=e}},Jp=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=J(),this.mutatedKeys=J(),this.Xa=W(e),this.eu=new Mp(this.Xa)}get tu(){return this.Ha}nu(e,t){let n=t?t.ru:new Np,r=t?t.eu:this.eu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=Vl(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.iu(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.Xa(u,s)>0||c&&this.Xa(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:a,ru:n,Ds:o,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let a=e.ru.pa();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc))),this.su(n),r=r!=null&&r;let o=t&&!r?this.ou():[],s=this.Za.size===0&&this.current&&!r?1:0,c=s!==this.Ya;return this.Ya=s,a.length!==0||c?{snapshot:new Pp(this.query,e.eu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Np,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=J(),this.eu.forEach((e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))}));let t=[];return e.forEach((e=>{this.Za.has(e)||t.push(new qp(e))})),this.Za.forEach((n=>{e.has(n)||t.push(new Kp(n))})),t}uu(e){this.Ha=e.qs,this.Za=J();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Pp.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Yp=`SyncEngine`,Xp=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Zp=class{constructor(e){this.key=e,this.lu=!1}},Qp=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new K((e=>zl(e)),Rl),this.Tu=new Map,this.Iu=new Set,this.du=new sc(B.comparator),this.Eu=new Map,this.Au=new nf,this.Ru={},this.Vu=new Map,this.mu=Hd.ur(),this.onlineState=`Unknown`,this.fu=void 0}get isPrimaryClient(){return!0===this.fu}};async function $p(e,t,n=!0){let r=xm(e),i,a=r.Pu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await tm(r,t,n,!0),i}async function em(e,t){await tm(xm(e),t,!0,!1)}async function tm(e,t,n,r){let i=await Ef(e.localStore,Pl(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await nm(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&rp(e.remoteStore,i),s}async function nm(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await Of(e.localStore,t.query,!1).then((({documents:e})=>t.view.nu(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return hm(e,t.targetId,s._u),s.snapshot}(e,t,n,r);let a=await Of(e.localStore,t,!0),o=new Jp(t,a.qs),s=o.nu(a.documents),c=X.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);hm(e,n,l._u);let u=new Xp(t,n,o);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),l.snapshot}async function rm(e,t,n){let r=I(e),i=r.Pu.get(t),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter((e=>!Rl(e,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Df(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ip(r.remoteStore,i.targetId),pm(r,i.targetId)})).catch(Ks)):(pm(r,i.targetId),await Df(r.localStore,i.targetId,!0))}async function im(e,t){let n=I(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ip(n.remoteStore,r.targetId))}async function am(e,t,n){let r=Sm(e);try{let e=await function(e,t){let n=I(e),r=Ls.now(),i=t.reduce(((e,t)=>e.add(t.key)),J()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=Hl(),c=J();return n.Os.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=Cu(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new Eu(e.key,t,$c(t.value.mapValue),_u.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Gl(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||=new sc(z),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await vm(r,e.changes),await _p(r.remoteStore)}catch(e){let t=jp(e,`Failed to persist write`);n.reject(t)}}async function om(e,t){let n=I(e);try{let e=await Cf(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Eu.get(t);r&&(F(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?F(r.lu,14607):e.removedDocuments.size>0&&(F(r.lu,42227),r.lu=!1))})),await vm(n,e,t)}catch(e){await Ks(e)}}function sm(e,t,n){let r=I(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Pu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=I(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.wa)e.va(t)&&(r=!0)})),r&&Hp(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cm(e,t,n){let r=I(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Eu.get(t),a=i&&i.key;if(a){let e=new sc(B.comparator);e=e.insert(a,el.newNoDocument(a,V.min()));let n=J().add(a);await om(r,new Gu(V.min(),new Map,new sc(z),e,n)),r.du=r.du.remove(a),r.Eu.delete(t),_m(r)}else await Df(r.localStore,t,!1).then((()=>pm(r,t,n))).catch(Ks)}async function lm(e,t){let n=I(e),r=t.batch.batchId;try{let e=await xf(n.localStore,t);fm(n,r,null),dm(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await vm(n,e)}catch(e){await Ks(e)}}async function um(e,t,n){let r=I(e);try{let e=await function(e,t){let n=I(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(F(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);fm(r,t,n),dm(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await vm(r,e)}catch(e){await Ks(e)}}function dm(e,t){(e.Vu.get(t)||[]).forEach((e=>{e.resolve()})),e.Vu.delete(t)}function fm(e,t,n){let r=I(e),i=r.Ru[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function pm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach((t=>{e.Au.containsKey(t)||mm(e,t)}))}function mm(e,t){e.Iu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(ip(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),_m(e))}function hm(e,t,n){for(let r of n)r instanceof Kp?(e.Au.addReference(r.key,t),gm(e,r)):r instanceof qp?(N(Yp,`Document no longer in limbo: `+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||mm(e,r.key)):P(19791,{yu:r})}function gm(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(N(Yp,`New document in limbo: `+n),e.Iu.add(r),_m(e))}function _m(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Iu.values().next().value;e.Iu.delete(t);let n=new B(Ss.fromString(t)),r=e.mu.next();e.Eu.set(r,new Zp(n)),e.du=e.du.insert(n,r),rp(e.remoteStore,new Nd(Pl(Al(n.path)),r,`TargetPurposeLimboResolution`,Ys.ue))}}async function vm(e,t,n){let r=I(e),i=[],a=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach(((e,s)=>{o.push(r.gu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=pf.Es(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.hu.J_(i),await async function(e,t){let n=I(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>H.forEach(t,(t=>H.forEach(t.Is,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>H.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Js(e))throw e;N(gf,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Fs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(t,i)}}}(r.localStore,a))}async function ym(e,t){let n=I(e);if(!n.currentUser.isEqual(t)){N(Yp,`User change. New user:`,t.toKey());let e=await bf(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach((e=>{e.forEach((e=>{e.reject(new R(L.CANCELLED,t))}))})),e.Vu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vm(n,e.Bs)}}function bm(e,t){let n=I(e),r=n.Eu.get(t);if(r&&r.lu)return J().add(r.key);{let e=J(),r=n.Tu.get(t);if(!r)return e;for(let t of r){let r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function xm(e){let t=I(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=om.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cm.bind(null,t),t.hu.J_=Bp.bind(null,t.eventManager),t.hu.pu=Vp.bind(null,t.eventManager),t}function Sm(e){let t=I(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=um.bind(null,t),t}var Cm=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return yf(this.persistence,new hf,e.initialUser,this.serializer)}Du(e){return new lf(df.Vi,this.serializer)}bu(e){return new jf}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};Cm.provider={build:()=>new Cm};var wm=class extends Cm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){F(this.persistence.referenceDelegate instanceof ff,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new qd(n,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes===void 0?Vd.DEFAULT:Vd.withCacheSize(this.cacheSizeBytes);return new lf((e=>ff.Vi(e,t)),this.serializer)}},Tm=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ym.bind(null,this.syncEngine),await Dp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ip}()}createDatastore(e){let t=Wf(e.databaseInfo.databaseId),n=function(e){return new Hf(e)}(e.databaseInfo);return function(e,t,n,r){return new Zf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ep(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>sm(this.syncEngine,e,0)),function(){return Pf.C()?new Pf:new Mf}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new Qp(e,t,n,r,i,a);return o&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){let t=I(e);N($f,`RemoteStore shutting down.`),t.Ia.add(5),await np(t),t.Ea.shutdown(),t.Aa.set(`Unknown`)}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}};Tm.provider={build:()=>new Tm};var Em=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):es(`Uncaught Error in snapshot listener:`,e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},Dm=`FirestoreClient`,Om=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xo.UNAUTHENTICATED,this.clientId=hs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{N(Dm,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(N(Dm,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=jp(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function km(e,t){e.asyncQueue.verifyOperationInProgress(),N(Dm,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await bf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>{ts(`Terminating Firestore due to IndexedDb database deletion`),e.terminate().then((()=>{N(`Terminating Firestore due to IndexedDb database deletion completed successfully`)})).catch((e=>{ts(`Terminating Firestore due to IndexedDb database deletion failed`,e)}))})),e._offlineComponents=t}async function Am(e,t){e.asyncQueue.verifyOperationInProgress();let n=await jm(e);N(Dm,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ep(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ep(t.remoteStore,n))),e._onlineComponents=t}async function jm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){N(Dm,`Using user provided OfflineComponentProvider`);try{await km(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;ts(`Error using user provided cache. Falling back to memory cache: `+n),await km(e,new Cm)}}else N(Dm,`Using default OfflineComponentProvider`),await km(e,new wm(void 0));return e._offlineComponents}async function Mm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(N(Dm,`Using user provided OnlineComponentProvider`),await Am(e,e._uninitializedComponentsProvider._online)):(N(Dm,`Using default OnlineComponentProvider`),await Am(e,new Tm))),e._onlineComponents}function Nm(e){return Mm(e).then((e=>e.syncEngine))}async function Pm(e){let t=await Mm(e),n=t.eventManager;return n.onListen=$p.bind(null,t.syncEngine),n.onUnlisten=rm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=em.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=im.bind(null,t.syncEngine),n}function Fm(e,t,n={}){let r=new is;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new Em({next:n=>{a.Ou(),t.enqueueAndForget((()=>zp(e,o))),n.fromCache&&r.source===`server`?i.reject(new R(L.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new Gp(n,a,{includeMetadataChanges:!0,ka:!0});return Rp(e,o)}(await Pm(e),e.asyncQueue,t,n,r))),r.promise}function Im(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Lm=new Map,Rm=`firestore.googleapis.com`,zm=!0,Bm=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new R(L.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Rm,this.ssl=zm}else this.host=e.host,this.ssl=e.ssl??zm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bd;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wd)throw new R(L.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}Es(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Im(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new R(L.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new R(L.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new R(L.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vm=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new Bm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new R(L.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new R(L.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new Bm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new os;switch(e.type){case`firstParty`:return new us(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new R(L.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Lm.get(e);t&&(N(`ComponentProvider`,`Removing Datastore`),Lm.delete(e),t.terminate())}(this),Promise.resolve()}};function Hm(e,t,n,r={}){e=js(e,Vm);let i=ai(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;i&&(oi(`https://${s}`),fi(`Firestore`,!0)),a.host!==Rm&&a.host!==s&&ts(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c=Object.assign(Object.assign({},a),{host:s,ssl:i,emulatorOptions:r});if(!Ai(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Xo.MOCK_USER;else{t=si(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new R(L.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Xo(i)}e._authCredentials=new ss(new as(t,n))}}var Um=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Wm=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Ps(n,e._jsonSchema))return new e(t,r||null,new B(Ss.fromString(n.referencePath)))}};Wm._jsonSchemaVersion=`firestore/documentReference/1.0`,Wm._jsonSchema={type:Ns(`string`,Wm._jsonSchemaVersion),referencePath:Ns(`string`)};var Gm=class e extends Um{constructor(e,t,n){super(e,t,Al(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wm(this.firestore,null,new B(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Km(e,t,...n){if(e=k(e),Ts(`collection`,`path`,t),e instanceof Vm){let r=Ss.fromString(t,...n);return Os(r),new Gm(e,null,r)}{if(!(e instanceof Wm||e instanceof Gm))throw new R(L.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(Ss.fromString(t,...n));return Os(r),new Gm(e.firestore,null,r)}}function qm(e,t,...n){if(e=k(e),arguments.length===1&&(t=hs.newId()),Ts(`doc`,`path`,t),e instanceof Vm){let r=Ss.fromString(t,...n);return Ds(r),new Wm(e,null,new B(r))}{if(!(e instanceof Wm||e instanceof Gm))throw new R(L.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(Ss.fromString(t,...n));return Ds(r),new Wm(e.firestore,e instanceof Gm?e.converter:null,new B(r))}}var Jm=`AsyncQueue`,Ym=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Gf(this,`async_queue_retry`),this.oc=()=>{let e=Uf();e&&N(Jm,`Visibility state changed to `+e.visibilityState),this.F_.y_()},this._c=e;let t=Uf();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Uf();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));let t=new is;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Js(e))throw e;N(Jm,`Operation failed with retryable error: `+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){let t=this._c.then((()=>(this.nc=!0,e().catch((e=>{throw this.tc=e,this.nc=!1,es(`INTERNAL UNHANDLED ERROR: `,Xm(e)),e})).then((e=>(this.nc=!1,e))))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let r=Ap.createAndSchedule(this,e,t,n,(e=>this.lc(e)));return this.ec.push(r),r}ac(){this.tc&&P(47125,{hc:Xm(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.ec)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Xm(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Zm(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var Qm=class extends Vm{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Ym,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ym(e),this._firestoreClient=void 0,await e}}};function $m(e,t){let n=typeof e==`object`?e:go(),r=typeof e==`string`?e:t||Dc,i=lo(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=ti(`firestore`);e&&Hm(i,...e)}return i}function eh(e){if(e._terminated)throw new R(L.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||th(e),e._firestoreClient}function th(e){var t,n;let r=e._freezeSettings(),i=function(e,t,n,r){return new Ec(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Im(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,r);e._componentsProvider||(t=r.localCache)!=null&&t._offlineComponentProvider&&(n=r.localCache)!=null&&n._onlineComponentProvider&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Om(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var nh=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(mc.fromBase64String(t))}catch(e){throw new R(L.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(mc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ps(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};nh._jsonSchemaVersion=`firestore/bytes/1.0`,nh._jsonSchema={type:Ns(`string`,nh._jsonSchemaVersion),bytes:Ns(`string`)};var rh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new R(L.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new ws(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},ih=class{constructor(e){this._methodName=e}},ah=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new R(L.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new R(L.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(Ps(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};ah._jsonSchemaVersion=`firestore/geoPoint/1.0`,ah._jsonSchema={type:Ns(`string`,ah._jsonSchemaVersion),latitude:Ns(`number`),longitude:Ns(`number`)};var oh=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ps(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new R(L.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};oh._jsonSchemaVersion=`firestore/vectorValue/1.0`,oh._jsonSchema={type:Ns(`string`,oh._jsonSchemaVersion),vectorValues:Ns(`object`)};var sh=/^__.*__$/,ch=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new Tu(e,this.data,t,this.fieldTransforms):new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}},lh=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function uh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ec:e})}}var dh=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){let t=this.path?.child(e),n=this.Rc({path:t,mc:!1});return n.fc(e),n}gc(e){let t=this.path?.child(e),n=this.Rc({path:t,mc:!1});return n.Ac(),n}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Dh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc(`Document fields must not be empty`);if(uh(this.Ec)&&sh.test(e))throw this.wc(`Document fields cannot begin and end with "__"`)}},fh=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wf(e)}Dc(e,t,n,r=!1){return new dh({Ec:e,methodName:t,bc:n,path:ws.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ph(e){let t=e._freezeSettings(),n=Wf(e._databaseId);return new fh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mh(e,t,n,r,i,a={}){let o=e.Dc(a.merge||a.mergeFields?2:0,t,n,i);Ch(`Data must be an object, but it was:`,o,r);let s=xh(r,o),c,l;if(a.merge)c=new fc(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=wh(t,r,n);if(!o.contains(i))throw new R(L.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Oh(e,i)||e.push(i)}c=new fc(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new ch(new Qc(s),c,l)}var hh=class e extends ih{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},gh=class e extends ih{_toFieldTransform(e){return new mu(e.path,new ou)}isEqual(t){return t instanceof e}};function _h(e,t,n,r){let i=e.Dc(1,t,n);Ch(`Data must be an object, but it was:`,i,r);let a=[],o=Qc.empty();return ac(r,((e,r)=>{let s=Eh(t,e,n);r=k(r);let c=i.gc(s);if(r instanceof hh)a.push(s);else{let e=bh(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new lh(o,new fc(a),i.fieldTransforms)}function vh(e,t,n,r,i,a){let o=e.Dc(1,t,n),s=[wh(t,r,n)],c=[i];if(a.length%2!=0)throw new R(L.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(wh(t,a[e])),c.push(a[e+1]);let l=[],u=Qc.empty();for(let e=s.length-1;e>=0;--e)if(!Oh(l,s[e])){let t=s[e],n=c[e];n=k(n);let r=o.gc(t);if(n instanceof hh)l.push(t);else{let e=bh(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new lh(u,new fc(l),o.fieldTransforms)}function yh(e,t,n,r=!1){return bh(n,e.Dc(r?4:3,t))}function bh(e,t){if(Sh(e=k(e)))return Ch(`Unsupported field value:`,t,e),xh(e,t);if(e instanceof ih)return function(e,t){if(!uh(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=bh(i,t.yc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=k(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return tu(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Ls.fromDate(e);return{timestampValue:id(t.serializer,n)}}if(e instanceof Ls){let n=new Ls(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:id(t.serializer,n)}}if(e instanceof ah)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nh)return{bytesValue:ad(t.serializer,e._byteString)};if(e instanceof Wm){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof oh)return function(e,t){return{mapValue:{fields:{[kc]:{stringValue:Mc},[Nc]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.wc(`VectorValues must only contain numeric values.`);return $l(t.serializer,e)}))}}}}}}(e,t);throw t.wc(`Unsupported field value: ${As(e)}`)}(e,t)}function xh(e,t){let n={};return oc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ac(e,((e,r)=>{let i=bh(r,t.Vc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function Sh(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Ls||e instanceof ah||e instanceof nh||e instanceof Wm||e instanceof ih||e instanceof oh)}function Ch(e,t,n){if(!Sh(n)||!ks(n)){let r=As(n);throw r===`an object`?t.wc(e+` a custom object`):t.wc(e+` `+r)}}function wh(e,t,n){if((t=k(t))instanceof rh)return t._internalPath;if(typeof t==`string`)return Eh(e,t);throw Dh(`Field path arguments must be of type string or `,e,!1,void 0,n)}var Th=RegExp(`[~\\*/\\[\\]]`);function Eh(e,t,n){if(t.search(Th)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rh(...t.split(`.`))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dh(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new R(L.INVALID_ARGUMENT,s+e+c)}function Oh(e,t){return e.some((e=>e.isEqual(t)))}var kh=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wm(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ah(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(jh(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ah=class extends kh{data(){return super.data()}};function jh(e,t){return typeof t==`string`?Eh(e,t):t instanceof rh?t._internalPath:t._delegate._internalPath}function Mh(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new R(L.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var Nh=class{},Ph=class extends Nh{};function Fh(e,t,...n){let r=[];t instanceof Nh&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof Rh)).length,n=e.filter((e=>e instanceof Ih)).length;if(t>1||t>0&&n>0)throw new R(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var Ih=class e extends Ph{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return Gh(e._query,t),new Um(e.firestore,e.converter,Il(e._query,t))}_parse(e){let t=ph(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new R(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){Wh(o,a);let t=[];for(let n of o)t.push(Uh(r,e,n));s={arrayValue:{values:t}}}else s=Uh(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||Wh(o,a),s=yh(n,t,o,a===`in`||a===`not-in`);return sl.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function Lh(e,t,n){let r=t,i=jh(`where`,e);return Ih._create(i,r,n)}var Rh=class e extends Nh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:cl.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)Gh(n,e),n=Il(n,e)}(e._query,t),new Um(e.firestore,e.converter,Il(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},zh=class e extends Ph{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new R(L.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new R(L.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new il(t,n)}(e._query,this._field,this._direction);return new Um(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new Ol(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}};function Bh(e,t=`asc`){let n=t,r=jh(`orderBy`,e);return zh._create(r,n)}var Vh=class e extends Ph{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(t,n,r){return new e(t,n,r)}_apply(e){return new Um(e.firestore,e.converter,Ll(e._query,this._limit,this._limitType))}};function Hh(e){return Ms(`limit`,e),Vh._create(`limit`,e,`F`)}function Uh(e,t,n){if(typeof(n=k(n))==`string`){if(n===``)throw new R(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!Ml(t)&&n.indexOf(`/`)!==-1)throw new R(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(Ss.fromString(n));if(!B.isDocumentKey(r))throw new R(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uc(e,new B(r))}if(n instanceof Wm)return Uc(e,n._key);throw new R(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${As(n)}.`)}function Wh(e,t){if(!Array.isArray(e)||e.length===0)throw new R(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Gh(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new R(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new R(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}var Kh=class{convertValue(e,t=`none`){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _c(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return ac(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){return new oh((e.fields?.[Nc].arrayValue?.values)?.map((e=>_c(e.doubleValue))))}convertGeoPoint(e){return new ah(_c(e.latitude),_c(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=wc(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){let t=gc(e);return new Ls(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=Ss.fromString(e);F(Md(n),9688,{name:e});let r=new Oc(n.get(1),n.get(3)),i=new B(n.popFirst(5));return r.isEqual(t)||es(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function qh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var Jh=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Yh=class e extends kh{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(jh(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new R(L.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};Yh._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,Yh._jsonSchema={type:Ns(`string`,Yh._jsonSchemaVersion),bundleSource:Ns(`string`,`DocumentSnapshot`),bundleName:Ns(`string`),bundle:Ns(`string`)};var Xh=class extends Yh{data(e={}){return super.data(e)}},Zh=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Xh(this._firestore,this._userDataWriter,n.key,n,new Jh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new R(L.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new Xh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new Xh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Qh(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new R(L.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=hs.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function Qh(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return P(61501,{type:e})}}Zh._jsonSchemaVersion=`firestore/querySnapshot/1.0`,Zh._jsonSchema={type:Ns(`string`,Zh._jsonSchemaVersion),bundleSource:Ns(`string`,`QuerySnapshot`),bundleName:Ns(`string`),bundle:Ns(`string`)};var $h=class extends Kh{constructor(e){super(),this.firestore=e}convertBytes(e){return new nh(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wm(this.firestore,null,t)}};function eg(e){e=js(e,Um);let t=js(e.firestore,Qm),n=eh(t),r=new $h(t);return Mh(e._query),Fm(n,e._query).then((n=>new Zh(t,r,e,n)))}function tg(e,t,n){e=js(e,Wm);let r=js(e.firestore,Qm),i=qh(e.converter,t,n);return og(r,[mh(ph(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,_u.none())])}function ng(e,t,n,...r){e=js(e,Wm);let i=js(e.firestore,Qm),a=ph(i),o;return o=typeof(t=k(t))==`string`||t instanceof rh?vh(a,`updateDoc`,e._key,t,n,r):_h(a,`updateDoc`,e._key,t),og(i,[o.toMutation(e._key,_u.exists(!0))])}function rg(e){return og(js(e.firestore,Qm),[new Au(e._key,_u.none())])}function ig(e,t){let n=js(e.firestore,Qm),r=qm(e),i=qh(e.converter,t);return og(n,[mh(ph(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,_u.exists(!1))]).then((()=>r))}function ag(e,...t){e=k(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||Zm(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Zm(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Wm)o=js(e.firestore,Qm),s=Al(e._key.path),a={next:n=>{t[r]&&t[r](sg(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=js(e,Um);o=js(n.firestore,Qm),s=n._query;let i=new $h(o);a={next:e=>{t[r]&&t[r](new Zh(o,i,n,e))},error:t[r+1],complete:t[r+2]},Mh(e._query)}return function(e,t,n,r){let i=new Em(r),a=new Gp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Rp(await Pm(e),a))),()=>{i.Ou(),e.asyncQueue.enqueueAndForget((async()=>zp(await Pm(e),a)))}}(eh(o),s,i,a)}function og(e,t){return function(e,t){let n=new is;return e.asyncQueue.enqueueAndForget((async()=>am(await Nm(e),t,n))),n.promise}(eh(e),t)}function sg(e,t,n){let r=n.docs.get(t._key);return new Yh(e,new $h(e),t._key,r,new Jh(n.hasPendingWrites,n.fromCache),t.converter)}var cg=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ph(e)}set(e,t,n){this._verifyNotCommitted();let r=lg(e,this._firestore),i=qh(r.converter,t,n),a=mh(this._dataReader,`WriteBatch.set`,r._key,i,r.converter!==null,n);return this._mutations.push(a.toMutation(r._key,_u.none())),this}update(e,t,n,...r){this._verifyNotCommitted();let i=lg(e,this._firestore),a;return a=typeof(t=k(t))==`string`||t instanceof rh?vh(this._dataReader,`WriteBatch.update`,i._key,t,n,r):_h(this._dataReader,`WriteBatch.update`,i._key,t),this._mutations.push(a.toMutation(i._key,_u.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=lg(e,this._firestore);return this._mutations=this._mutations.concat(new Au(t._key,_u.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new R(L.FAILED_PRECONDITION,`A write batch can no longer be used after commit() has been called.`)}};function lg(e,t){if((e=k(e)).firestore!==t)throw new R(L.INVALID_ARGUMENT,`Provided document reference is from a different Firestore instance.`);return e}function ug(){return new gh(`serverTimestamp`)}function dg(e){return eh(e=js(e,Qm)),new cg(e,(t=>og(e,t)))}(function(e,t=!0){(function(e){Zo=e})(mo),co(new A(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new Qm(new cs(e.getProvider(`auth-internal`)),new fs(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new R(L.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new Oc(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),_o(Jo,Yo,e),_o(Jo,Yo,`esm2017`)})(),_o(`firebase`,`11.10.0`,`app`);function fg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function pg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mg=pg,hg=new Ei(`auth`,`Firebase`,pg()),gg=new ea(`@firebase/auth`);function _g(e,...t){gg.logLevel<=j.WARN&&gg.warn(`Auth (${mo}): ${e}`,...t)}function vg(e,...t){gg.logLevel<=j.ERROR&&gg.error(`Auth (${mo}): ${e}`,...t)}function yg(e,...t){throw Cg(e,...t)}function bg(e,...t){return Cg(e,...t)}function xg(e,t,n){return new Ei(`auth`,`Firebase`,Object.assign(Object.assign({},mg()),{[t]:n})).create(t,{appName:e.name})}function Sg(e){return xg(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Cg(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return hg.create(e,...t)}function Q(e,t,...n){if(!e)throw Cg(t,...n)}function wg(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw vg(t),Error(t)}function Tg(e,t){e||wg(t)}function Eg(){return typeof self<`u`&&self.location?.href||``}function Dg(){return Og()===`http:`||Og()===`https:`}function Og(){return typeof self<`u`&&self.location?.protocol||null}function kg(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Dg()||_i()||`connection`in navigator)?navigator.onLine:!0}function Ag(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var jg=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tg(t>e,`Short delay should be less than long delay!`),this.isMobile=mi()||vi()}get(){return kg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Mg(e,t){Tg(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var Ng=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;wg(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;wg(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;wg(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},Pg={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Fg=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Ig=new jg(3e4,6e4);function Lg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rg(e,t,n,r,i={}){return zg(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Mi(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c=Object.assign({method:t,headers:s},i);return gi()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&ai(e.emulatorConfig.host)&&(c.credentials=`include`),Ng.fetch()(await Vg(e,e.config.apiHost,n,o),c)})}async function zg(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},Pg),t);try{let t=new Ug(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw Wg(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw Wg(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw Wg(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw Wg(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw xg(e,o,n);yg(e,o)}}catch(t){if(t instanceof Ti)throw t;yg(e,`network-request-failed`,{message:String(t)})}}async function Bg(e,t,n,r,i={}){let a=await Rg(e,t,n,r,i);return`mfaPendingCredential`in a&&yg(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function Vg(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Mg(e.config,i):`${e.config.apiScheme}://${i}`;return Fg.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function Hg(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var Ug=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(bg(this.auth,`network-request-failed`)),Ig.get())})}};function Wg(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=bg(e,t,r);return i.customData._tokenResponse=n,i}function Gg(e){return e!==void 0&&e.enterprise!==void 0}var Kg=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Hg(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function qg(e,t){return Rg(e,`GET`,`/v2/recaptchaConfig`,Lg(e,t))}async function Jg(e,t){return Rg(e,`POST`,`/v1/accounts:delete`,t)}async function Yg(e,t){return Rg(e,`POST`,`/v1/accounts:lookup`,t)}function Xg(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Zg(e,t=!1){let n=k(e),r=await n.getIdToken(t),i=$g(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Xg(Qg(i.auth_time)),issuedAtTime:Xg(Qg(i.iat)),expirationTime:Xg(Qg(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Qg(e){return Number(e)*1e3}function $g(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return vg(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Jr(n);return e?JSON.parse(e):(vg(`Failed to decode base64 JWT payload`),null)}catch(e){return vg(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function e_(e){let t=$g(e);return Q(t,`internal-error`),Q(t.exp!==void 0,`internal-error`),Q(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function t_(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Ti&&n_(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function n_({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var r_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},i_=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xg(this.lastLoginAt),this.creationTime=Xg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function a_(e){let t=e.auth,n=await t_(e,Yg(t,{idToken:await e.getIdToken()}));Q(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?c_(r.providerUserInfo):[],a=s_(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new i_(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function o_(e){let t=k(e);await a_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function s_(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function c_(e){return e.map(e=>{var{providerId:t}=e,n=fg(e,[`providerId`]);return{providerId:t,uid:n.rawId||``,displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function l_(e,t){let n=await zg(e,{},async()=>{let n=Mi({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Vg(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&ai(e.emulatorConfig.host)&&(s.credentials=`include`),Ng.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u_(e,t){return Rg(e,`POST`,`/v2/accounts:revokeToken`,Lg(e,t))}var d_=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,`internal-error`),Q(e.idToken!==void 0,`internal-error`),Q(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):e_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,`internal-error`);let t=e_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await l_(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(Q(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(Q(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(Q(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return wg(`not implemented`)}};function f_(e,t){Q(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var p_=class e{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=fg(e,[`uid`,`auth`,`stsTokenManager`]);this.providerId=`firebase`,this.proactiveRefresh=new r_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new i_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await t_(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Zg(this,e)}reload(){return o_(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await a_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(uo(this.auth.app))return Promise.reject(Sg(this.auth));let e=await this.getIdToken();return await t_(this,Jg(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;Q(d&&h,t,`internal-error`);let g=d_.fromJSON(this.name,h);Q(typeof d==`string`,t,`internal-error`),f_(r,t.name),f_(i,t.name),Q(typeof f==`boolean`,t,`internal-error`),Q(typeof p==`boolean`,t,`internal-error`),f_(a,t.name),f_(o,t.name),f_(s,t.name),f_(c,t.name),f_(l,t.name),f_(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>Object.assign({},e))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new d_;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await a_(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];Q(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:c_(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new d_;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new i_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},m_=new Map;function h_(e){Tg(e instanceof Function,`Expected a class definition`);let t=m_.get(e);return t?(Tg(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,m_.set(e,t),t)}var g_=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};g_.type=`NONE`;var __=g_;function v_(e,t,n){return`firebase:${e}:${t}:${n}`}var y_=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=v_(this.userKey,r.apiKey,i),this.fullPersistenceKey=v_(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await Yg(this.auth,{idToken:e}).catch(()=>void 0);return t?p_._fromGetAccountInfoResponse(this.auth,t,e):null}return p_._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(h_(__),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||h_(__),o=v_(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await Yg(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await p_._fromGetAccountInfoResponse(t,e,n)}else r=p_._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function b_(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(w_(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(x_(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(E_(t))return`Blackberry`;if(D_(t))return`Webos`;if(S_(t))return`Safari`;if((t.includes(`chrome/`)||C_(t))&&!t.includes(`edge/`))return`Chrome`;if(T_(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function x_(e=pi()){return/firefox\//i.test(e)}function S_(e=pi()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function C_(e=pi()){return/crios\//i.test(e)}function w_(e=pi()){return/iemobile/i.test(e)}function T_(e=pi()){return/android/i.test(e)}function E_(e=pi()){return/blackberry/i.test(e)}function D_(e=pi()){return/webos/i.test(e)}function O_(e=pi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function k_(e=pi()){return O_(e)&&!!window.navigator?.standalone}function A_(){return yi()&&document.documentMode===10}function j_(e=pi()){return O_(e)||T_(e)||D_(e)||E_(e)||/windows phone/i.test(e)||w_(e)}function M_(e,t=[]){let n;switch(e){case`Browser`:n=b_(pi());break;case`Worker`:n=`${b_(pi())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${mo}/${r}`}var N_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function P_(e,t={}){return Rg(e,`GET`,`/v2/passwordPolicy`,Lg(e,t))}var F_=6,I_=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??F_,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},L_=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new N_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=h_(t)),this._initializationPromise=this.queue(async()=>{var n;if(!this._deleted&&(this.persistenceManager=await y_.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Yg(this,{idToken:e}),n=await p_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(uo(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await a_(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ag()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(uo(this.app))return Promise.reject(Sg(this));let t=e?k(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return uo(this.app)?Promise.reject(Sg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return uo(this.app)?Promise.reject(Sg(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(h_(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new I_(await P_(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ei(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await u_(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&h_(e)||this._popupRedirectResolver;Q(t,this,`argument-error`),this.redirectPersistenceManager=await y_.create(this,[h_(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(uo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_g(`Error while retrieving App Check token: ${e.error}`),e?.token}};function R_(e){return k(e)}var z_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fi(e=>this.observer=e)}get next(){return Q(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},B_={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function V_(e){B_=e}function H_(e){return B_.loadJS(e)}function U_(){return B_.recaptchaEnterpriseScript}function W_(){return B_.gapiScript}function G_(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var K_=class{constructor(){this.enterprise=new q_}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},q_=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},J_=`recaptcha-enterprise`,Y_=`NO_RECAPTCHA`,X_=class{constructor(e){this.type=J_,this.auth=R_(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{qg(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new Kg(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;Gg(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Y_)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new K_().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Gg(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=U_();t.length!==0&&(t+=n),H_(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function Z_(e,t,n,r=!1,i=!1){let a=new X_(e),o;if(i)o=Y_;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s=Object.assign({},t);if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function Q_(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await Z_(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await Z_(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await Z_(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await Z_(e,t,n,!1,!0))):Promise.reject(i)):r(e,await Z_(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function $_(e){let t=R_(e),n=new Kg(await qg(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new X_(t).verify()}function ev(e,t){let n=lo(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Ai(n.getOptions(),t??{}))return e;yg(e,`already-initialized`)}return n.initialize({options:t})}function tv(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(h_);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function nv(e,t,n){let r=R_(e);Q(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=rv(t),{host:o,port:s}=iv(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),Q(Ai(l,r.config.emulator)&&Ai(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ai(o)?(oi(`${a}//${o}${c}`),fi(`Auth`,!0)):i||ov()}function rv(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function iv(e){let t=rv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:av(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:av(t)}}}function av(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function ov(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var sv=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wg(`not implemented`)}_getIdTokenResponse(e){return wg(`not implemented`)}_linkToIdToken(e,t){return wg(`not implemented`)}_getReauthenticationResolver(e){return wg(`not implemented`)}};async function cv(e,t){return Rg(e,`POST`,`/v1/accounts:signUp`,t)}async function lv(e,t){return Bg(e,`POST`,`/v1/accounts:signInWithPassword`,Lg(e,t))}async function uv(e,t){return Bg(e,`POST`,`/v1/accounts:signInWithEmailLink`,Lg(e,t))}async function dv(e,t){return Bg(e,`POST`,`/v1/accounts:signInWithEmailLink`,Lg(e,t))}var fv=class e extends sv{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return Q_(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,lv,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return uv(e,{email:this._email,oobCode:this._password});default:yg(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return Q_(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,cv,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return dv(e,{idToken:t,email:this._email,oobCode:this._password});default:yg(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function pv(e,t){return Bg(e,`POST`,`/v1/accounts:signInWithIdp`,Lg(e,t))}var mv=`http://localhost`,hv=class e extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yg(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let n=typeof t==`string`?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,a=fg(n,[`providerId`,`signInMethod`]);if(!r||!i)return null;let o=new e(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){return pv(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,pv(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,pv(e,t)}buildRequest(){let e={requestUri:mv,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mi(t)}return e}};async function gv(e,t){return Rg(e,`POST`,`/v1/accounts:sendVerificationCode`,Lg(e,t))}async function _v(e,t){return Bg(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Lg(e,t))}async function vv(e,t){let n=await Bg(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Lg(e,t));if(n.temporaryProof)throw Wg(e,`account-exists-with-different-credential`,n);return n}var yv={USER_NOT_FOUND:`user-not-found`};async function bv(e,t){return Bg(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Lg(e,Object.assign(Object.assign({},t),{operation:`REAUTH`})),yv)}var xv=class e extends sv{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return _v(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return vv(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return bv(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Sv(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Cv(e){let t=Ni(Pi(e)).link,n=t?Ni(Pi(t)).deep_link_id:null,r=Ni(Pi(e)).deep_link_id;return(r?Ni(Pi(r)).link:null)||r||n||t||e}var wv=class e{constructor(e){let t=Ni(Pi(e)),n=t.apiKey??null,r=t.oobCode??null,i=Sv(t.mode??null);Q(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Cv(t);try{return new e(n)}catch{return null}}},Tv=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return fv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=wv.parseLink(t);return Q(n,`argument-error`),fv._fromEmailAndCode(e,n.code,n.tenantId)}};Tv.PROVIDER_ID=`password`,Tv.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Tv.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Ev=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},Dv=class extends Ev{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Ov=class e extends Dv{constructor(){super(`facebook.com`)}static credential(t){return hv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ov.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Ov.PROVIDER_ID=`facebook.com`;var kv=class e extends Dv{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return hv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};kv.GOOGLE_SIGN_IN_METHOD=`google.com`,kv.PROVIDER_ID=`google.com`;var Av=class e extends Dv{constructor(){super(`github.com`)}static credential(t){return hv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Av.GITHUB_SIGN_IN_METHOD=`github.com`,Av.PROVIDER_ID=`github.com`;var jv=class e extends Dv{constructor(){super(`twitter.com`)}static credential(t,n){return hv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};jv.TWITTER_SIGN_IN_METHOD=`twitter.com`,jv.PROVIDER_ID=`twitter.com`;async function Mv(e,t){return Bg(e,`POST`,`/v1/accounts:signUp`,Lg(e,t))}var Nv=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await p_._fromIdTokenResponse(t,r,i),providerId:Pv(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:Pv(r),_tokenResponse:r,operationType:n})}};function Pv(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var Fv=class e extends Ti{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Iv(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?Fv._fromErrorAndOperation(e,n,t,r):n})}async function Lv(e,t,n=!1){let r=await t_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Nv._forOperation(e,`link`,r)}async function Rv(e,t,n=!1){let{auth:r}=e;if(uo(r.app))return Promise.reject(Sg(r));let i=`reauthenticate`;try{let a=await t_(e,Iv(r,i,t,e),n);Q(a.idToken,r,`internal-error`);let o=$g(a.idToken);Q(o,r,`internal-error`);let{sub:s}=o;return Q(e.uid===s,r,`user-mismatch`),Nv._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&yg(r,`user-mismatch`),e}}async function zv(e,t,n=!1){if(uo(e.app))return Promise.reject(Sg(e));let r=`signIn`,i=await Iv(e,r,t),a=await Nv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Bv(e,t){return zv(R_(e),t)}async function Vv(e){let t=R_(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Hv(e,t,n){if(uo(e.app))return Promise.reject(Sg(e));let r=R_(e),i=await Q_(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Mv,`EMAIL_PASSWORD_PROVIDER`).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&Vv(e),t}),a=await Nv._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function Uv(e,t,n){return uo(e.app)?Promise.reject(Sg(e)):Bv(k(e),Tv.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&Vv(e),t})}function Wv(e,t,n,r){return k(e).onIdTokenChanged(t,n,r)}function Gv(e,t,n){return k(e).beforeAuthStateChanged(t,n)}function Kv(e,t,n,r){return k(e).onAuthStateChanged(t,n,r)}function qv(e){return k(e).signOut()}function Jv(e,t){return Rg(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Lg(e,t))}function Yv(e,t){return Rg(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Lg(e,t))}function Xv(e,t){return Rg(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Lg(e,t))}function Zv(e,t){return Rg(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Lg(e,t))}var Qv=`__sak`,$v=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qv,`1`),this.storage.removeItem(Qv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},ey=1e3,ty=10,ny=class extends $v{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);A_()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ty):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},ey)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};ny.type=`LOCAL`;var ry=ny,iy=1e3;function ay(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function oy(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var sy=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=oy(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:ay(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=oy(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=oy(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=ay(n),i=setInterval(()=>{let e=ay(n);e!==r&&(t(e),r=e)},iy);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};sy.type=`COOKIE`;var cy=class extends $v{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};cy.type=`SESSION`;var ly=cy;function uy(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var dy=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await uy(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};dy.receivers=[];function fy(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var py=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=fy(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function my(){return window}function hy(e){my().location.href=e}function gy(){return my().WorkerGlobalScope!==void 0&&typeof my().importScripts==`function`}async function _y(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vy(){return(navigator==null?void 0:navigator.serviceWorker)?.controller||null}function yy(){return gy()?self:null}var by=`firebaseLocalStorageDb`,xy=1,Sy=`firebaseLocalStorage`,Cy=`fbase_key`,wy=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Ty(e,t){return e.transaction([Sy],t?`readwrite`:`readonly`).objectStore(Sy)}function Ey(){return new wy(indexedDB.deleteDatabase(by)).toPromise()}function Dy(){let e=indexedDB.open(by,xy);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Sy,{keyPath:Cy})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Sy)?t(n):(n.close(),await Ey(),t(await Dy()))})})}async function Oy(e,t,n){return new wy(Ty(e,!0).put({[Cy]:t,value:n})).toPromise()}async function ky(e,t){let n=await new wy(Ty(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Ay(e,t){return new wy(Ty(e,!0).delete(t)).toPromise()}var jy=800,My=3,Ny=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Dy(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>My)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return gy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dy._getInstance(yy()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await _y(),!this.activeServiceWorker)return;this.sender=new py(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vy()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Dy();return await Oy(e,Qv,`1`),await Ay(e,Qv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Oy(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>ky(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ay(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new wy(Ty(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jy)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Ny.type=`LOCAL`;var Py=Ny;function Fy(e,t){return Rg(e,`POST`,`/v2/accounts/mfaSignIn:start`,Lg(e,t))}function Iy(e,t){return Rg(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Lg(e,t))}function Ly(e,t){return Rg(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Lg(e,t))}G_(`rcb`),new jg(3e4,6e4);var Ry=`recaptcha`;async function zy(e,t,n){if(!e._getRecaptchaConfig())try{await $_(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return Q(t.type===`enroll`,e,`internal-error`),(await Q_(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===Y_?(Q(n?.type===Ry,e,`argument-error`),Jv(e,await By(e,t,n))):Jv(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{Q(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return Q(i,e,`missing-multi-factor-info`),(await Q_(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===Y_?(Q(n?.type===Ry,e,`argument-error`),Fy(e,await By(e,t,n))):Fy(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await Q_(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===Y_?(Q(n?.type===Ry,e,`argument-error`),gv(e,await By(e,t,n))):gv(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function By(e,t,n){Q(n.type===Ry,e,`argument-error`);let r=await n.verify();Q(typeof r==`string`,e,`argument-error`);let i=Object.assign({},t);if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var Vy=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=R_(t)}verifyPhoneNumber(e,t){return zy(this.auth,e,k(t))}static credential(e,t){return xv._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?xv._fromTokenResponse(t,n):null}};Vy.PROVIDER_ID=`phone`,Vy.PHONE_SIGN_IN_METHOD=`phone`;function Hy(e,t){return t?h_(t):(Q(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var Uy=class extends sv{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return pv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Wy(e){return zv(e.auth,new Uy(e),e.bypassAuthState)}function Gy(e){let{auth:t,user:n}=e;return Q(n,t,`internal-error`),Rv(n,new Uy(e),e.bypassAuthState)}async function Ky(e){let{auth:t,user:n}=e;return Q(n,t,`internal-error`),Lv(n,new Uy(e),e.bypassAuthState)}var qy=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return Wy;case`linkViaPopup`:case`linkViaRedirect`:return Ky;case`reauthViaPopup`:case`reauthViaRedirect`:return Gy;default:yg(this.auth,`internal-error`)}}resolve(e){Tg(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tg(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},Jy=new jg(2e3,1e4),Yy=class e extends qy{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return Q(e,this.auth,`internal-error`),e}async onExecution(){Tg(this.filter.length===1,`Popup operations only handle one event`);let e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(bg(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bg(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bg(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,Jy.get())};e()}};Yy.currentPopupAction=null;var Xy=`pendingRedirect`,Zy=new Map,Qy=class extends qy{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=Zy.get(this.auth._key());if(!e){try{let t=await $y(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Zy.set(this.auth._key(),e)}return this.bypassAuthState||Zy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function $y(e,t){let n=nb(t),r=tb(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function eb(e,t){Zy.set(e._key(),t)}function tb(e){return h_(e._redirectPersistence)}function nb(e){return v_(Xy,e.config.apiKey,e.name)}async function rb(e,t,n=!1){if(uo(e.app))return Promise.reject(Sg(e));let r=R_(e),i=await new Qy(r,Hy(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var ib=600*1e3,ab=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cb(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!sb(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(bg(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ib&&this.cachedEventUids.clear(),this.cachedEventUids.has(ob(e))}saveEventToCache(e){this.cachedEventUids.add(ob(e)),this.lastProcessedEventTime=Date.now()}};function ob(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function sb({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function cb(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return sb(e);default:return!1}}async function lb(e,t={}){return Rg(e,`GET`,`/v1/projects`,t)}var ub=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,db=/^https?/;async function fb(e){if(e.config.emulator)return;let{authorizedDomains:t}=await lb(e);for(let e of t)try{if(pb(e))return}catch{}yg(e,`unauthorized-domain`)}function pb(e){let t=Eg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!db.test(n))return!1;if(ub.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var mb=new jg(3e4,6e4);function hb(){let e=my().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function gb(e){return new Promise((t,n)=>{function r(){hb(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hb(),n(bg(e,`network-request-failed`))},timeout:mb.get()})}if(my().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(my().gapi?.load)r();else{let t=G_(`iframefcb`);return my()[t]=()=>{gapi.load?r():n(bg(e,`network-request-failed`))},H_(`${W_()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw _b=null,e})}var _b=null;function vb(e){return _b||=gb(e),_b}var yb=new jg(5e3,15e3),bb=`__/auth/iframe`,xb=`emulator/auth/iframe`,Sb={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Cb=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function wb(e){let t=e.config;Q(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Mg(t,xb):`https://${e.config.authDomain}/${bb}`,r={apiKey:t.apiKey,appName:e.name,v:mo},i=Cb.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Mi(r).slice(1)}`}async function Tb(e){let t=await vb(e),n=my().gapi;return Q(n,e,`internal-error`),t.open({where:document.body,url:wb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sb,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=bg(e,`network-request-failed`),a=my().setTimeout(()=>{r(i)},yb.get());function o(){my().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var Eb={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Db=500,Ob=600,kb=`_blank`,Ab=`http://localhost`,jb=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Mb(e,t,n,r=Db,i=Ob){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c=Object.assign(Object.assign({},Eb),{width:r.toString(),height:i.toString(),top:a,left:o}),l=pi().toLowerCase();n&&(s=C_(l)?kb:n),x_(l)&&(t||=Ab,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(k_(l)&&s!==`_self`)return Nb(t||``,s),new jb(null);let d=window.open(t||``,s,u);Q(d,e,`popup-blocked`);try{d.focus()}catch{}return new jb(d)}function Nb(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Pb=`__/auth/handler`,Fb=`emulator/auth/handler`,Ib=`fac`;async function Lb(e,t,n,r,i,a){Q(e.config.authDomain,e,`auth-domain-config-required`),Q(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(t instanceof Ev){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,ki(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Dv){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${Ib}=${encodeURIComponent(c)}`:``;return`${Rb(e)}?${Mi(s).slice(1)}${l}`}function Rb({config:e}){return e.emulator?Mg(e,Fb):`https://${e.authDomain}/${Pb}`}var zb=`webStorageSupport`,Bb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ly,this._completeRedirectFn=rb,this._overrideRedirectResult=eb}async _openPopup(e,t,n,r){return Tg(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),Mb(e,await Lb(e,t,n,Eg(),r),fy())}async _openRedirect(e,t,n,r){return await this._originValidation(e),hy(await Lb(e,t,n,Eg(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Tg(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Tb(e),n=new ab(e);return t.register(`authEvent`,t=>(Q(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zb,{type:zb},n=>{let r=n?.[0]?.[zb];r!==void 0&&t(!!r),yg(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j_()||S_()||O_()}},Vb=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return wg(`unexpected MultiFactorSessionType`)}}},Hb=class e extends Vb{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return Yv(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Iy(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Ub=class{constructor(){}static assertion(e){return Hb._fromCredential(e)}};Ub.FACTOR_ID=`phone`;var Wb=class{static assertionForEnrollment(e,t){return Gb._fromSecret(e,t)}static assertionForSignIn(e,t){return Gb._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;Q(t.user?.auth!==void 0,`internal-error`);let n=await Xv(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Kb._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};Wb.FACTOR_ID=`totp`;var Gb=class e extends Vb{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return Q(this.secret!==void 0,e,`argument-error`),Zv(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){Q(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Ly(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},Kb=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(qb(e)||qb(t))&&(n=!0),n&&(qb(e)&&(e=this.auth.currentUser?.email||`unknownuser`),qb(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function qb(e){return e===void 0||e?.length===0}var Jb=`@firebase/auth`,Yb=`1.10.8`,Xb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Zb(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function Qb(e){co(new A(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;Q(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new L_(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:M_(e)});return tv(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),co(new A(`auth-internal`,e=>(e=>new Xb(e))(R_(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),_o(Jb,Yb,Zb(e)),_o(Jb,Yb,`esm2017`)}var $b=ri(`authIdTokenMaxAge`)||300,ex=null,tx=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$b)return;let i=n?.token;ex!==i&&(ex=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nx(e=go()){let t=lo(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=ev(e,{popupRedirectResolver:Bb,persistence:[Py,ry,ly]}),r=ri(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=tx(e.toString());Gv(n,t,()=>t(n.currentUser)),Wv(n,e=>t(e))}}let i=ei(`auth`);return i&&nv(n,`http://${i}`),n}function rx(){return document.getElementsByTagName(`head`)?.[0]??document}V_({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=bg(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,rx().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),Qb(`Browser`);var ix=ho({apiKey:`AIzaSyC5p0AdhibTTSqcGz7wkNg28L_beZsrdzs`,authDomain:`a1-water-tech.firebaseapp.com`,projectId:`a1-water-tech`,storageBucket:`a1-water-tech.firebasestorage.app`,messagingSenderId:`381202778843`,appId:`1:381202778843:web:208932db64720b33fd9afe`,measurementId:`G-23CVQN7P78`});typeof window<`u`&&x(async()=>{let{getAnalytics:e,isSupported:t}=await import(`./index.esm-D5a_pven.js`);return{getAnalytics:e,isSupported:t}},[]).then(({getAnalytics:e,isSupported:t})=>t().then(t=>{t&&e(ix)})).catch(()=>{});const ax=nx(ix),ox=$m(ix);var sx=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),$=o(((e,t)=>{t.exports=sx()}))(),cx=(0,_.createContext)(null);function lx({children:e}){let[t,n]=(0,_.useState)(null),[r,i]=(0,_.useState)(!0);(0,_.useEffect)(()=>{let e=Kv(ax,e=>{n(e),i(!1)});return()=>e()},[]);let a=(e,t)=>Uv(ax,e,t),o=(e,t)=>Hv(ax,e,t),s=()=>qv(ax),c=(0,_.useMemo)(()=>({user:t,loading:r,signIn:a,signUp:o,signOut:s}),[t,r]);return(0,$.jsx)(cx.Provider,{value:c,children:e})}function ux(){let e=(0,_.useContext)(cx);if(!e)throw Error(`useAuth must be used within AuthProvider`);return e}var dx=[{id:`a1-pureflow-rouv`,name:`A1 PureFlow RO + UV`,category:`Purifiers`,imageUrl:`/a1-pureflow-ro-uv.png`,price:18999,rating:4.8,tag:`Best Seller`,tds:`Up to 2000 ppm`,warranty:`1 year`,description:`7-stage purification with copper infusion and smart tank monitoring.`,features:[`12 L/hr purification rate`,`Copper + mineralizer`,`Smart auto-clean`,`Energy saving mode`],recommendation:`Ideal for hard water and apartment usage.`},{id:`a1-aquashield-ro`,name:`A1 AquaShield RO`,category:`Purifiers`,imageUrl:`/A1%20AquaShield%20RO.png`,price:14499,rating:4.7,tag:`New Arrival`,tds:`Up to 1500 ppm`,warranty:`1 year`,description:`Compact 6-stage RO with quick filter replacement design.`,features:[`Space-saving design`,`6-stage RO filtration`,`Low wastage recovery`,`Child lock faucet`],recommendation:`Great for 2-4 member families.`},{id:`a1-mineral-plus`,name:`A1 Mineral+ Cartridge`,category:`Filters`,imageUrl:`/a1-mineral-plus-cartridge.png`,price:1299,rating:4.6,tag:`Add-On`,tds:`All TDS`,warranty:`6 months`,description:`Enhances taste and restores essential minerals.`,features:[`Boosts calcium and magnesium`,`Easy twist-lock`,`6 month life`,`Food-grade material`],recommendation:`Recommended with RO systems for better taste.`},{id:`a1-sediment-guard`,name:`A1 Sediment Guard`,category:`Filters`,imageUrl:`/A1%20Sediment%20Guard.png`,price:799,rating:4.5,tag:`Value`,tds:`All TDS`,warranty:`6 months`,description:`High-capacity pre-filter for dusty and borewell areas.`,features:[`Sediment filtration 5 micron`,`Longer filter life`,`Easy wall mount`,`Washable housing`],recommendation:`Essential for homes with sandy water.`},{id:`a1-servicecare-annual`,name:`A1 ServiceCare Annual`,category:`Services`,imageUrl:`/ServiceCare%20Annual.png`,price:2499,rating:4.9,tag:`Recommended`,tds:`All TDS`,warranty:`Plan`,description:`Quarterly checkups and priority support for a full year.`,features:[`4 scheduled services`,`Priority support`,`Filter health check`,`Emergency call coverage`],recommendation:`Best value for ongoing purifier health.`},{id:`a1-commercial-ro-50`,name:`A1 Commercial RO 50L`,category:`Commercial`,imageUrl:`/A1%20Commercial%20RO%2050L.png`,price:64e3,rating:4.7,tag:`Pro`,tds:`Up to 3000 ppm`,warranty:`2 years`,description:`High output system designed for cafes and offices.`,features:[`50 L/hr output`,`Stainless steel frame`,`Auto flush system`,`Low maintenance cost`],recommendation:`Designed for 30+ people usage.`},{id:`a1-uv-compact`,name:`A1 UV Compact`,category:`Purifiers`,imageUrl:`/UV%20Compact.png`,price:9499,rating:4.4,tag:`Budget`,tds:`Up to 800 ppm`,warranty:`1 year`,description:`UV + UF system for low TDS municipal water.`,features:[`UV + UF purification`,`8L storage`,`Low power`,`Slim body`],recommendation:`Perfect for city water supply.`},{id:`a1-smart-dispenser`,name:`A1 Smart Water Dispenser`,category:`Accessories`,imageUrl:`/Smart%20Water%20Dispenser.png`,price:5499,rating:4.6,tag:`Trending`,tds:`All TDS`,warranty:`1 year`,description:`Hot + ambient dispensing with child-safe design.`,features:[`Two temperature modes`,`Child lock`,`Stainless steel tank`,`Energy efficient`],recommendation:`Pairs well with RO systems.`}],fx=[`All`,`Purifiers`,`Filters`,`Services`,`Commercial`,`Accessories`];function px(){let[e,t]=(0,_.useState)(dx),[n,r]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{let e=ag(Km(ox,`products`),e=>{let n=e.docs.map(e=>({id:e.id,...e.data()}));t(n.length?n:dx),r(!1)},()=>{t(dx),r(!1)});return()=>e()},[]),{items:e,loading:n}}var mx=(0,_.createContext)(null),hx=()=>{try{let e=localStorage.getItem(`a1-cart`);return e?JSON.parse(e):[]}catch{return[]}},gx=e=>{try{localStorage.setItem(`a1-cart`,JSON.stringify(e))}catch{}};function _x({children:e}){let{user:t}=ux(),{items:n}=px(),[r,i]=(0,_.useState)(hx),[a,o]=(0,_.useState)(!0);(0,_.useEffect)(()=>{if(!t){i(hx()),o(!1);return}let e=hx();if(e.length>0){let n=dg(ox);e.forEach(e=>{let r=qm(ox,`users`,t.uid,`cart`,e.id);n.set(r,{qty:e.qty},{merge:!0})}),n.commit().then(()=>{localStorage.removeItem(`a1-cart`)})}let n=ag(Km(ox,`users`,t.uid,`cart`),e=>{i(e.docs.map(e=>({id:e.id,qty:e.data().qty||1}))),o(!1)});return()=>n()},[t]);let s=async(e,n=1)=>{if(t){let i=qm(ox,`users`,t.uid,`cart`,e),a=r.find(t=>t.id===e);return tg(i,{qty:a?a.qty+n:n},{merge:!0})}i(t=>{let r=t.find(t=>t.id===e)?t.map(t=>t.id===e?{...t,qty:t.qty+n}:t):[...t,{id:e,qty:n}];return gx(r),r})},c=(e,n)=>{if(t){let r=qm(ox,`users`,t.uid,`cart`,e);return n<=0?rg(r):ng(r,{qty:n})}i(t=>{let r=t.map(t=>t.id===e?{...t,qty:n}:t).filter(e=>e.qty>0);return gx(r),r})},l=e=>{if(t)return rg(qm(ox,`users`,t.uid,`cart`,e));i(t=>{let n=t.filter(t=>t.id!==e);return gx(n),n})},u=()=>{if(t){r.forEach(e=>{rg(qm(ox,`users`,t.uid,`cart`,e.id))});return}i([]),gx([])},d=(0,_.useMemo)(()=>!n||n.length===0?[]:r.map(e=>{let t=n.find(t=>t.id===e.id);return t?{...t,qty:e.qty}:null}).filter(Boolean),[r,n]),f={items:d,addItem:s,updateItem:c,removeItem:l,clearCart:u,subtotal:d.reduce((e,t)=>e+(t.price||0)*t.qty,0),loading:a,count:d.reduce((e,t)=>e+t.qty,0)};return(0,$.jsx)(mx.Provider,{value:f,children:e})}function vx(){let e=(0,_.useContext)(mx);if(!e)throw Error(`useCart must be used within CartProvider`);return e}var yx=`/assets/image-3-JFEWVM.png`;const bx={name:`A1 Water Tech`,phonePrimary:`+91 8778308119`,phoneSecondary:`+91 8778308119`,emailPrimary:`thinakarans12345@gmail.com`,emailSecondary:`thinakarans12345@gmail.com`,locality:`Gobichettipalayam, Tamil Nadu`,addressLine1:`G.K.M Gowtham Complex, Opp. HP Bunk`,addressLine2:`Sathy-Athani Main Road, Kalipatti`,addressLine3:`Gobichettipalayam - 638505`,gstin:`33CWHPH8901N1Z6`};function xx(){let{items:e}=vx(),{user:t}=ux(),n=lt(),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(``),s=(0,_.useMemo)(()=>e.reduce((e,t)=>e+t.qty,0),[e]),c=e=>{e.preventDefault(),a.trim()&&n(`/shop?q=${encodeURIComponent(a)}`)},l=[{name:`Home`,path:`/`},{name:`Shop All`,path:`/shop`},{name:`Purifiers`,path:`/shop?category=Purifiers`},{name:`Filters & Spares`,path:`/shop?category=Filters`},{name:`Commercial`,path:`/shop?category=Commercial`}];return(0,$.jsxs)(`header`,{className:`sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-100 font-sans`,children:[(0,$.jsx)(`div`,{className:`bg-slate-900 text-white text-[11px] py-1.5 px-4 hidden md:block`,children:(0,$.jsxs)(`div`,{className:`container mx-auto flex justify-between items-center max-w-7xl`,children:[(0,$.jsxs)(`div`,{className:`flex gap-4`,children:[(0,$.jsxs)(`span`,{className:`flex items-center gap-1 opacity-90 hover:opacity-100 transition`,children:[(0,$.jsx)(Cr,{className:`w-3 h-3`}),` `,bx.phonePrimary]}),(0,$.jsxs)(`span`,{className:`flex items-center gap-1 opacity-90 hover:opacity-100 transition`,children:[(0,$.jsx)(gr,{className:`w-3 h-3`}),` `,bx.locality]})]}),(0,$.jsxs)(`div`,{className:`flex gap-4`,children:[(0,$.jsx)(D,{to:`/track`,className:`hover:text-indigo-200 transition`,children:`Track Order`}),(0,$.jsx)(D,{to:`/orders`,className:`hover:text-indigo-200 transition`,children:`My Orders`}),(0,$.jsx)(D,{to:t?`/profile`:`/login`,className:`hover:text-indigo-200 transition`,children:`My Account`})]})]})}),(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-3 md:py-4 max-w-7xl`,children:[(0,$.jsxs)(`div`,{className:`flex items-center justify-between gap-4 md:gap-8`,children:[(0,$.jsxs)(D,{to:`/`,className:`flex items-center gap-2 flex-shrink-0 group`,children:[(0,$.jsx)(`img`,{src:yx,alt:`A1 Water Tech`,className:`w-8 h-8 md:w-10 md:h-10 rounded-full object-cover border border-slate-200 group-hover:scale-105 transition-transform`}),(0,$.jsxs)(`div`,{className:`flex flex-col`,children:[(0,$.jsx)(`span`,{className:`text-xl md:text-2xl font-bold text-indigo-950 tracking-tight leading-none`,children:`A1 Water Tech`}),(0,$.jsx)(`span`,{className:`text-[10px] md:text-xs text-slate-500 font-medium tracking-wide`,children:`Pure Water, Smart Service`})]})]}),(0,$.jsx)(`div`,{className:`hidden md:flex flex-1 max-w-2xl px-4`,children:(0,$.jsxs)(`form`,{onSubmit:c,className:`relative w-full group`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:`Search for purifiers, filters, or services...`,className:`w-full bg-slate-50 border border-slate-200 rounded-full py-2.5 pl-5 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all placeholder:text-slate-400 text-slate-700`,value:a,onChange:e=>o(e.target.value)}),(0,$.jsx)(`button`,{type:`submit`,className:`absolute right-1.5 top-1.5 p-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full transition-colors cursor-pointer`,children:(0,$.jsx)(Er,{className:`w-4 h-4`})})]})}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 md:gap-6`,children:[(0,$.jsxs)(D,{to:`/bookings`,className:`hidden lg:flex flex-col items-end group`,children:[(0,$.jsx)(`span`,{className:`text-[10px] font-semibold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-full mb-0.5`,children:`Free Test`}),(0,$.jsxs)(`span`,{className:`text-sm font-medium text-slate-700 group-hover:text-indigo-600 transition-colors flex items-center gap-1`,children:[`Book Service `,(0,$.jsx)(tr,{className:`w-3.5 h-3.5`})]})]}),(0,$.jsxs)(D,{to:t?`/profile`:`/login`,className:`hidden md:flex items-center gap-2 group text-slate-700 hover:text-indigo-600 transition-colors`,children:[(0,$.jsx)(`div`,{className:`p-2 bg-slate-50 rounded-full group-hover:bg-indigo-50 transition-colors`,children:(0,$.jsx)(zr,{className:`w-5 h-5`})}),(0,$.jsxs)(`div`,{className:`flex flex-col leading-none`,children:[(0,$.jsxs)(`span`,{className:`text-[10px] text-slate-500`,children:[`Hello, `,t?t.displayName||`User`:`Sign In`]}),(0,$.jsx)(`span`,{className:`text-sm font-semibold`,children:`Account`})]})]}),(0,$.jsxs)(D,{to:`/cart`,className:`relative p-2 text-slate-700 hover:text-indigo-600 transition-colors group`,children:[(0,$.jsx)(`div`,{className:`p-2 bg-slate-50 rounded-full group-hover:bg-indigo-50 transition-colors`,children:(0,$.jsx)(jr,{className:`w-5 h-5`})}),s>0&&(0,$.jsx)(`span`,{className:`absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-white shadow-sm`,children:s})]}),(0,$.jsx)(`button`,{className:`md:hidden p-2 text-slate-700`,onClick:()=>i(!r),children:r?(0,$.jsx)(Br,{className:`w-6 h-6`}):(0,$.jsx)(_r,{className:`w-6 h-6`})})]})]}),(0,$.jsx)(`div`,{className:`mt-3 md:hidden`,children:(0,$.jsxs)(`form`,{onSubmit:c,className:`relative w-full`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:`Search products...`,className:`w-full bg-slate-50 border border-slate-200 rounded-lg py-2.5 pl-4 pr-10 text-sm focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500`,value:a,onChange:e=>o(e.target.value)}),(0,$.jsx)(`button`,{type:`submit`,className:`absolute right-3 top-2.5 text-slate-400`,children:(0,$.jsx)(Er,{className:`w-4 h-4`})})]})})]}),(0,$.jsx)(`div`,{className:`hidden md:block border-t border-slate-100 bg-white`,children:(0,$.jsx)(`div`,{className:`container mx-auto px-4 max-w-7xl`,children:(0,$.jsxs)(`nav`,{className:`flex items-center gap-8 overflow-x-auto no-scrollbar`,children:[l.map(e=>(0,$.jsx)(kn,{to:e.path,className:({isActive:e})=>`text-sm font-medium py-3 border-b-2 transition-colors whitespace-nowrap ${e?`border-indigo-600 text-indigo-600`:`border-transparent text-slate-600 hover:text-indigo-600 hover:border-indigo-100`}`,children:e.name},e.path)),(0,$.jsx)(`div`,{className:`flex-1`}),(0,$.jsxs)(D,{to:`/bookings`,className:`text-sm font-medium text-slate-500 hover:text-indigo-600 py-3 transition-colors flex items-center gap-1`,children:[(0,$.jsx)(tr,{className:`w-4 h-4`}),` Service Request`]}),(0,$.jsxs)(D,{to:`/track`,className:`text-sm font-medium text-slate-500 hover:text-indigo-600 py-3 transition-colors flex items-center gap-1`,children:[(0,$.jsx)(Lr,{className:`w-4 h-4`}),` Track Order`]}),(0,$.jsx)(D,{to:`/orders`,className:`text-sm font-medium text-slate-500 hover:text-indigo-600 py-3 transition-colors`,children:`My Orders`})]})})}),r&&(0,$.jsx)(`div`,{className:`md:hidden border-t border-slate-100 bg-white absolute w-full shadow-lg h-[calc(100vh-80px)] overflow-y-auto z-40`,children:(0,$.jsxs)(`div`,{className:`p-4 flex flex-col gap-2`,children:[l.map(e=>(0,$.jsx)(kn,{to:e.path,onClick:()=>i(!1),className:({isActive:e})=>`flex items-center justify-between p-3 rounded-lg text-sm font-medium transition-colors ${e?`bg-indigo-50 text-indigo-700`:`text-slate-700 hover:bg-slate-50`}`,children:e.name},e.path)),(0,$.jsxs)(`div`,{className:`border-t border-slate-100 my-2 pt-2 flex flex-col gap-1`,children:[(0,$.jsxs)(D,{to:`/profile`,onClick:()=>i(!1),className:`flex items-center gap-3 p-3 text-slate-700 hover:bg-slate-50 rounded-lg`,children:[(0,$.jsx)(zr,{className:`w-5 h-5 text-slate-400`}),(0,$.jsx)(`span`,{className:`text-sm font-medium`,children:`My Account`})]}),(0,$.jsxs)(D,{to:`/orders`,onClick:()=>i(!1),className:`flex items-center gap-3 p-3 text-slate-700 hover:bg-slate-50 rounded-lg`,children:[(0,$.jsx)(Lr,{className:`w-5 h-5 text-slate-400`}),(0,$.jsx)(`span`,{className:`text-sm font-medium`,children:`My Orders`})]}),(0,$.jsxs)(D,{to:`/bookings`,onClick:()=>i(!1),className:`flex items-center gap-3 p-3 text-slate-700 hover:bg-slate-50 rounded-lg`,children:[(0,$.jsx)(tr,{className:`w-5 h-5 text-slate-400`}),(0,$.jsx)(`span`,{className:`text-sm font-medium`,children:`Book Service`})]})]}),!t&&(0,$.jsxs)(`div`,{className:`mt-4 p-4 bg-slate-50 rounded-xl text-center`,children:[(0,$.jsx)(`p`,{className:`text-sm text-slate-600 mb-3`,children:`Sign in for exclusive offers & history`}),(0,$.jsx)(D,{to:`/login`,onClick:()=>i(!1),className:`block w-full py-2.5 bg-indigo-600 text-white rounded-full text-sm font-semibold shadow-sm shadow-indigo-200`,children:`Login / Sign Up`})]})]})})]})}function Sx(){return(0,$.jsx)(`footer`,{className:`bg-slate-950 text-slate-300 pt-16 pb-8 font-sans`,children:(0,$.jsxs)(`div`,{className:`container mx-auto px-4 max-w-7xl`,children:[(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12`,children:[(0,$.jsxs)(`div`,{className:`space-y-4`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold text-white tracking-tight`,children:bx.name}),(0,$.jsx)(`p`,{className:`text-sm leading-relaxed text-slate-400`,children:`Tamil Nadu's trusted partner for pure water solutions. We combine advanced purification technology with responsive local service.`}),(0,$.jsxs)(`div`,{className:`flex gap-4 pt-2`,children:[(0,$.jsx)(`a`,{href:`#`,className:`hover:text-white transition-colors`,children:(0,$.jsx)(sr,{className:`w-5 h-5`})}),(0,$.jsx)(`a`,{href:`#`,className:`hover:text-white transition-colors`,children:(0,$.jsx)(dr,{className:`w-5 h-5`})}),(0,$.jsx)(`a`,{href:`#`,className:`hover:text-white transition-colors`,children:(0,$.jsx)(Rr,{className:`w-5 h-5`})})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`text-white font-semibold mb-4`,children:`Shop`}),(0,$.jsxs)(`ul`,{className:`space-y-2 text-sm`,children:[(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/shop?category=Purifiers`,className:`hover:text-white transition-colors`,children:`Water Purifiers`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/shop?category=Filters`,className:`hover:text-white transition-colors`,children:`Filters & Spares`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/shop?category=Commercial`,className:`hover:text-white transition-colors`,children:`Commercial RO`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/shop?category=Services`,className:`hover:text-white transition-colors`,children:`Service Plans`})})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`text-white font-semibold mb-4`,children:`Support`}),(0,$.jsxs)(`ul`,{className:`space-y-2 text-sm`,children:[(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/track`,className:`hover:text-white transition-colors`,children:`Track Your Order`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/orders`,className:`hover:text-white transition-colors`,children:`My Orders`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/bookings`,className:`hover:text-white transition-colors`,children:`Book a Service`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/profile`,className:`hover:text-white transition-colors`,children:`My Account`})}),(0,$.jsx)(`li`,{children:(0,$.jsx)(D,{to:`/faq`,className:`hover:text-white transition-colors`,children:`FAQs`})})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`text-white font-semibold mb-4`,children:`Contact Us`}),(0,$.jsxs)(`ul`,{className:`space-y-3 text-sm`,children:[(0,$.jsxs)(`li`,{className:`flex items-start gap-3`,children:[(0,$.jsx)(gr,{className:`w-4 h-4 mt-0.5 text-slate-500`}),(0,$.jsxs)(`span`,{children:[bx.addressLine1,(0,$.jsx)(`br`,{}),bx.addressLine2,(0,$.jsx)(`br`,{}),bx.addressLine3]})]}),(0,$.jsxs)(`li`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(Cr,{className:`w-4 h-4 text-slate-500`}),(0,$.jsx)(`span`,{children:bx.phonePrimary})]}),(0,$.jsxs)(`li`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(hr,{className:`w-4 h-4 text-slate-500`}),(0,$.jsx)(`span`,{children:bx.emailPrimary})]}),(0,$.jsxs)(`li`,{className:`text-slate-400`,children:[`GSTIN: `,bx.gstin]}),(0,$.jsxs)(`li`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(ar,{className:`w-4 h-4 text-slate-500`}),(0,$.jsx)(`span`,{children:`Mon - Sat: 9:00 AM - 8:00 PM`})]})]})]})]}),(0,$.jsxs)(`div`,{className:`border-t border-slate-900 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-500`,children:[(0,$.jsxs)(`p`,{children:[` `,new Date().getFullYear(),` `,bx.name,`. All rights reserved.`]}),(0,$.jsxs)(`div`,{className:`flex gap-6`,children:[(0,$.jsx)(D,{to:`/terms`,className:`hover:text-white transition-colors`,children:`Terms of Service`}),(0,$.jsx)(D,{to:`/privacy`,className:`hover:text-white transition-colors`,children:`Privacy Policy`})]})]})]})})}var Cx=(0,_.createContext)(null);function wx({children:e}){let[t,n]=(0,_.useState)([]),r=(e,t=`success`)=>{let r=Date.now().toString();n(n=>[...n,{id:r,message:e,type:t}]),setTimeout(()=>{i(r)},4e3)},i=e=>{n(t=>t.filter(t=>t.id!==e))},a=(0,_.useMemo)(()=>({showToast:r,removeToast:i,toasts:t}),[t]);return(0,$.jsx)(Cx.Provider,{value:a,children:e})}function Tx(){let e=(0,_.useContext)(Cx);if(!e)throw Error(`useToast must be used within ToastProvider`);return e}function Ex(){let{toasts:e,removeToast:t}=Tx();return(0,$.jsx)(`div`,{className:`fixed bottom-4 right-4 z-50 flex flex-col gap-3 font-sans max-w-sm w-full pointer-events-none`,children:e.map(e=>(0,$.jsxs)(`div`,{className:`pointer-events-auto flex items-start gap-3 p-4 rounded-xl shadow-lg border animate-accordion-up transition-all transform ${e.type===`error`?`bg-red-50 text-red-800 border-red-100`:`bg-slate-900 text-white border-slate-700`}`,children:[(0,$.jsx)(`div`,{className:`flex-shrink-0 mt-0.5`,children:e.type===`error`?(0,$.jsx)(br,{className:`w-5 h-5`}):(0,$.jsx)(ir,{className:`w-5 h-5 text-green-400`})}),(0,$.jsx)(`div`,{className:`flex-1 text-sm font-medium leading-relaxed`,children:e.message}),(0,$.jsx)(`button`,{onClick:()=>t(e.id),className:`opacity-60 hover:opacity-100 transition-opacity`,children:(0,$.jsx)(Br,{className:`w-4 h-4`})})]},e.id))})}var Dx=new Intl.NumberFormat(`en-IN`);const Ox=e=>`Rs ${Dx.format(e)}`,kx=()=>`A1-${Date.now().toString().slice(-6)}-${Math.floor(Math.random()*900+100)}`;function Ax({product:e}){let{addItem:t}=vx(),{showToast:n}=Tx(),[r,i]=(0,_.useState)(!1);return(0,$.jsxs)(`div`,{className:`group bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:border-slate-200 transition-all duration-300 flex flex-col h-full overflow-hidden`,children:[(0,$.jsxs)(`div`,{className:`relative aspect-[4/3] overflow-hidden bg-slate-50`,children:[(0,$.jsx)(D,{to:`/shop/${e.id}`,className:`block h-full w-full`,children:(0,$.jsx)(`img`,{src:e.imageUrl||`/sample-product.jpg`,alt:e.name,onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=`/sample-product.jpg`},className:`h-full w-full object-cover transition-transform duration-700 group-hover:scale-110`})}),e.tag&&(0,$.jsx)(`span`,{className:`absolute top-3 left-3 bg-indigo-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded-full tracking-wide shadow-md`,children:e.tag})]}),(0,$.jsxs)(`div`,{className:`p-5 flex flex-col flex-1`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start gap-2 mb-2`,children:[(0,$.jsx)(D,{to:`/shop/${e.id}`,className:`block`,children:(0,$.jsx)(`h3`,{className:`font-bold text-slate-900 leading-snug group-hover:text-indigo-600 transition-colors line-clamp-2`,children:e.name})}),(0,$.jsxs)(`div`,{className:`flex items-center gap-1 bg-amber-50 px-1.5 py-0.5 rounded text-amber-700 flex-shrink-0`,children:[(0,$.jsx)(`span`,{className:`text-xs font-bold`,children:e.rating}),(0,$.jsx)(Pr,{className:`w-3 h-3 fill-amber-500 text-amber-500`})]})]}),(0,$.jsx)(`p`,{className:`text-xs text-slate-500 mb-4 line-clamp-2`,children:e.description}),(0,$.jsxs)(`div`,{className:`mt-auto flex items-end justify-between gap-3`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`span`,{className:`text-xs text-slate-400 font-medium`,children:`Price`}),(0,$.jsx)(`p`,{className:`text-lg font-bold text-slate-900`,children:Ox(e.price)})]}),(0,$.jsx)(`button`,{onClick:()=>{i(!0),t(e.id),n(`${e.name} added to cart`),setTimeout(()=>i(!1),800)},disabled:r,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all ${r?`bg-green-100 text-green-700 cursor-default`:`bg-slate-900 text-white hover:bg-indigo-600 shadow-md hover:shadow-indigo-200 active:scale-95`}`,children:r?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(nr,{className:`w-4 h-4`}),` Added`]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(jr,{className:`w-4 h-4`}),` Add`]})})]})]})]})}var jx=[{id:`install-standard`,name:`Standard Installation`,imageUrl:`/Services.png`,price:499,duration:`Within 24 hours`,description:`Certified installation with pipe fitting and water test.`},{id:`service-annual`,name:`ServiceCare Annual`,imageUrl:`/ServiceCare%20Annual.png`,price:2499,duration:`12 months`,description:`Quarterly visits, filter checks, and priority support.`},{id:`service-premium`,name:`ServiceCare Premium`,imageUrl:`/Services.png`,price:3999,duration:`12 months`,description:`Includes spare filters and emergency callouts.`},{id:`service-emergency-visit`,name:`Emergency Visit`,imageUrl:`/Services.png`,price:899,duration:`Same day`,description:`Fast technician dispatch for urgent purifier breakdowns.`}],Mx=[{q:`Do you offer free water testing?`,a:`Yes. We provide a free in-home TDS and hardness test in select areas.`},{q:`How quickly can you install a purifier?`,a:`Most installations are scheduled within 24 hours after order confirmation.`},{q:`Is GST included in the listed price?`,a:`Yes. All listed prices include GST. The invoice will show the breakup.`},{q:`What payment methods are supported?`,a:`UPI, card, netbanking, and EMI options on select products.`}];function Nx(){let[e,t]=(0,_.useState)(jx),[n,r]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{let e=ag(Km(ox,`services`),e=>{let n=e.docs.map(e=>({id:e.id,...e.data()}));t(n.length?n:jx),r(!1)},()=>{t(jx),r(!1)});return()=>e()},[]),{items:e,loading:n}}var Px=[{targetCategory:`Purifiers`,recommendCategory:`Services`,reason:`Protect your new purifier with an annual maintenance plan.`},{targetCategory:`Filters`,recommendCategory:`Services`,reason:`Need help installing? Book a certified technician for professional setup.`},{targetCategory:`Commercial`,recommendCategory:`Services`,reason:`Keep your business running with priority office support.`}];function Fx(){let{items:e}=px(),{items:t}=vx();return(0,_.useMemo)(()=>{if(!e.length)return{title:``,reason:``,items:[]};let n=new Set(t.map(e=>e.category)),r=null;for(let e of Px)if(n.has(e.targetCategory)){r=e;break}if(!r){if(t.length===0)return{title:`Best Sellers for Your Home`,reason:`Top-rated purifiers designed for Tamil Nadu's water conditions.`,items:e.filter(e=>e.category===`Purifiers`).slice(0,3)};r={targetCategory:`Items`,recommendCategory:`Filters`,reason:`Stock up on essential replacement filters to ensure purity.`}}let i=e.filter(e=>e.category===r.recommendCategory).filter(e=>!t.some(t=>t.id===e.id)).slice(0,3);return i.length===0?{title:`Essential Accessories`,reason:`Complete your setup with these trending additions.`,items:e.filter(e=>e.category===`Accessories`).slice(0,3)}:{title:t.length>0?`Recommended for your ${r.targetCategory}`:`Picks for You`,reason:r.reason,items:i}},[e,t])}var Ix=e=>{if(!e)return 0;if(typeof e?.toMillis==`function`)return e.toMillis();if(typeof e?.toDate==`function`)return e.toDate().getTime();let t=new Date(e).getTime();return Number.isFinite(t)?t:0};function Lx(){let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{let e=ag(Km(ox,`announcements`),e=>{let n=e.docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.isActive===!0);n.sort((e,t)=>e.isPinned===t.isPinned?Ix(t.createdAt)-Ix(e.createdAt):e.isPinned?-1:1),t(n),r(!1)},()=>{t([]),r(!1)});return()=>e()},[]),{items:e,loading:n}}var Rx=[{icon:kr,title:`Genuine Parts`,desc:`100% authentic filters & spares.`},{icon:ar,title:`24h Installation`,desc:`Expert setup within a day.`},{icon:$n,title:`Certified Techs`,desc:`Trained & verified professionals.`},{icon:Cr,title:`Local Support`,desc:`Direct support in Tamil & English.`}],zx={Purifiers:`/Purifiers Explore.png`,Filters:`/Filters.png`,Services:`/Services.png`,Commercial:`/Commercial.png`,Accessories:`/Accessories.png`};function Bx(){Nx();let{title:e,reason:t,items:n}=Fx(),{items:r}=Lx();return(0,$.jsxs)(`div`,{className:`flex flex-col gap-16 pb-20`,children:[r.length>0&&(0,$.jsx)(`section`,{className:`container mx-auto px-4 pt-4 max-w-7xl`,children:(0,$.jsx)(`div`,{className:`space-y-2`,children:r.slice(0,2).map(e=>(0,$.jsxs)(`div`,{className:`rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-amber-900`,children:[(0,$.jsx)(`p`,{className:`font-bold text-sm uppercase tracking-wide`,children:e.title}),(0,$.jsx)(`p`,{className:`text-sm`,children:e.message})]},e.id))})}),(0,$.jsxs)(`section`,{className:`relative overflow-hidden bg-slate-900 py-16 lg:py-24`,children:[(0,$.jsx)(`div`,{className:`absolute inset-0 z-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1548839140-29a749e1cf4d?auto=format&fit=crop&w=1600')] bg-cover bg-center`}),(0,$.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/90 to-transparent z-0`}),(0,$.jsx)(`div`,{className:`container mx-auto px-4 relative z-10 max-w-7xl`,children:(0,$.jsxs)(`div`,{className:`max-w-2xl text-white`,children:[(0,$.jsx)(`span`,{className:`inline-block py-1 px-3 rounded-full bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 text-xs font-bold tracking-wide mb-6 uppercase`,children:`Trusted Since 2012`}),(0,$.jsxs)(`h1`,{className:`text-4xl lg:text-6xl font-extrabold leading-tight mb-6 tracking-tight`,children:[`Pure Water for `,(0,$.jsx)(`span`,{className:`text-indigo-400`,children:`Healthier Living`})]}),(0,$.jsx)(`p`,{className:`text-lg text-slate-300 mb-8 leading-relaxed max-w-xl`,children:`Advanced RO purifiers, genuine filters, and reliable annual maintenance plans designed for Tamil Nadu's water conditions.`}),(0,$.jsxs)(`div`,{className:`flex flex-wrap gap-4`,children:[(0,$.jsxs)(D,{to:`/shop`,className:`bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-xl font-bold transition-all shadow-lg hover:shadow-indigo-500/30 flex items-center gap-2`,children:[`Shop Purifiers `,(0,$.jsx)(Qn,{className:`w-5 h-5`})]}),(0,$.jsx)(D,{to:`/bookings`,className:`bg-white/10 hover:bg-white/20 text-white border border-white/10 px-8 py-4 rounded-xl font-bold transition-all backdrop-blur-sm`,children:`Book Free Water Test`})]})]})})]}),(0,$.jsx)(`section`,{className:`container mx-auto px-4 -mt-24 relative z-20 max-w-7xl`,children:(0,$.jsx)(`div`,{className:`grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8`,children:Rx.map((e,t)=>(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl shadow-xl shadow-slate-200/50 border border-slate-100 flex flex-col items-center text-center hover:-translate-y-1 transition-transform`,children:[(0,$.jsx)(`div`,{className:`w-12 h-12 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 mb-4`,children:(0,$.jsx)(e.icon,{className:`w-6 h-6`})}),(0,$.jsx)(`h3`,{className:`font-bold text-slate-900 mb-1`,children:e.title}),(0,$.jsx)(`p`,{className:`text-sm text-slate-500`,children:e.desc})]},t))})}),(0,$.jsxs)(`section`,{className:`container mx-auto px-4 max-w-7xl`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-end mb-8`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`span`,{className:`text-indigo-600 font-bold uppercase tracking-wider text-sm`,children:`Our Range`}),(0,$.jsx)(`h2`,{className:`text-3xl font-bold text-slate-900 mt-1`,children:`Shop by Category`})]}),(0,$.jsxs)(D,{to:`/shop`,className:`text-indigo-600 font-semibold hover:text-indigo-700 hidden md:flex items-center gap-1`,children:[`View All `,(0,$.jsx)(Qn,{className:`w-4 h-4`})]})]}),(0,$.jsx)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-4`,children:fx.slice(1).map(e=>(0,$.jsxs)(D,{to:`/shop?category=${e}`,className:`group relative overflow-hidden rounded-2xl bg-slate-100 aspect-[4/3]`,children:[(0,$.jsx)(`div`,{className:`absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-110`,style:{backgroundImage:`url("${zx[e]||`/sample-product.jpg`}")`}}),(0,$.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-slate-900/80 to-transparent flex items-end p-6`,children:(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{className:`text-white font-bold text-lg group-hover:translate-x-2 transition-transform duration-300`,children:e}),(0,$.jsx)(`p`,{className:`text-slate-300 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0`,children:`Explore Collection`})]})})]},e))})]}),n&&(0,$.jsx)(`section`,{className:`bg-gradient-to-b from-indigo-50 to-white py-16`,children:(0,$.jsxs)(`div`,{className:`container mx-auto px-4 max-w-7xl`,children:[(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-end mb-10 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`span`,{className:`bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide mb-3 inline-block`,children:`picked for you`}),(0,$.jsx)(`h2`,{className:`text-3xl font-bold text-slate-900 mb-2`,children:e}),(0,$.jsx)(`p`,{className:`text-slate-600 max-w-xl`,children:t})]}),(0,$.jsx)(D,{to:`/shop`,className:`text-indigo-600 font-bold hover:underline`,children:`See All`})]}),(0,$.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-6`,children:n.map(e=>(0,$.jsx)(Ax,{product:e},e.id))})]})}),(0,$.jsxs)(`section`,{className:`container mx-auto px-4 max-w-7xl`,children:[(0,$.jsx)(`div`,{className:`flex justify-between items-center mb-8`,children:(0,$.jsx)(`h2`,{className:`text-3xl font-bold text-slate-900`,children:`Best Sellers`})}),(0,$.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8`,children:dx.slice(0,3).map(e=>(0,$.jsx)(Ax,{product:e},e.id))})]}),(0,$.jsx)(`section`,{className:`container mx-auto px-4 max-w-7xl`,children:(0,$.jsxs)(`div`,{className:`bg-slate-900 rounded-3xl p-8 md:p-12 text-white relative overflow-hidden`,children:[(0,$.jsx)(`div`,{className:`absolute top-0 right-0 w-1/2 h-full bg-indigo-600/20 skew-x-12 transform origin-top-right scale-150`}),(0,$.jsxs)(`div`,{className:`relative z-10 grid md:grid-cols-2 gap-8 items-center`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h2`,{className:`text-3xl font-bold mb-4`,children:`Worry-free Annual Maintenance`}),(0,$.jsx)(`p`,{className:`text-slate-300 mb-8 text-lg`,children:`Get year-round protection with quarterly service visits, free filter replacements, and priority emergency support.`}),(0,$.jsx)(D,{to:`/bookings`,className:`inline-flex bg-white text-slate-900 hover:bg-slate-100 px-6 py-3 rounded-lg font-bold transition-colors`,children:`View Service Plans`})]}),(0,$.jsxs)(`div`,{className:`bg-white/5 p-6 rounded-2xl border border-white/10 backdrop-blur-sm`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-center mb-6 border-b border-white/10 pb-4`,children:[(0,$.jsx)(`span`,{className:`font-bold`,children:`What's Included`}),(0,$.jsx)(`span`,{className:`bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded`,children:`Annual Plan`})]}),(0,$.jsxs)(`ul`,{className:`space-y-3`,children:[(0,$.jsxs)(`li`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(`div`,{className:`bg-green-500 rounded-full p-0.5`,children:(0,$.jsx)(Qn,{className:`w-3 h-3 text-white`})}),(0,$.jsx)(`span`,{className:`text-slate-200`,children:`4 Scheduled Visits`})]}),(0,$.jsxs)(`li`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(`div`,{className:`bg-green-500 rounded-full p-0.5`,children:(0,$.jsx)(Qn,{className:`w-3 h-3 text-white`})}),(0,$.jsx)(`span`,{className:`text-slate-200`,children:`Genuine Filter Replacements`})]}),(0,$.jsxs)(`li`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(`div`,{className:`bg-green-500 rounded-full p-0.5`,children:(0,$.jsx)(Qn,{className:`w-3 h-3 text-white`})}),(0,$.jsx)(`span`,{className:`text-slate-200`,children:`Unlimited Breakdown Calls`})]})]})]})]})]})})]})}var Vx=[{label:`All`,value:`all`},{label:`Below 5,000`,value:`0-5000`},{label:`5,000 - 15,000`,value:`5000-15000`},{label:`15,000 - 30,000`,value:`15000-30000`},{label:`Above 30,000`,value:`30000-999999`}];function Hx(){let[e]=In(),[t,n]=(0,_.useState)(``),[r,i]=(0,_.useState)(`All`),[a,o]=(0,_.useState)(`all`),[s,c]=(0,_.useState)(`0`),{items:l,loading:u}=px(),[d,f]=(0,_.useState)(!1);(0,_.useEffect)(()=>{let t=e.get(`category`),r=e.get(`q`);t&&fx.includes(t)?i(t):t||i(`All`),n(r||``)},[e]);let p=(0,_.useMemo)(()=>{let[e,n]=a===`all`?[0,2**53-1]:a.split(`-`);return l.filter(i=>{let a=i.name.toLowerCase().includes(t.trim().toLowerCase()),o=r===`All`||i.category===r,c=i.price>=Number(e)&&i.price<=Number(n),l=i.rating>=Number(s);return a&&o&&c&&l})},[t,r,a,s,l]);return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-12 max-w-7xl`,children:[(0,$.jsxs)(`div`,{className:`mb-8 md:mb-12`,children:[(0,$.jsx)(`h1`,{className:`text-3xl md:text-4xl font-bold text-slate-900 mb-2`,children:`Shop All Products`}),(0,$.jsx)(`p`,{className:`text-slate-500 max-w-2xl`,children:`Browse our complete range of certified water purifiers, replacement filters, and service plans.`})]}),(0,$.jsxs)(`div`,{className:`flex flex-col lg:flex-row gap-8`,children:[(0,$.jsxs)(`button`,{className:`lg:hidden flex items-center gap-2 w-full bg-white p-3 rounded-lg border border-slate-200 shadow-sm font-semibold text-slate-700`,onClick:()=>f(!d),children:[(0,$.jsx)(Mr,{className:`w-5 h-5`}),d?`Hide Filters`:`Show Filters`]}),(0,$.jsxs)(`aside`,{className:`lg:w-64 flex-shrink-0 space-y-8 ${d?`block`:`hidden lg:block`}`,children:[(0,$.jsxs)(`div`,{className:`space-y-3`,children:[(0,$.jsx)(`label`,{className:`text-sm font-bold text-slate-900 uppercase tracking-wide`,children:`Search`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`input`,{value:t,onChange:e=>n(e.target.value),placeholder:`Model or keyword`,className:`w-full bg-white border border-slate-200 rounded-lg py-2.5 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent`}),(0,$.jsx)(Er,{className:`w-4 h-4 text-slate-400 absolute left-3 top-3`})]})]}),(0,$.jsxs)(`div`,{className:`space-y-3`,children:[(0,$.jsx)(`label`,{className:`text-sm font-bold text-slate-900 uppercase tracking-wide`,children:`Category`}),(0,$.jsx)(`div`,{className:`space-y-2`,children:fx.map(e=>(0,$.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer group`,children:[(0,$.jsx)(`input`,{type:`radio`,name:`category`,checked:r===e,onChange:()=>i(e),className:`w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-slate-300`}),(0,$.jsx)(`span`,{className:`text-sm group-hover:text-indigo-600 transition-colors ${r===e?`font-semibold text-indigo-700`:`text-slate-600`}`,children:e})]},e))})]}),(0,$.jsxs)(`div`,{className:`space-y-3`,children:[(0,$.jsx)(`label`,{className:`text-sm font-bold text-slate-900 uppercase tracking-wide`,children:`Price Range`}),(0,$.jsx)(`div`,{className:`space-y-2`,children:Vx.map(e=>(0,$.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer group`,children:[(0,$.jsx)(`input`,{type:`radio`,name:`price`,checked:a===e.value,onChange:()=>o(e.value),className:`w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-slate-300`}),(0,$.jsx)(`span`,{className:`text-sm group-hover:text-indigo-600 transition-colors ${a===e.value?`font-semibold text-indigo-700`:`text-slate-600`}`,children:e.label})]},e.value))})]}),(0,$.jsxs)(`div`,{className:`space-y-3`,children:[(0,$.jsx)(`label`,{className:`text-sm font-bold text-slate-900 uppercase tracking-wide`,children:`Min Rating`}),(0,$.jsxs)(`select`,{value:s,onChange:e=>c(e.target.value),className:`w-full bg-white border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-indigo-500 cursor-pointer`,children:[(0,$.jsx)(`option`,{value:`0`,children:`Any Rating`}),(0,$.jsx)(`option`,{value:`4.5`,children:`4.5+ Stars`}),(0,$.jsx)(`option`,{value:`4.8`,children:`4.8+ Stars`})]})]})]}),(0,$.jsx)(`div`,{className:`flex-1`,children:u?(0,$.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse`,children:[1,2,3,4,5,6].map(e=>(0,$.jsx)(`div`,{className:`aspect-[3/4] bg-slate-200 rounded-2xl`},e))}):p.length===0?(0,$.jsxs)(`div`,{className:`bg-white rounded-2xl p-12 text-center border border-dashed border-slate-300`,children:[(0,$.jsx)(cr,{className:`w-12 h-12 text-slate-300 mx-auto mb-4`}),(0,$.jsx)(`h3`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`No products found`}),(0,$.jsx)(`p`,{className:`text-slate-500 max-w-xs mx-auto mb-6`,children:`Try adjusting your filters or search query to find what you're looking for.`}),(0,$.jsx)(`button`,{onClick:()=>{n(``),i(`All`),o(`all`)},className:`text-indigo-600 font-semibold hover:underline`,children:`Clear all filters`})]}):(0,$.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6`,children:p.map(e=>(0,$.jsx)(Ax,{product:e},e.id))})})]})]})}function Ux(){let{id:e}=dt(),{addItem:t}=vx(),{showToast:n}=Tx(),{items:r}=px(),i=r.find(t=>t.id===e),[a,o]=(0,_.useState)(!1);return i?(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 max-w-7xl font-sans`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-slate-500 mb-8`,children:[(0,$.jsx)(D,{to:`/shop`,className:`hover:text-indigo-600 transition-colors`,children:`Shop`}),(0,$.jsx)(`span`,{children:`/`}),(0,$.jsx)(`span`,{className:`text-slate-900 font-medium truncate`,children:i.name})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16`,children:[(0,$.jsxs)(`div`,{className:`bg-white rounded-3xl p-8 border border-slate-100 shadow-sm flex items-center justify-center relative overflow-hidden group`,children:[(0,$.jsx)(`div`,{className:`absolute inset-0 bg-slate-50/50 z-0`}),(0,$.jsx)(`img`,{src:i.imageUrl||`/sample-product.jpg`,alt:i.name,onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=`/sample-product.jpg`},className:`w-full max-w-md object-contain relative z-10 transition-transform duration-500 group-hover:scale-105`}),i.tag&&(0,$.jsx)(`span`,{className:`absolute top-6 left-6 z-20 bg-indigo-600 text-white text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-lg shadow-indigo-200`,children:i.tag})]}),(0,$.jsxs)(`div`,{className:`flex flex-col`,children:[(0,$.jsx)(`h1`,{className:`text-3xl lg:text-4xl font-bold text-slate-900 mb-4 leading-tight`,children:i.name}),(0,$.jsxs)(`div`,{className:`flex items-center gap-4 mb-6`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-1 bg-amber-50 text-amber-700 px-2 py-1 rounded-md font-bold text-sm`,children:[(0,$.jsx)(`span`,{children:i.rating}),(0,$.jsx)(Pr,{className:`w-4 h-4 fill-amber-500 text-amber-500`})]}),(0,$.jsx)(`span`,{className:`text-slate-400 text-sm border-l border-slate-200 pl-4`,children:i.category}),(0,$.jsxs)(`span`,{className:`text-green-600 text-sm font-medium flex items-center gap-1 border-l border-slate-200 pl-4`,children:[(0,$.jsx)(nr,{className:`w-4 h-4`}),` In Stock`]})]}),(0,$.jsx)(`div`,{className:`text-4xl font-bold text-slate-900 mb-2`,children:Ox(i.price)}),(0,$.jsx)(`p`,{className:`text-slate-500 text-sm mb-8`,children:`Inclusive of all taxes`}),(0,$.jsx)(`p`,{className:`text-slate-600 leading-relaxed mb-8 text-lg`,children:i.description}),(0,$.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mb-8`,children:i.features.map((e,t)=>(0,$.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,$.jsx)(`div`,{className:`mt-1 w-5 h-5 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 flex-shrink-0`,children:(0,$.jsx)(nr,{className:`w-3 h-3`})}),(0,$.jsx)(`span`,{className:`text-slate-700 font-medium`,children:e})]},t))}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 mb-8 border-t border-b border-slate-100 py-6`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(kr,{className:`w-6 h-6 text-slate-400`}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`text-xs text-slate-500 uppercase font-bold tracking-wide`,children:`Warranty`}),(0,$.jsx)(`p`,{className:`font-semibold text-slate-900`,children:i.warranty})]})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(er,{className:`w-6 h-6 text-slate-400`}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`text-xs text-slate-500 uppercase font-bold tracking-wide`,children:`Suitability`}),(0,$.jsx)(`p`,{className:`font-semibold text-slate-900`,children:i.tds})]})]})]}),(0,$.jsx)(`button`,{onClick:()=>{o(!0),t(i.id),n(`${i.name} added to cart`),setTimeout(()=>o(!1),800)},disabled:a,className:`w-full md:w-auto md:min-w-[200px] py-4 px-8 rounded-xl font-bold text-lg flex items-center justify-center gap-3 transition-all transform active:scale-95 ${a?`bg-green-600 text-white cursor-default shadow-lg shadow-green-200`:`bg-indigo-600 hover:bg-indigo-700 text-white shadow-xl shadow-indigo-200 hover:shadow-indigo-300`}`,children:a?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(nr,{className:`w-6 h-6`}),` Added to Cart`]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(jr,{className:`w-6 h-6`}),` Add to Cart`]})})]})]}),(0,$.jsxs)(`div`,{className:`bg-slate-50 rounded-3xl p-8 lg:p-12`,children:[(0,$.jsx)(`h3`,{className:`text-2xl font-bold text-slate-900 mb-6`,children:`Why choose this product?`}),(0,$.jsx)(`p`,{className:`text-slate-600 max-w-3xl mb-8`,children:i.recommendation}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-8`,children:[(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl shadow-sm`,children:[(0,$.jsx)(Lr,{className:`w-8 h-8 text-indigo-600 mb-4`}),(0,$.jsx)(`h4`,{className:`font-bold text-slate-900 mb-2`,children:`Free Delivery`}),(0,$.jsx)(`p`,{className:`text-sm text-slate-500`,children:`We ship across Tamil Nadu with no extra cost.`})]}),(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl shadow-sm`,children:[(0,$.jsx)(kr,{className:`w-8 h-8 text-indigo-600 mb-4`}),(0,$.jsx)(`h4`,{className:`font-bold text-slate-900 mb-2`,children:`Extended Warranty`}),(0,$.jsx)(`p`,{className:`text-sm text-slate-500`,children:`Upgrade your warranty with our Care Plans.`})]}),(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl shadow-sm`,children:[(0,$.jsx)(er,{className:`w-8 h-8 text-indigo-600 mb-4`}),(0,$.jsx)(`h4`,{className:`font-bold text-slate-900 mb-2`,children:`Easy Returns`}),(0,$.jsx)(`p`,{className:`text-sm text-slate-500`,children:`7-day replacement for manufacturing defects.`})]})]})]})]}):(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-20 text-center`,children:[(0,$.jsx)(`h2`,{className:`text-2xl font-bold text-slate-900 mb-4`,children:`Product Not Found`}),(0,$.jsxs)(D,{to:`/shop`,className:`text-indigo-600 hover:text-indigo-700 font-semibold flex items-center justify-center gap-2`,children:[(0,$.jsx)(Zn,{className:`w-4 h-4`}),` Back to Shop`]})]})}function Wx(){let{items:e,updateItem:t,removeItem:n,subtotal:r}=vx();return e.length===0?(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-20 text-center font-sans`,children:[(0,$.jsx)(`div`,{className:`w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mx-auto mb-6`,children:(0,$.jsx)(jr,{className:`w-10 h-10`})}),(0,$.jsx)(`h2`,{className:`text-2xl font-bold text-slate-900 mb-2`,children:`Your cart is empty`}),(0,$.jsx)(`p`,{className:`text-slate-500 mb-8 max-w-sm mx-auto`,children:`Looks like you haven't added anything to your cart yet.`}),(0,$.jsxs)(D,{to:`/shop`,className:`inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold transition-all shadow-lg hover:shadow-indigo-500/30`,children:[`Start Shopping `,(0,$.jsx)(Zn,{className:`w-4 h-4 rotate-180`})]})]}):(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-12 max-w-7xl font-sans`,children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-8`,children:`Shopping Cart`}),(0,$.jsxs)(`div`,{className:`flex flex-col lg:flex-row gap-12`,children:[(0,$.jsx)(`div`,{className:`flex-1 space-y-6`,children:e.map(e=>(0,$.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-start sm:items-center gap-6 p-6 bg-white border border-slate-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow`,children:[(0,$.jsx)(`div`,{className:`w-24 h-24 bg-slate-50 rounded-xl flex-shrink-0 border border-slate-100 overflow-hidden`,children:(0,$.jsx)(`img`,{src:e.imageUrl||`/sample-product.jpg`,alt:e.name,onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=`/sample-product.jpg`},className:`w-full h-full object-cover`})}),(0,$.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,$.jsx)(`h3`,{className:`font-bold text-slate-900 truncate pr-4`,children:e.name}),(0,$.jsx)(`p`,{className:`font-bold text-slate-900`,children:Ox(e.price*e.qty)})]}),(0,$.jsx)(`p`,{className:`text-sm text-slate-500 mb-4`,children:e.category}),(0,$.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 bg-slate-50 rounded-lg p-1 border border-slate-200/50`,children:[(0,$.jsx)(`button`,{onClick:()=>t(e.id,e.qty-1),className:`w-8 h-8 flex items-center justify-center bg-white rounded-md shadow-sm hover:bg-slate-100 text-slate-600 disabled:opacity-50 transition-colors`,children:(0,$.jsx)(yr,{className:`w-4 h-4`})}),(0,$.jsx)(`span`,{className:`w-8 text-center font-bold text-slate-700`,children:e.qty}),(0,$.jsx)(`button`,{onClick:()=>t(e.id,e.qty+1),className:`w-8 h-8 flex items-center justify-center bg-white rounded-md shadow-sm hover:bg-slate-100 text-slate-600 transition-colors`,children:(0,$.jsx)(wr,{className:`w-4 h-4`})})]}),(0,$.jsxs)(`button`,{onClick:()=>n(e.id),className:`text-red-500 hover:text-red-700 text-sm font-medium flex items-center gap-1 px-3 py-1.5 hover:bg-red-50 rounded-lg transition-colors`,children:[(0,$.jsx)(Fr,{className:`w-4 h-4`}),` Remove`]})]})]})]},e.id))}),(0,$.jsx)(`div`,{className:`lg:w-96 flex-shrink-0`,children:(0,$.jsxs)(`div`,{className:`bg-white p-8 rounded-3xl border border-slate-100 shadow-lg sticky top-24`,children:[(0,$.jsx)(`h2`,{className:`text-xl font-bold text-slate-900 mb-6`,children:`Order Summary`}),(0,$.jsxs)(`div`,{className:`space-y-4 mb-8`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between text-slate-600`,children:[(0,$.jsx)(`span`,{children:`Subtotal`}),(0,$.jsx)(`span`,{className:`font-medium text-slate-900`,children:Ox(r)})]}),(0,$.jsxs)(`div`,{className:`flex justify-between text-slate-600`,children:[(0,$.jsx)(`span`,{children:`GST (18%)`}),(0,$.jsx)(`span`,{className:`font-medium text-slate-900`,children:Ox(r*.18)})]}),(0,$.jsxs)(`div`,{className:`flex justify-between text-slate-600`,children:[(0,$.jsx)(`span`,{children:`Delivery`}),(0,$.jsx)(`span`,{className:`text-green-600 font-medium`,children:`Free`})]}),(0,$.jsx)(`div`,{className:`h-px bg-slate-100 my-4`}),(0,$.jsxs)(`div`,{className:`flex justify-between text-lg font-bold text-slate-900`,children:[(0,$.jsx)(`span`,{children:`Total`}),(0,$.jsx)(`span`,{children:Ox(r*1.18)})]})]}),(0,$.jsx)(D,{to:`/checkout`,className:`block w-full bg-slate-900 hover:bg-indigo-600 text-white text-center py-4 rounded-xl font-bold text-lg shadow-xl shadow-slate-200 hover:shadow-indigo-200 transition-all transform active:scale-95`,children:`Proceed to Checkout`}),(0,$.jsxs)(`p`,{className:`text-xs text-slate-400 text-center mt-4 flex items-center justify-center gap-1`,children:[(0,$.jsx)(kr,{className:`w-3 h-3`}),` Secure Checkout`]})]})})]})]})}function Gx(e){let[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{if(!e){n([]),i(!1);return}let t=ag(Fh(Km(ox,`users`,e,`addresses`),Bh(`createdAt`,`desc`)),e=>{n(e.docs.map(e=>({id:e.id,...e.data()}))),i(!1)},()=>{n([]),i(!1)});return()=>t()},[e]),{addresses:t,loading:r}}function Kx(){let{items:e,subtotal:t,clearCart:n}=vx(),{user:r}=ux(),{addresses:i}=Gx(r?.uid),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(null),l=lt(),[u,d]=(0,_.useState)(``),[f,p]=(0,_.useState)(`saved`),[m,h]=(0,_.useState)(``),g=(0,_.useMemo)(()=>i.find(e=>e.id===m),[i,m]),[v,y]=(0,_.useState)({fullName:``,phone:``,email:``,city:``,address:``}),b=i.length>0;return(0,_.useEffect)(()=>{f===`saved`&&!b&&p(`new`)},[f,b]),(0,_.useEffect)(()=>{f===`saved`&&b&&!m&&h(i[0].id)},[f,b,m,i]),(0,_.useEffect)(()=>{f===`saved`&&g&&y({fullName:g.name||``,phone:g.phone||``,email:g.email||``,city:g.city||``,address:g.address||``})},[f,g]),e.length===0&&!a?(0,$.jsx)(`div`,{className:`text-center py-20 text-slate-500 font-sans`,children:`Your cart is empty.`}):(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-12 max-w-7xl font-sans text-slate-900`,children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-8`,children:`Checkout`}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[(0,$.jsx)(`div`,{className:`lg:col-span-2`,children:(0,$.jsxs)(`form`,{onSubmit:async a=>{if(a.preventDefault(),e.length!==0){o(!0),c(null);try{let o=new FormData(a.currentTarget),s=Object.fromEntries(o.entries()),c=f===`new`?{name:s.fullName,phone:s.phone,email:s.email,city:s.city,address:s.address,label:s.addressLabel||`Home`}:i.find(e=>e.id===m);if(f===`new`&&r){let e=qm(Km(ox,`users`,r.uid,`addresses`));await tg(e,{...c,createdAt:ug()}),s.savedAddressId=e.id}else f===`saved`&&(s.savedAddressId=m);let u={fullName:s.fullName||v.fullName||c?.name||``,phone:s.phone||v.phone||c?.phone||``,email:s.email||v.email||c?.email||``,city:s.city||v.city||c?.city||``,invoiceType:s.invoiceType,paymentMethod:s.paymentMethod},d={label:s.addressLabel||c?.label||``,address:s.address||v.address||c?.address||``,city:s.city||v.city||c?.city||``,pincode:c?.pincode||``,name:u.fullName,phone:u.phone,email:u.email},p=kx();r&&await ig(Km(ox,`orders`),{orderId:p,userId:r.uid,customer:u,addressId:s.savedAddressId||``,address:d,items:e.map(e=>({productId:e.id,name:e.name,qty:e.qty,unitPrice:e.price,image:e.imageUrl||``,category:e.category||`Product`})),billing:{gstRate:.18,gstAmount:t*.18},subtotal:t,total:t*1.18,createdAt:ug(),status:`pending`}),n(),l(`/order-confirmation/${p}`)}catch(e){console.error(e),c(`Failed to place order. Please try again.`),o(!1)}}},className:`space-y-8`,children:[(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl shadow-sm border border-slate-100`,children:[(0,$.jsxs)(`h2`,{className:`text-lg font-bold text-slate-900 mb-4 flex items-center gap-2`,children:[(0,$.jsx)(gr,{className:`w-5 h-5 text-indigo-600`}),` Delivery Address`]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mb-6`,children:[(0,$.jsx)(`label`,{className:`cursor-pointer p-4 rounded-xl border-2 transition-all ${f===`saved`?`border-indigo-600 bg-indigo-50/50`:`border-slate-100 hover:border-slate-300`}`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(`input`,{type:`radio`,name:`addressMode`,checked:f===`saved`,onChange:()=>p(`saved`),disabled:!b,className:`w-4 h-4 text-indigo-600 focus:ring-indigo-500`}),(0,$.jsx)(`span`,{className:b?`font-medium text-slate-900`:`text-slate-400`,children:`Use Saved Address`})]})}),(0,$.jsx)(`label`,{className:`cursor-pointer p-4 rounded-xl border-2 transition-all ${f===`new`?`border-indigo-600 bg-indigo-50/50`:`border-slate-100 hover:border-slate-300`}`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,$.jsx)(`input`,{type:`radio`,name:`addressMode`,checked:f===`new`,onChange:()=>p(`new`),className:`w-4 h-4 text-indigo-600 focus:ring-indigo-500`}),(0,$.jsx)(`span`,{className:`font-medium text-slate-900`,children:`Add New Address`})]})})]}),f===`saved`?(0,$.jsxs)(`div`,{className:`space-y-4`,children:[(0,$.jsxs)(`select`,{required:!0,value:m,onChange:e=>h(e.target.value),className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all`,children:[(0,$.jsx)(`option`,{value:``,children:`Select a saved address...`}),i.map(e=>(0,$.jsxs)(`option`,{value:e.id,children:[e.label||`Home`,` - `,e.address,`, `,e.city]},e.id))]}),g&&(0,$.jsxs)(`div`,{className:`bg-slate-50 p-4 rounded-xl border border-dashed border-slate-300 text-sm text-slate-600`,children:[(0,$.jsx)(`p`,{className:`font-bold text-slate-900 mb-1`,children:g.name}),(0,$.jsx)(`p`,{children:g.address}),(0,$.jsxs)(`p`,{children:[g.city,` `,g.pincode]}),(0,$.jsxs)(`p`,{className:`mt-2 text-slate-500`,children:[`Phone: `,g.phone]})]})]}):(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Full Name`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`input`,{name:`fullName`,required:!0,className:`w-full p-3 pl-10 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,placeholder:`John Doe`,value:v.fullName,onChange:e=>y({...v,fullName:e.target.value})}),(0,$.jsx)(zr,{className:`w-4 h-4 text-slate-400 absolute left-3 top-3.5`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Phone`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`input`,{name:`phone`,required:!0,className:`w-full p-3 pl-10 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,placeholder:`9876543210`,value:v.phone,onChange:e=>y({...v,phone:e.target.value})}),(0,$.jsx)(Nr,{className:`w-4 h-4 text-slate-400 absolute left-3 top-3.5`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Email`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`input`,{name:`email`,type:`email`,required:!0,className:`w-full p-3 pl-10 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,placeholder:`john@example.com`,value:v.email,onChange:e=>y({...v,email:e.target.value})}),(0,$.jsx)(hr,{className:`w-4 h-4 text-slate-400 absolute left-3 top-3.5`})]})]}),(0,$.jsxs)(`div`,{className:`md:col-span-2`,children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Address`}),(0,$.jsx)(`textarea`,{name:`address`,required:!0,rows:`2`,className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none`,placeholder:`Flat No, Street, Area`,value:v.address,onChange:e=>y({...v,address:e.target.value})})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`City`}),(0,$.jsx)(`input`,{name:`city`,required:!0,className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,placeholder:`Chennai`,value:v.city,onChange:e=>y({...v,city:e.target.value})})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Address Label`}),(0,$.jsx)(`input`,{name:`addressLabel`,className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,placeholder:`Home / Office`})]})]})]}),(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl shadow-sm border border-slate-100`,children:[(0,$.jsxs)(`h2`,{className:`text-lg font-bold text-slate-900 mb-4 flex items-center gap-2`,children:[(0,$.jsx)(or,{className:`w-5 h-5 text-indigo-600`}),` Payment & Billing`]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Invoice Type`}),(0,$.jsxs)(`select`,{name:`invoiceType`,required:!0,className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,children:[(0,$.jsx)(`option`,{value:`GST Invoice`,children:`GST Invoice (18%)`}),(0,$.jsx)(`option`,{value:`Standard Invoice`,children:`Standard Invoice`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Payment Method`}),(0,$.jsxs)(`select`,{name:`paymentMethod`,required:!0,className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`,children:[(0,$.jsx)(`option`,{value:`UPI`,children:`UPI / QR Code`}),(0,$.jsx)(`option`,{value:`Card`,children:`Credit / Debit Card`}),(0,$.jsx)(`option`,{value:`Netbanking`,children:`Netbanking`}),(0,$.jsx)(`option`,{value:`EMI`,children:`EMI`})]})]})]})]}),s&&(0,$.jsx)(`div`,{className:`bg-red-50 text-red-600 p-4 rounded-xl text-sm font-medium border border-red-100`,children:s}),(0,$.jsx)(`button`,{type:`submit`,disabled:e.length===0||a,className:`hidden lg:flex w-full bg-slate-900 hover:bg-slate-800 text-white py-4 rounded-xl font-bold text-lg shadow-xl shadow-slate-200 transition-all justify-center items-center gap-2 disabled:bg-slate-400 disabled:cursor-not-allowed`,children:a?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(fr,{className:`w-5 h-5 animate-spin`}),` Processing Order...`]}):`Place Order`})]})}),(0,$.jsx)(`div`,{className:`lg:col-span-1`,children:(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl border border-slate-100 shadow-lg sticky top-24 space-y-6`,children:[(0,$.jsx)(`h3`,{className:`font-bold text-slate-900 text-lg`,children:`Order Summary`}),(0,$.jsx)(`div`,{className:`space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar`,children:e.map(e=>(0,$.jsxs)(`div`,{className:`flex gap-4 items-start`,children:[(0,$.jsx)(`div`,{className:`w-16 h-16 bg-slate-50 rounded-lg border border-slate-100 flex-shrink-0 overflow-hidden`,children:(0,$.jsx)(`img`,{src:e.imageUrl||`/sample-product.jpg`,alt:e.name,onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=`/sample-product.jpg`},className:`w-full h-full object-cover`})}),(0,$.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,$.jsx)(`p`,{className:`text-sm font-bold text-slate-900 truncate`,children:e.name}),(0,$.jsxs)(`p`,{className:`text-xs text-slate-500`,children:[`Qty: `,e.qty]}),(0,$.jsx)(`p`,{className:`text-sm font-medium text-slate-700 mt-1`,children:Ox(e.price*e.qty)})]})]},e.id))}),(0,$.jsxs)(`div`,{className:`border-t border-slate-100 pt-4 space-y-3`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between text-sm text-slate-600`,children:[(0,$.jsx)(`span`,{children:`Subtotal`}),(0,$.jsx)(`span`,{className:`font-medium text-slate-900`,children:Ox(t)})]}),(0,$.jsxs)(`div`,{className:`flex justify-between text-sm text-slate-600`,children:[(0,$.jsx)(`span`,{children:`GST (18%)`}),(0,$.jsx)(`span`,{className:`font-medium text-slate-900`,children:Ox(t*.18)})]}),(0,$.jsxs)(`div`,{className:`flex justify-between text-sm text-slate-600`,children:[(0,$.jsx)(`span`,{children:`Delivery`}),(0,$.jsx)(`span`,{className:`text-green-600 font-medium`,children:`Free`})]}),(0,$.jsxs)(`div`,{className:`flex justify-between text-lg font-bold text-slate-900 pt-2 border-t border-slate-100`,children:[(0,$.jsx)(`span`,{children:`Total Pay`}),(0,$.jsx)(`span`,{children:Ox(t*1.18)})]})]}),(0,$.jsx)(`button`,{type:`submit`,disabled:e.length===0||a,className:`lg:hidden w-full bg-slate-900 hover:bg-slate-800 text-white py-4 rounded-xl font-bold text-lg shadow-xl shadow-slate-200 transition-all justify-center items-center gap-2 disabled:bg-slate-400 disabled:cursor-not-allowed`,children:a?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(fr,{className:`w-5 h-5 animate-spin`}),` Processing...`]}):`Place Order`})]})})]})]})}function qx(){return(0,$.jsxs)(`div`,{className:`min-h-[60vh] flex flex-col items-center justify-center p-8 font-sans text-center`,children:[(0,$.jsx)(`div`,{className:`w-24 h-24 bg-amber-50 text-amber-500 rounded-full flex items-center justify-center mb-6 animate-pulse`,children:(0,$.jsx)(Ir,{className:`w-12 h-12`})}),(0,$.jsx)(`h1`,{className:`text-4xl font-extrabold text-slate-900 mb-2 tracking-tight`,children:`404`}),(0,$.jsx)(`h2`,{className:`text-2xl font-bold text-slate-700 mb-4`,children:`Page Not Found`}),(0,$.jsx)(`p`,{className:`text-slate-500 max-w-sm mx-auto mb-8`,children:`The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.`}),(0,$.jsxs)(D,{to:`/`,className:`inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-1`,children:[(0,$.jsx)(lr,{className:`w-5 h-5`}),` Go Back Home`]})]})}function Jx(){let{signIn:e,signUp:t}=ux(),[n,r]=(0,_.useState)(`login`),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(!1),f=lt(),p=ot();return(0,$.jsx)(`div`,{className:`min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 font-sans bg-slate-50`,children:(0,$.jsxs)(`div`,{className:`max-w-md w-full space-y-8 bg-white p-8 md:p-10 rounded-3xl shadow-xl shadow-slate-200 border border-slate-100`,children:[(0,$.jsxs)(`div`,{className:`text-center`,children:[(0,$.jsx)(`h2`,{className:`text-3xl font-extrabold text-slate-900 tracking-tight`,children:n===`login`?`Welcome Back`:`Create Account`}),(0,$.jsx)(`p`,{className:`mt-2 text-sm text-slate-500`,children:n===`login`?`Sign in to access your orders and bookings.`:`Join A1 Water Tech for exclusive services.`})]}),(0,$.jsxs)(`div`,{className:`flex p-1 bg-slate-100 rounded-xl`,children:[(0,$.jsx)(`button`,{type:`button`,onClick:()=>r(`login`),className:`flex-1 py-2.5 text-sm font-bold rounded-lg transition-all ${n===`login`?`bg-white text-indigo-600 shadow-sm`:`text-slate-500 hover:text-slate-700`}`,children:`Log In`}),(0,$.jsx)(`button`,{type:`button`,onClick:()=>r(`signup`),className:`flex-1 py-2.5 text-sm font-bold rounded-lg transition-all ${n===`signup`?`bg-white text-indigo-600 shadow-sm`:`text-slate-500 hover:text-slate-700`}`,children:`Sign Up`})]}),(0,$.jsxs)(`form`,{className:`mt-8 space-y-6`,onSubmit:async r=>{r.preventDefault(),l(``),d(!0);try{n===`login`?await e(i,o):await t(i,o),f(p.state?.from||`/shop`,{replace:!0})}catch(e){l(e.message||`Authentication failed. Please check your credentials.`)}finally{d(!1)}},children:[(0,$.jsxs)(`div`,{className:`space-y-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{htmlFor:`email`,className:`sr-only`,children:`Email address`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`,children:(0,$.jsx)(hr,{className:`h-5 w-5 text-slate-400`})}),(0,$.jsx)(`input`,{id:`email`,name:`email`,type:`email`,autoComplete:`email`,required:!0,value:i,onChange:e=>a(e.target.value),className:`appearance-none relative block w-full pl-10 pr-3 py-3 border border-slate-200 placeholder-slate-400 text-slate-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-shadow`,placeholder:`Email address`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{htmlFor:`password`,className:`sr-only`,children:`Password`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`div`,{className:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`,children:(0,$.jsx)(pr,{className:`h-5 w-5 text-slate-400`})}),(0,$.jsx)(`input`,{id:`password`,name:`password`,type:`password`,autoComplete:`current-password`,required:!0,value:o,onChange:e=>s(e.target.value),className:`appearance-none relative block w-full pl-10 pr-3 py-3 border border-slate-200 placeholder-slate-400 text-slate-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-shadow`,placeholder:`Password`})]})]})]}),c&&(0,$.jsxs)(`div`,{className:`rounded-lg bg-red-50 p-4 border border-red-100 flex items-start gap-3`,children:[(0,$.jsx)(rr,{className:`w-5 h-5 text-red-500 flex-shrink-0 mt-0.5`}),(0,$.jsx)(`p`,{className:`text-sm text-red-700 font-medium`,children:c})]}),(0,$.jsx)(`button`,{type:`submit`,disabled:u,className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-200 transition-all disabled:bg-indigo-400 disabled:cursor-not-allowed`,children:u?(0,$.jsx)(fr,{className:`w-5 h-5 animate-spin`}):(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[n===`login`?`Sign In`:`Create Account`,` `,(0,$.jsx)(Qn,{className:`w-4 h-4 group-hover:translate-x-1 transition-transform`})]})})]}),(0,$.jsx)(`div`,{className:`mt-6 text-center`,children:(0,$.jsx)(`p`,{className:`text-xs text-slate-400`,children:`By continuing, you agree to our Terms of Service and Privacy Policy.`})})]})})}function Yx({children:e}){let{user:t,loading:n}=ux(),r=ot();return n?(0,$.jsxs)(`div`,{className:`min-h-[60vh] flex flex-col items-center justify-center font-sans text-center`,children:[(0,$.jsx)(fr,{className:`w-10 h-10 animate-spin text-indigo-600 mb-4`}),(0,$.jsx)(`h2`,{className:`text-xl font-bold text-slate-900 mb-2`,children:`Checking session...`}),(0,$.jsx)(`p`,{className:`text-slate-500`,children:`Please wait a moment while we verify your account.`})]}):t?e:(0,$.jsx)(Ft,{to:`/login`,state:{from:r.pathname},replace:!0})}var Xx={label:``,name:``,phone:``,email:``,city:``,pincode:``,address:``};function Zx(){let{user:e,signOut:t}=ux(),{addresses:n,loading:r}=Gx(e?.uid),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(Xx),f=async t=>{t.preventDefault(),e&&(i?(await ng(qm(ox,`users`,e.uid,`addresses`,i),{...u,updatedAt:ug()}),a(``),l(`Address updated.`)):(await ig(Km(ox,`users`,e.uid,`addresses`),{...u,createdAt:ug()}),l(`Address saved.`)),d(Xx),s(!1),setTimeout(()=>l(``),2500))},p=e=>{a(e.id),d({label:e.label||``,name:e.name||``,phone:e.phone||``,email:e.email||``,city:e.city||``,pincode:e.pincode||``,address:e.address||``}),s(!0)},m=async t=>{e&&(await rg(qm(ox,`users`,e.uid,`addresses`,t)),i===t&&(a(``),d(Xx),s(!1)))};return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-12 max-w-5xl font-sans`,children:[(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-end mb-8 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-2`,children:`My Account`}),(0,$.jsx)(`p`,{className:`text-slate-500`,children:`Manage your profile, addresses, and account settings.`})]}),(0,$.jsxs)(`button`,{onClick:t,className:`flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition-colors`,children:[(0,$.jsx)(mr,{className:`w-4 h-4`}),` Sign Out`]})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[(0,$.jsxs)(`div`,{className:`lg:col-span-1 space-y-4`,children:[(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl border border-slate-100 shadow-sm`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-4 mb-6`,children:[(0,$.jsx)(`div`,{className:`w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600`,children:(0,$.jsx)(zr,{className:`w-8 h-8`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`font-bold text-slate-900 truncate max-w-[150px]`,children:e?.displayName||`User`}),(0,$.jsx)(`p`,{className:`text-sm text-slate-500 truncate max-w-[150px]`,children:e?.email})]})]}),(0,$.jsxs)(`div`,{className:`space-y-2`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 p-3 bg-slate-50 rounded-xl text-slate-700`,children:[(0,$.jsx)(zr,{className:`w-4 h-4 text-slate-400`}),(0,$.jsxs)(`span`,{className:`text-sm font-medium`,children:[`Account Status: `,(0,$.jsx)(`span`,{className:`text-green-600 font-bold ml-1`,children:`Active`})]})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 p-3 bg-slate-50 rounded-xl text-slate-700`,children:[(0,$.jsx)(Or,{className:`w-4 h-4 text-slate-400`}),(0,$.jsx)(`span`,{className:`text-sm font-medium`,children:`Preferences`})]})]})]}),(0,$.jsxs)(`div`,{className:`bg-gradient-to-br from-indigo-600 to-indigo-700 p-6 rounded-2xl text-white shadow-lg shadow-indigo-200`,children:[(0,$.jsx)(`h3`,{className:`font-bold text-lg mb-2`,children:`Need a checkup?`}),(0,$.jsx)(`p`,{className:`text-indigo-100 text-sm mb-4`,children:`Book a service slot for your purifier maintenance.`}),(0,$.jsx)(D,{to:`/bookings`,className:`block w-full py-2.5 bg-white text-indigo-600 text-center rounded-lg font-bold text-sm hover:bg-indigo-50 transition-colors`,children:`Book Service Now`})]})]}),(0,$.jsx)(`div`,{className:`lg:col-span-2 space-y-8`,children:(0,$.jsxs)(`div`,{className:`bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden`,children:[(0,$.jsxs)(`div`,{className:`p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50`,children:[(0,$.jsxs)(`h2`,{className:`text-lg font-bold text-slate-900 flex items-center gap-2`,children:[(0,$.jsx)(gr,{className:`w-5 h-5 text-indigo-600`}),` Saved Addresses`]}),!o&&(0,$.jsxs)(`button`,{onClick:()=>{s(!0),a(``),d(Xx)},className:`text-sm font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1`,children:[(0,$.jsx)(wr,{className:`w-4 h-4`}),` Add New`]})]}),o&&(0,$.jsxs)(`div`,{className:`p-6 bg-slate-50 border-b border-slate-100 animate-accordion-down`,children:[(0,$.jsx)(`h3`,{className:`text-sm font-bold text-slate-900 uppercase tracking-wide mb-4`,children:i?`Edit Address`:`Add New Address`}),(0,$.jsxs)(`form`,{onSubmit:f,className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,$.jsx)(`input`,{required:!0,placeholder:`Label (Home/Office)`,value:u.label,onChange:e=>d({...u,label:e.target.value}),className:`p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`}),(0,$.jsx)(`input`,{required:!0,placeholder:`Full Name`,value:u.name,onChange:e=>d({...u,name:e.target.value}),className:`p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`}),(0,$.jsx)(`input`,{required:!0,placeholder:`Phone Number`,value:u.phone,onChange:e=>d({...u,phone:e.target.value}),className:`p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`}),(0,$.jsx)(`input`,{required:!0,placeholder:`Email`,value:u.email,onChange:e=>d({...u,email:e.target.value}),className:`p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`}),(0,$.jsx)(`input`,{required:!0,placeholder:`City`,value:u.city,onChange:e=>d({...u,city:e.target.value}),className:`p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`}),(0,$.jsx)(`input`,{placeholder:`Pincode`,value:u.pincode,onChange:e=>d({...u,pincode:e.target.value}),className:`p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none`}),(0,$.jsx)(`textarea`,{required:!0,rows:`3`,placeholder:`Full Address`,value:u.address,onChange:e=>d({...u,address:e.target.value}),className:`md:col-span-2 p-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none`}),(0,$.jsxs)(`div`,{className:`md:col-span-2 flex gap-3 pt-2`,children:[(0,$.jsx)(`button`,{type:`submit`,className:`bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold text-sm shadow-md hover:bg-indigo-700 transition-colors`,children:`Save Address`}),(0,$.jsx)(`button`,{type:`button`,onClick:()=>s(!1),className:`bg-white border border-slate-200 text-slate-600 px-6 py-2 rounded-lg font-bold text-sm hover:bg-slate-50 transition-colors`,children:`Cancel`})]})]})]}),(0,$.jsx)(`div`,{className:`p-6`,children:r?(0,$.jsx)(`p`,{className:`text-slate-500 text-sm`,children:`Loading stored addresses...`}):n.length===0?(0,$.jsxs)(`div`,{className:`text-center py-8`,children:[(0,$.jsx)(`div`,{className:`w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3 text-slate-400`,children:(0,$.jsx)(gr,{className:`w-6 h-6`})}),(0,$.jsx)(`p`,{className:`text-slate-500 text-sm`,children:`No addresses saved yet.`})]}):(0,$.jsx)(`div`,{className:`grid gap-4`,children:n.map(e=>(0,$.jsxs)(`div`,{className:`border border-slate-100 rounded-xl p-4 hover:border-indigo-100 hover:bg-indigo-50/30 transition-colors group relative`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,$.jsx)(`span`,{className:`font-bold text-slate-900`,children:e.label||`Details`}),e.createdAt&&(0,$.jsx)(`span`,{className:`text-[10px] bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full`,children:`New`})]}),(0,$.jsxs)(`div`,{className:`flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity`,children:[(0,$.jsx)(`button`,{onClick:()=>p(e),className:`text-indigo-600 hover:bg-indigo-50 p-1.5 rounded-md transition-colors`,title:`Edit`,children:(0,$.jsx)(Sr,{className:`w-4 h-4`})}),(0,$.jsx)(`button`,{onClick:()=>m(e.id),className:`text-red-500 hover:bg-red-50 p-1.5 rounded-md transition-colors`,title:`Delete`,children:(0,$.jsx)(Fr,{className:`w-4 h-4`})})]})]}),(0,$.jsx)(`p`,{className:`text-sm font-semibold text-slate-800 mb-1`,children:e.name}),(0,$.jsxs)(`p`,{className:`text-sm text-slate-500 mb-1`,children:[e.address,`, `,e.city,` `,e.pincode]}),(0,$.jsxs)(`p`,{className:`text-xs text-slate-400 flex items-center gap-2 mt-2`,children:[(0,$.jsx)(Cr,{className:`w-3 h-3`}),` `,e.phone,(0,$.jsx)(`span`,{className:`w-1 h-1 bg-slate-300 rounded-full`}),(0,$.jsx)(hr,{className:`w-3 h-3`}),` `,e.email]})]},e.id))})})]})})]})]})}var Qx=e=>{if(!e)return 0;if(typeof e?.toMillis==`function`)return e.toMillis();if(typeof e?.toDate==`function`)return e.toDate().getTime();let t=new Date(e).getTime();return Number.isFinite(t)?t:0};function $x(e){let[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{if(!e){n([]),i(!1);return}let t=ag(Fh(Km(ox,`orders`),Lh(`userId`,`==`,e)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>Qx(t.createdAt)-Qx(e.createdAt)),n(t),i(!1)},()=>{n([]),i(!1)});return()=>t()},[e]),{orders:t,loading:r}}var eS=e=>e?e?.toDate?e.toDate().toLocaleString():new Date(e).toLocaleString():`Pending`,tS=e=>{switch(e?.toLowerCase()){case`delivered`:return`text-green-600 bg-green-50 border-green-200`;case`cancelled`:return`text-red-600 bg-red-50 border-red-200`;case`shipped`:return`text-indigo-600 bg-indigo-50 border-indigo-200`;default:return`text-amber-600 bg-amber-50 border-amber-200`}},nS=e=>{switch(e?.toLowerCase()){case`delivered`:return(0,$.jsx)(ir,{className:`w-4 h-4`});case`cancelled`:return(0,$.jsx)(rr,{className:`w-4 h-4`});case`shipped`:return(0,$.jsx)(Lr,{className:`w-4 h-4`});default:return(0,$.jsx)(ar,{className:`w-4 h-4`})}};function rS(){let{user:e}=ux(),{orders:t,loading:n}=$x(e?.uid),{items:r}=px(),i=Object.fromEntries(r.map(e=>[e.id,e]));return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-12 max-w-5xl font-sans`,children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-2`,children:`My Orders`}),(0,$.jsx)(`p`,{className:`text-slate-500 mb-8`,children:`Track current orders and view past purchases.`}),n?(0,$.jsx)(`div`,{className:`space-y-4 animate-pulse`,children:[1,2,3].map(e=>(0,$.jsx)(`div`,{className:`h-40 bg-slate-100 rounded-2xl`},e))}):t.length===0?(0,$.jsxs)(`div`,{className:`text-center py-16 bg-white rounded-3xl border border-dashed border-slate-200`,children:[(0,$.jsx)(`div`,{className:`w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-400 mx-auto mb-4`,children:(0,$.jsx)(er,{className:`w-8 h-8`})}),(0,$.jsx)(`h3`,{className:`text-lg font-bold text-slate-900 mb-1`,children:`No orders yet`}),(0,$.jsx)(`p`,{className:`text-slate-500 text-sm mb-6`,children:`Start shopping to see your orders here.`}),(0,$.jsx)(`a`,{href:`/shop`,className:`inline-flex items-center justify-center px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl text-sm shadow-md hover:bg-indigo-700 transition-colors`,children:`Browse Products`})]}):(0,$.jsx)(`div`,{className:`space-y-6`,children:t.map(e=>(0,$.jsxs)(`div`,{className:`bg-white border border-slate-100 rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-shadow`,children:[(0,$.jsxs)(`div`,{className:`bg-slate-50/50 p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4`,children:[(0,$.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,$.jsxs)(`span`,{className:`font-bold text-slate-900 text-lg`,children:[`#`,e.orderId||e.id.slice(0,8)]}),(0,$.jsxs)(`span`,{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border uppercase tracking-wide ${tS(e.status)}`,children:[nS(e.status),` `,e.status||`Processing`]})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-4 text-xs text-slate-500 font-medium ml-1`,children:[(0,$.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,$.jsx)(tr,{className:`w-3 h-3`}),` `,eS(e.createdAt)]}),(0,$.jsxs)(`span`,{className:`flex items-center gap-1`,children:[`Payment: `,e.customer?.paymentMethod||`Online`]})]})]}),(0,$.jsxs)(`div`,{className:`text-right`,children:[(0,$.jsx)(`p`,{className:`text-xs text-slate-400 uppercase font-bold tracking-wide`,children:`Total Amount`}),(0,$.jsx)(`p`,{className:`text-xl font-bold text-slate-900`,children:Ox(e.total||0)})]})]}),(0,$.jsx)(`div`,{className:`p-6`,children:(0,$.jsx)(`div`,{className:`space-y-6`,children:(e.items||[]).map((e,t)=>{let n=i[e.productId||e.id];return(0,$.jsxs)(`div`,{className:`flex gap-4 items-start`,children:[(0,$.jsx)(`div`,{className:`w-16 h-16 bg-slate-100 rounded-xl border border-slate-200 flex-shrink-0 overflow-hidden`,children:(0,$.jsx)(`img`,{src:e.image||n?.imageUrl||`/sample-product.jpg`,alt:e.name,onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=`/sample-product.jpg`},className:`w-full h-full object-cover`})}),(0,$.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,$.jsx)(`h4`,{className:`font-bold text-slate-900 truncate pr-2`,children:e.name||n?.name||`Product`}),(0,$.jsx)(`span`,{className:`font-bold text-slate-700 text-sm whitespace-nowrap`,children:Ox((e.unitPrice??e.price??0)*(e.qty??1))})]}),(0,$.jsxs)(`p`,{className:`text-sm text-slate-500 mt-0.5`,children:[`Qty: `,e.qty]}),(0,$.jsx)(`div`,{className:`mt-2 flex gap-3`,children:(0,$.jsxs)(`button`,{className:`text-xs font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-1`,children:[(0,$.jsx)(Tr,{className:`w-3 h-3`}),` Buy Again`]})})]})]},t)})})}),(0,$.jsxs)(`div`,{className:`px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center text-sm`,children:[(0,$.jsx)(`button`,{className:`text-slate-500 hover:text-slate-800 font-medium transition-colors`,children:`View Invoice`}),(0,$.jsx)(`button`,{className:`text-indigo-600 hover:text-indigo-800 font-bold transition-colors`,children:`Track Shipment`})]})]},e.id))})]})}var iS=e=>{if(!e)return`Not available`;if(typeof e?.toDate==`function`)return e.toDate().toLocaleString();let t=new Date(e);return Number.isNaN(t.getTime())?`Not available`:t.toLocaleString()};function aS(){let{user:e}=ux(),[t,n]=(0,_.useState)(``),[r,i]=(0,_.useState)(null),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(``);return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-16 font-sans`,children:[(0,$.jsxs)(`div`,{className:`max-w-xl mx-auto text-center mb-10`,children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-2`,children:`Track Your Order`}),(0,$.jsx)(`p`,{className:`text-slate-500`,children:`Enter your Order ID to see the current status.`})]}),(0,$.jsxs)(`div`,{className:`max-w-md mx-auto`,children:[(0,$.jsxs)(`form`,{onSubmit:async n=>{if(n.preventDefault(),!t.trim())return;let r=t.trim().replace(/^#/,``);o(!0),c(``),i(null);try{let t=await eg(Fh(Km(ox,`orders`),Lh(`userId`,`==`,e.uid),Lh(`orderId`,`==`,r),Hh(1)));if(t.empty)c(`Order not found. Please check the ID.`);else{let e=t.docs[0].data();i({id:t.docs[0].id,...e})}}catch(e){console.error(e),c(`Failed to fetch order details. Please try again.`)}finally{o(!1)}},className:`flex flex-col gap-4 mb-8`,children:[(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:`Enter Order ID (e.g., A1-123456-123)`,value:t,onChange:e=>n(e.target.value),className:`w-full pl-5 pr-12 py-3.5 bg-white border border-slate-200 rounded-xl text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm`}),(0,$.jsx)(`div`,{className:`absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none`,children:(0,$.jsx)(Er,{className:`w-5 h-5 text-slate-400`})})]}),(0,$.jsx)(`button`,{type:`submit`,disabled:a||!t,className:`w-full py-3.5 px-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all disabled:bg-indigo-400 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:a?(0,$.jsx)(fr,{className:`w-5 h-5 animate-spin`}):`Track Order`})]}),s&&(0,$.jsx)(`div`,{className:`p-4 bg-red-50 text-red-700 rounded-xl border border-red-100 font-medium text-center`,children:s}),r&&(0,$.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 border border-slate-100 shadow-xl shadow-slate-200/50 animate-accordion-down`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start mb-6 border-b border-slate-100 pb-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900`,children:`Order Status`}),(0,$.jsxs)(`p`,{className:`text-sm text-slate-500`,children:[`ID: `,r.orderId]})]}),(0,$.jsx)(`div`,{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${r.status===`Delivered`?`bg-green-50 text-green-700 border-green-200`:`bg-indigo-50 text-indigo-700 border-indigo-200`}`,children:r.status||`Processing`})]}),(0,$.jsxs)(`div`,{className:`space-y-6 relative`,children:[(0,$.jsx)(`div`,{className:`absolute left-3.5 top-2 bottom-2 w-0.5 bg-slate-100`}),(0,$.jsxs)(`div`,{className:`relative flex items-start gap-4`,children:[(0,$.jsx)(`div`,{className:`w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center border-2 border-white shadow-sm z-10`,children:(0,$.jsx)(ir,{className:`w-4 h-4`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`font-bold text-slate-900 text-sm`,children:`Order Placed`}),(0,$.jsx)(`p`,{className:`text-xs text-slate-500`,children:iS(r.createdAt)})]})]}),(0,$.jsxs)(`div`,{className:`relative flex items-start gap-4`,children:[(0,$.jsx)(`div`,{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 border-white shadow-sm z-10 ${r.status===`Pending`?`bg-slate-100 text-slate-400`:`bg-indigo-100 text-indigo-600`}`,children:(0,$.jsx)(xr,{className:`w-4 h-4`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`font-bold text-sm ${r.status===`Pending`?`text-slate-400`:`text-slate-900`}`,children:`Processing`}),(0,$.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Your order is being prepared.`})]})]}),(0,$.jsxs)(`div`,{className:`relative flex items-start gap-4`,children:[(0,$.jsx)(`div`,{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 border-white shadow-sm z-10 ${r.status===`Delivered`?`bg-green-100 text-green-600`:`bg-slate-100 text-slate-400`}`,children:(0,$.jsx)(ar,{className:`w-4 h-4`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`font-bold text-sm ${r.status===`Delivered`?`text-slate-900`:`text-slate-400`}`,children:`Delivery`}),(0,$.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Estimated within 3-5 days.`})]})]})]}),(0,$.jsxs)(`div`,{className:`mt-8 pt-4 border-t border-slate-100`,children:[(0,$.jsx)(`p`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wide mb-3`,children:`Items Ordered`}),(0,$.jsx)(`ul`,{className:`space-y-3`,children:r.items?.map((e,t)=>(0,$.jsxs)(`li`,{className:`flex justify-between items-center text-sm`,children:[(0,$.jsx)(`span`,{className:`text-slate-700 font-medium truncate max-w-[200px]`,children:e.name}),(0,$.jsxs)(`span`,{className:`text-slate-500`,children:[`x`,e.qty]})]},t))})]})]})]})]})}var oS=e=>{if(!e)return 0;if(typeof e?.toMillis==`function`)return e.toMillis();if(typeof e?.toDate==`function`)return e.toDate().getTime();let t=new Date(e).getTime();return Number.isFinite(t)?t:0};function sS(e){let[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{if(!e){n([]),i(!1);return}let t=ag(Fh(Km(ox,`bookings`),Lh(`userId`,`==`,e)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>oS(t.createdAt)-oS(e.createdAt)),n(t),i(!1)},()=>{n([]),i(!1)});return()=>t()},[e]),{bookings:t,loading:r}}function cS(){let{user:e}=ux(),{addresses:t}=Gx(e?.uid),{bookings:n,loading:r}=sS(e?.uid),{items:i,loading:a}=Nx(),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(``),[u,d]=(0,_.useState)(``),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(``),[y,b]=(0,_.useState)(``),x=e=>{switch(e?.toLowerCase()){case`scheduled`:return`text-indigo-600 bg-indigo-50 border-indigo-200`;case`confirmed`:return`text-green-600 bg-green-50 border-green-200`;case`completed`:return`text-slate-600 bg-slate-50 border-slate-200`;case`cancelled`:return`text-red-600 bg-red-50 border-red-200`;default:return`text-amber-600 bg-amber-50 border-amber-200`}};return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-8 lg:py-12 max-w-6xl font-sans`,children:[(0,$.jsx)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-end mb-8 gap-4`,children:(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-2`,children:`Service Bookings`}),(0,$.jsx)(`p`,{className:`text-slate-500`,children:`Schedule maintenance or repairs for your water purifier.`})]})}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[(0,$.jsx)(`div`,{className:`lg:col-span-1`,children:(0,$.jsxs)(`div`,{className:`bg-white p-6 rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 sticky top-24`,children:[(0,$.jsxs)(`h2`,{className:`text-xl font-bold text-slate-900 mb-6 flex items-center gap-2`,children:[(0,$.jsx)(tr,{className:`w-5 h-5 text-indigo-600`}),` Book a Slot`]}),g?(0,$.jsxs)(`div`,{className:`bg-green-50 text-green-700 p-4 rounded-xl border border-green-200 flex items-center gap-3 mb-6 animate-bounce`,children:[(0,$.jsx)(ir,{className:`w-5 h-5`}),(0,$.jsx)(`span`,{className:`font-medium`,children:g})]}):(0,$.jsxs)(`form`,{onSubmit:async n=>{if(n.preventDefault(),!(!e||!o||!c||!u||!f)){h(!0),b(``);try{let n=i.find(e=>e.id===o),r=t.find(e=>e.id===f);await ig(Km(ox,`bookings`),{userId:e.uid,serviceId:o,serviceName:n?.name||`Service`,date:c,time:u,addressId:f,addressSnapshot:r,status:`scheduled`,createdAt:ug()}),v(`Booking request submitted successfully!`),s(``),l(``),d(``),p(``),setTimeout(()=>v(``),3e3)}catch(e){console.error(e),b(`Booking request failed. Please try again.`)}finally{h(!1)}}},className:`space-y-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Service Type`}),(0,$.jsxs)(`select`,{required:!0,value:o,onChange:e=>s(e.target.value),className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all disabled:opacity-50`,disabled:a,children:[(0,$.jsx)(`option`,{value:``,children:`Select Service...`}),i.map(e=>(0,$.jsxs)(`option`,{value:e.id,children:[e.name,` - `,Ox(e.price)]},e.id))]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Date`}),(0,$.jsx)(`input`,{type:`date`,required:!0,value:c,onChange:e=>l(e.target.value),className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`,min:new Date().toISOString().split(`T`)[0]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Time Slot`}),(0,$.jsxs)(`select`,{required:!0,value:u,onChange:e=>d(e.target.value),className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`,children:[(0,$.jsx)(`option`,{value:``,children:`Select Time...`}),(0,$.jsx)(`option`,{value:`09:00 - 11:00`,children:`09:00 AM - 11:00 AM`}),(0,$.jsx)(`option`,{value:`11:00 - 13:00`,children:`11:00 AM - 01:00 PM`}),(0,$.jsx)(`option`,{value:`14:00 - 16:00`,children:`02:00 PM - 04:00 PM`}),(0,$.jsx)(`option`,{value:`16:00 - 18:00`,children:`04:00 PM - 06:00 PM`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1`,children:`Address`}),t.length===0?(0,$.jsxs)(`div`,{className:`p-3 bg-slate-50 border border-dashed border-slate-300 rounded-lg text-sm text-slate-500 text-center`,children:[`No addresses found. `,(0,$.jsx)(`a`,{href:`/profile`,className:`text-indigo-600 font-bold hover:underline`,children:`Add one in Profile`})]}):(0,$.jsxs)(`select`,{required:!0,value:f,onChange:e=>p(e.target.value),className:`w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`,children:[(0,$.jsx)(`option`,{value:``,children:`Select Address...`}),t.map(e=>(0,$.jsxs)(`option`,{value:e.id,children:[e.label,` - `,e.city]},e.id))]})]}),y&&(0,$.jsxs)(`div`,{className:`rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700 flex items-center gap-2`,children:[(0,$.jsx)(rr,{className:`w-4 h-4`}),y]}),(0,$.jsx)(`button`,{type:`submit`,disabled:m||!o||!f,className:`w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all disabled:bg-indigo-400 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-4`,children:m?(0,$.jsx)(fr,{className:`w-5 h-5 animate-spin`}):`Confirm Booking`})]})]})}),(0,$.jsxs)(`div`,{className:`lg:col-span-2`,children:[(0,$.jsx)(`h2`,{className:`text-xl font-bold text-slate-900 mb-6 px-1`,children:`Your Bookings`}),r?(0,$.jsxs)(`div`,{className:`bg-white p-8 rounded-2xl shadow-sm text-center`,children:[(0,$.jsx)(fr,{className:`w-8 h-8 animate-spin text-indigo-600 mx-auto mb-2`}),(0,$.jsx)(`p`,{className:`text-slate-500`,children:`Loading bookings...`})]}):n.length===0?(0,$.jsxs)(`div`,{className:`bg-white p-12 rounded-2xl border border-dashed border-slate-200 text-center`,children:[(0,$.jsx)(`div`,{className:`w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400`,children:(0,$.jsx)(tr,{className:`w-8 h-8`})}),(0,$.jsx)(`h3`,{className:`text-lg font-bold text-slate-900 mb-1`,children:`No bookings found`}),(0,$.jsx)(`p`,{className:`text-slate-500`,children:`You haven't booked any services yet.`})]}):(0,$.jsx)(`div`,{className:`space-y-4`,children:n.map(e=>(0,$.jsxs)(`div`,{className:`bg-white border border-slate-100 rounded-2xl p-6 hover:shadow-md transition-shadow group relative`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start mb-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{className:`font-bold text-slate-900 text-lg`,children:e.serviceName}),(0,$.jsxs)(`p`,{className:`text-xs text-slate-400 font-mono mt-1`,children:[`ID: `,e.id.slice(0,8)]})]}),(0,$.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${x(e.status)}`,children:e.status||`Scheduled`})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mb-4`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 text-slate-600`,children:[(0,$.jsx)(tr,{className:`w-4 h-4 text-indigo-500`}),(0,$.jsx)(`span`,{children:new Date(e.date).toLocaleDateString(void 0,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`})})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 text-slate-600`,children:[(0,$.jsx)(ar,{className:`w-4 h-4 text-indigo-500`}),(0,$.jsx)(`span`,{children:e.time})]}),(0,$.jsxs)(`div`,{className:`flex items-start gap-3 text-slate-600 sm:col-span-2`,children:[(0,$.jsx)(gr,{className:`w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0`}),(0,$.jsx)(`span`,{className:`line-clamp-1`,children:e.addressSnapshot?.address||`Address details unavailable`})]})]}),(e.status===`pending`||e.status===`scheduled`)&&(0,$.jsxs)(`div`,{className:`pt-4 border-t border-slate-100 flex items-center gap-2 text-xs text-amber-600 bg-amber-50/50 p-3 rounded-lg`,children:[(0,$.jsx)(ur,{className:`w-4 h-4 flex-shrink-0`}),`Waiting for confirmation. Our team will contact you shortly.`]})]},e.id))})]})]})]})}function lS(){let{id:e}=dt(),t=lt();return(0,_.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,$.jsx)(`div`,{className:`container mx-auto px-4 py-20 min-h-[60vh] flex flex-col items-center justify-center font-sans text-center`,children:(0,$.jsxs)(`div`,{className:`bg-white p-8 md:p-12 rounded-3xl shadow-xl shadow-indigo-100 border border-indigo-50 max-w-lg w-full`,children:[(0,$.jsx)(`div`,{className:`w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce`,children:(0,$.jsx)(ir,{className:`w-10 h-10`})}),(0,$.jsx)(`h1`,{className:`text-3xl font-bold text-slate-900 mb-2`,children:`Order Confirmed!`}),(0,$.jsx)(`p`,{className:`text-slate-500 mb-6`,children:`Thank you for your purchase. We've received your order and will begin processing it right away.`}),(0,$.jsxs)(`div`,{className:`bg-slate-50 rounded-xl p-4 mb-8 border border-slate-100`,children:[(0,$.jsx)(`p`,{className:`text-xs text-slate-400 uppercase font-bold tracking-wide mb-1`,children:`Order ID`}),(0,$.jsx)(`p`,{className:`text-lg font-mono font-bold text-slate-800 tracking-wider`,children:e})]}),(0,$.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,$.jsxs)(`button`,{onClick:()=>t(`/orders`),className:`w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2`,children:[(0,$.jsx)(Ar,{className:`w-5 h-5`}),` View My Orders`]}),(0,$.jsxs)(D,{to:`/shop`,className:`w-full bg-white hover:bg-slate-50 text-slate-700 font-bold py-3.5 rounded-xl border border-slate-200 transition-all flex items-center justify-center gap-2`,children:[`Continue Shopping `,(0,$.jsx)(Qn,{className:`w-4 h-4`})]})]})]})})}function uS({eyebrow:e,title:t,subtitle:n,actions:r}){return(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-end gap-6 mb-12 border-b border-slate-100 pb-8 font-sans`,children:[(0,$.jsxs)(`div`,{className:`max-w-2xl`,children:[e&&(0,$.jsx)(`span`,{className:`inline-block py-1 px-3 rounded-full bg-indigo-50 text-indigo-600 text-[10px] font-bold tracking-wider uppercase mb-3`,children:e}),(0,$.jsx)(`h1`,{className:`text-3xl md:text-4xl font-extrabold text-slate-900 tracking-tight mb-2`,children:t}),n&&(0,$.jsx)(`p`,{className:`text-lg text-slate-500 leading-relaxed`,children:n})]}),r&&(0,$.jsx)(`div`,{className:`flex flex-wrap gap-3 w-full md:w-auto`,children:r})]})}function dS(){let[e,t]=(0,_.useState)(null),[n,r]=(0,_.useState)(``),i=Mx.filter(e=>e.q.toLowerCase().includes(n.toLowerCase())||e.a.toLowerCase().includes(n.toLowerCase()));return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-12 max-w-4xl font-sans text-slate-900`,children:[(0,$.jsx)(uS,{eyebrow:`Support`,title:`Answers to common questions`,subtitle:`Everything you need to know about our products, billing, and annual service plans.`}),(0,$.jsxs)(`div`,{className:`mb-12 relative`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:`Search FAQs...`,value:n,onChange:e=>r(e.target.value),className:`w-full p-4 pl-12 bg-white border border-slate-200 rounded-2xl shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`}),(0,$.jsx)(Er,{className:`w-5 h-5 text-slate-400 absolute left-4 top-4.5`})]}),(0,$.jsx)(`div`,{className:`space-y-4`,children:i.length>0?i.map((n,r)=>(0,$.jsxs)(`div`,{className:`bg-white border border-slate-100 rounded-2xl shadow-sm overflow-hidden transition-all`,children:[(0,$.jsxs)(`button`,{onClick:()=>t(e===r?null:r),className:`w-full p-6 text-left flex justify-between items-center hover:bg-slate-50 transition-colors`,"aria-expanded":e===r,children:[(0,$.jsx)(`span`,{className:`font-bold text-slate-800 pr-4`,children:n.q}),(0,$.jsx)(`div`,{className:`p-1 rounded-full bg-slate-100 text-slate-600 transition-transform duration-300 ${e===r?`rotate-180`:``}`,children:e===r?(0,$.jsx)(yr,{className:`w-4 h-4`}):(0,$.jsx)(wr,{className:`w-4 h-4`})})]}),(0,$.jsx)(`div`,{className:`transition-all duration-300 ease-in-out ${e===r?`max-h-96 opacity-100 p-6 pt-0 border-t border-slate-50`:`max-h-0 opacity-0 overflow-hidden`}`,children:(0,$.jsx)(`p`,{className:`text-slate-600 leading-relaxed text-sm`,children:n.a})})]},r)):(0,$.jsx)(`div`,{className:`text-center py-12 text-slate-500 font-medium`,children:`No matching questions found. Try a different keyword.`})}),(0,$.jsxs)(`div`,{className:`mt-16 bg-slate-900 rounded-3xl p-8 md:p-12 text-center text-white`,children:[(0,$.jsx)(`h3`,{className:`text-2xl font-bold mb-2`,children:`Still have questions?`}),(0,$.jsx)(`p`,{className:`text-slate-400 mb-8`,children:`Can't find the answer you're looking for? Please chat with our friendly team.`}),(0,$.jsx)(`a`,{href:`/contact`,className:`inline-flex bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-lg shadow-indigo-500/20`,children:`Get in Touch`})]})]})}function fS(){let[e,t]=(0,_.useState)(!1),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)(``),[o,s]=(0,_.useState)({name:``,phone:``,email:``,message:``});return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-12 max-w-6xl font-sans text-slate-900`,children:[(0,$.jsx)(uS,{eyebrow:`Contact Us`,title:`Talk to our water experts`,subtitle:`Get installation help, service updates, and 24/7 order support.`}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-5 gap-12 mt-8`,children:[(0,$.jsx)(`div`,{className:`lg:col-span-2 space-y-8`,children:(0,$.jsxs)(`div`,{className:`bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-8`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold text-slate-900 mb-2`,children:`Get in touch`}),(0,$.jsx)(`p`,{className:`text-slate-500 text-sm leading-relaxed`,children:`We're here to help with everything from product choice to installation booking and maintenance scheduling.`}),(0,$.jsxs)(`div`,{className:`space-y-6`,children:[(0,$.jsxs)(`div`,{className:`flex items-start gap-4`,children:[(0,$.jsx)(`div`,{className:`w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 flex-shrink-0`,children:(0,$.jsx)(Cr,{className:`w-5 h-5`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wide`,children:`Call Us`}),(0,$.jsx)(`p`,{className:`font-bold text-slate-900`,children:bx.phonePrimary}),(0,$.jsx)(`p`,{className:`text-sm text-slate-600`,children:bx.phoneSecondary})]})]}),(0,$.jsxs)(`div`,{className:`flex items-start gap-4`,children:[(0,$.jsx)(`div`,{className:`w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 flex-shrink-0`,children:(0,$.jsx)(hr,{className:`w-5 h-5`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wide`,children:`Email Us`}),(0,$.jsx)(`p`,{className:`font-bold text-slate-900`,children:bx.emailPrimary}),(0,$.jsx)(`p`,{className:`text-sm text-slate-600`,children:bx.emailSecondary})]})]}),(0,$.jsxs)(`div`,{className:`flex items-start gap-4`,children:[(0,$.jsx)(`div`,{className:`w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 flex-shrink-0`,children:(0,$.jsx)(gr,{className:`w-5 h-5`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`p`,{className:`text-xs font-bold text-slate-400 uppercase tracking-wide`,children:`Office`}),(0,$.jsx)(`p`,{className:`font-bold text-slate-900`,children:bx.addressLine1}),(0,$.jsx)(`p`,{className:`text-sm text-slate-600`,children:bx.addressLine2}),(0,$.jsx)(`p`,{className:`text-sm text-slate-600`,children:bx.addressLine3}),(0,$.jsxs)(`p`,{className:`text-xs text-slate-500 mt-1`,children:[`GSTIN: `,bx.gstin]})]})]})]}),(0,$.jsx)(`div`,{className:`pt-8 border-t border-slate-100`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-2 text-green-600 bg-green-50 px-4 py-2 rounded-lg text-sm font-bold`,children:[(0,$.jsx)(ar,{className:`w-4 h-4`}),` Available Mon-Sat, 9 AM - 8 PM`]})})]})}),(0,$.jsx)(`div`,{className:`lg:col-span-3`,children:(0,$.jsx)(`div`,{className:`bg-white p-8 md:p-10 rounded-3xl border border-slate-100 shadow-xl shadow-slate-200/50`,children:n?(0,$.jsxs)(`div`,{className:`text-center py-12`,children:[(0,$.jsx)(`div`,{className:`w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6`,children:(0,$.jsx)(Dr,{className:`w-10 h-10`})}),(0,$.jsx)(`h3`,{className:`text-2xl font-bold text-slate-900 mb-2`,children:`Request Submitted!`}),(0,$.jsx)(`p`,{className:`text-slate-500 mb-8`,children:`One of our water experts will call you back within 60 minutes.`}),(0,$.jsx)(`button`,{onClick:()=>r(!1),className:`text-indigo-600 font-bold hover:underline`,children:`Send another request`})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold text-slate-900 mb-1 flex items-center gap-2`,children:[(0,$.jsx)(vr,{className:`w-5 h-5 text-indigo-600`}),` Request a Callback`]}),(0,$.jsx)(`p`,{className:`text-slate-500 text-sm mb-8`,children:`Leave your details and we'll get back to you shortly.`}),(0,$.jsxs)(`form`,{className:`space-y-4`,onSubmit:async e=>{e.preventDefault(),a(``),t(!0);try{await ig(Km(ox,`feedback`),{customerName:o.name.trim(),phone:o.phone.trim(),email:o.email.trim(),message:o.message.trim(),source:`website_contact`,status:`open`,rating:0,userId:ax.currentUser?.uid||``,createdAt:ug(),updatedAt:ug()}),t(!1),r(!0),s({name:``,phone:``,email:``,message:``})}catch{t(!1),a(`Unable to submit now. Please try again in a minute.`)}},children:[i&&(0,$.jsx)(`div`,{className:`rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700`,children:i}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,$.jsx)(`input`,{placeholder:`Full name`,value:o.name,onChange:e=>s(t=>({...t,name:e.target.value})),required:!0,className:`w-full p-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`}),(0,$.jsx)(`input`,{placeholder:`Phone number`,value:o.phone,onChange:e=>s(t=>({...t,phone:e.target.value})),required:!0,className:`w-full p-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`})]}),(0,$.jsx)(`input`,{placeholder:`Email address (Optional)`,type:`email`,value:o.email,onChange:e=>s(t=>({...t,email:e.target.value})),className:`w-full p-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all`}),(0,$.jsx)(`textarea`,{rows:`4`,placeholder:`Tell us about your water needs (e.g., Hard water problem, RO service required)`,value:o.message,onChange:e=>s(t=>({...t,message:e.target.value})),required:!0,className:`w-full p-4 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all resize-none`}),(0,$.jsx)(`button`,{className:`w-full py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-xl font-bold text-lg shadow-xl shadow-slate-200 transition-all flex items-center justify-center gap-2 disabled:bg-slate-400`,type:`submit`,disabled:e,children:e?(0,$.jsx)(fr,{className:`w-6 h-6 animate-spin`}):(0,$.jsxs)($.Fragment,{children:[`Send Request `,(0,$.jsx)(Dr,{className:`w-4 h-4`})]})})]})]})})})]})]})}function pS(){return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-12 max-w-5xl font-sans text-slate-900`,children:[(0,$.jsx)(uS,{eyebrow:`Legal`,title:`Terms of Service`,subtitle:`Please review the terms that govern your use of A1 Water Tech services.`}),(0,$.jsxs)(`div`,{className:`mt-8 bg-white border border-slate-100 rounded-2xl p-6 md:p-8 space-y-6 text-sm leading-7 text-slate-700`,children:[(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`1. Use of Services`}),(0,$.jsx)(`p`,{children:`By placing orders or booking services through this website, you agree to provide accurate details and comply with applicable laws.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`2. Pricing and Billing`}),(0,$.jsx)(`p`,{children:`Prices shown are inclusive of applicable taxes unless stated otherwise. Final billing details are shown at checkout and in your invoice.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`3. Orders and Cancellations`}),(0,$.jsx)(`p`,{children:`Orders and service requests are subject to availability and operational confirmation. Cancellation and rescheduling may be limited once processing starts.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`4. Warranty and Service Scope`}),(0,$.jsx)(`p`,{children:`Product warranty and service-plan coverage depend on the selected model/plan and the terms specified at purchase time.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`5. Contact`}),(0,$.jsxs)(`p`,{children:[`For legal or billing clarifications, contact support at `,(0,$.jsx)(`span`,{className:`font-semibold`,children:bx.emailPrimary}),`.`]})]})]})]})}function mS(){return(0,$.jsxs)(`div`,{className:`container mx-auto px-4 py-12 max-w-5xl font-sans text-slate-900`,children:[(0,$.jsx)(uS,{eyebrow:`Legal`,title:`Privacy Policy`,subtitle:`How A1 Water Tech collects, uses, and protects your data.`}),(0,$.jsxs)(`div`,{className:`mt-8 bg-white border border-slate-100 rounded-2xl p-6 md:p-8 space-y-6 text-sm leading-7 text-slate-700`,children:[(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`1. Information We Collect`}),(0,$.jsx)(`p`,{children:`We collect basic profile, order, address, and booking information needed to process purchases and provide support.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`2. How We Use Data`}),(0,$.jsx)(`p`,{children:`Data is used for order fulfillment, service scheduling, billing, and customer communication.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`3. Data Security`}),(0,$.jsx)(`p`,{children:`We use authenticated access controls and cloud security practices to protect account and transaction data.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`4. Data Sharing`}),(0,$.jsx)(`p`,{children:`We do not sell personal data. Information is shared only when needed for service delivery, legal compliance, or payment processing.`})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`h2`,{className:`text-lg font-bold text-slate-900 mb-2`,children:`5. Contact`}),(0,$.jsxs)(`p`,{children:[`For privacy requests, contact `,(0,$.jsx)(`span`,{className:`font-semibold`,children:bx.emailPrimary}),`.`]})]})]})]})}function hS(){return(0,$.jsxs)(`div`,{className:`min-h-screen flex flex-col font-sans bg-slate-50 text-slate-900`,children:[(0,$.jsx)(xx,{}),(0,$.jsx)(Ex,{}),(0,$.jsx)(`main`,{className:`flex-1`,children:(0,$.jsxs)(Rt,{children:[(0,$.jsx)(It,{path:`/`,element:(0,$.jsx)(Bx,{})}),(0,$.jsx)(It,{path:`/shop`,element:(0,$.jsx)(Hx,{})}),(0,$.jsx)(It,{path:`/shop/:id`,element:(0,$.jsx)(Ux,{})}),(0,$.jsx)(It,{path:`/cart`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(Wx,{})})}),(0,$.jsx)(It,{path:`/checkout`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(Kx,{})})}),(0,$.jsx)(It,{path:`/order-confirmation/:id`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(lS,{})})}),(0,$.jsx)(It,{path:`/login`,element:(0,$.jsx)(Jx,{})}),(0,$.jsx)(It,{path:`/profile`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(Zx,{})})}),(0,$.jsx)(It,{path:`/orders`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(rS,{})})}),(0,$.jsx)(It,{path:`/track`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(aS,{})})}),(0,$.jsx)(It,{path:`/bookings`,element:(0,$.jsx)(Yx,{children:(0,$.jsx)(cS,{})})}),(0,$.jsx)(It,{path:`/faq`,element:(0,$.jsx)(dS,{})}),(0,$.jsx)(It,{path:`/contact`,element:(0,$.jsx)(fS,{})}),(0,$.jsx)(It,{path:`/terms`,element:(0,$.jsx)(pS,{})}),(0,$.jsx)(It,{path:`/privacy`,element:(0,$.jsx)(mS,{})}),(0,$.jsx)(It,{path:`*`,element:(0,$.jsx)(qx,{})})]})}),(0,$.jsx)(Sx,{})]})}var gS=hS;(0,g.createRoot)(document.getElementById(`root`)).render((0,$.jsx)(_.StrictMode,{children:(0,$.jsx)(En,{children:(0,$.jsx)(lx,{children:(0,$.jsx)(wx,{children:(0,$.jsx)(_x,{children:(0,$.jsx)(gS,{})})})})})}));export{ya as a,Ei as c,Ui as d,Ai as f,Si as g,xi as h,_o as i,Ti as l,_i as m,co as n,ea as o,k as p,go as r,A as s,lo as t,Ci as u};